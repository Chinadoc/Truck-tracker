var lT=n=>{throw TypeError(n)};var n0=(n,t,e)=>t.has(n)||lT("Cannot "+e);var Qe=(n,t,e)=>(n0(n,t,"read from private field"),e?e.call(n):t.get(n)),ba=(n,t,e)=>t.has(n)?lT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Fi=(n,t,e,i)=>(n0(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),_a=(n,t,e)=>(n0(n,t,"access private method"),e);var cT=(n,t,e,i)=>({set _(r){Fi(n,t,r,e)},get _(){return Qe(n,t,i)}});function KR(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function Ra(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var i0={exports:{}},Dh={};var uT;function QR(){if(uT)return Dh;uT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:s}}return Dh.Fragment=t,Dh.jsx=e,Dh.jsxs=e,Dh}var hT;function JR(){return hT||(hT=1,i0.exports=QR()),i0.exports}var T=JR(),r0={exports:{}},ie={};var dT;function tI(){if(dT)return ie;dT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function O(H,it,dt){this.props=H,this.context=it,this.refs=C,this.updater=dt||A}O.prototype.isReactComponent={},O.prototype.setState=function(H,it){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,it,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=O.prototype;function k(H,it,dt){this.props=H,this.context=it,this.refs=C,this.updater=dt||A}var j=k.prototype=new N;j.constructor=k,S(j,O.prototype),j.isPureReactComponent=!0;var z=Array.isArray;function R(){}var F={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function J(H,it,dt){var bt=dt.ref;return{$$typeof:n,type:H,key:it,ref:bt!==void 0?bt:null,props:dt}}function ct(H,it){return J(H.type,it,H.props)}function et(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function Z(H){var it={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(dt){return it[dt]})}var Ct=/\/+/g;function _t(H,it){return typeof H=="object"&&H!==null&&H.key!=null?Z(""+H.key):it.toString(36)}function kt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(R,R):(H.status="pending",H.then(function(it){H.status==="pending"&&(H.status="fulfilled",H.value=it)},function(it){H.status==="pending"&&(H.status="rejected",H.reason=it)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function G(H,it,dt,bt,Q){var Tt=typeof H;(Tt==="undefined"||Tt==="boolean")&&(H=null);var Dt=!1;if(H===null)Dt=!0;else switch(Tt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(H.$$typeof){case n:case t:Dt=!0;break;case p:return Dt=H._init,G(Dt(H._payload),it,dt,bt,Q)}}if(Dt)return Q=Q(H),Dt=bt===""?"."+_t(H,0):bt,z(Q)?(dt="",Dt!=null&&(dt=Dt.replace(Ct,"$&/")+"/"),G(Q,it,dt,"",function(Wt){return Wt})):Q!=null&&(et(Q)&&(Q=ct(Q,dt+(Q.key==null||H&&H.key===Q.key?"":(""+Q.key).replace(Ct,"$&/")+"/")+Dt)),it.push(Q)),1;Dt=0;var Qt=bt===""?".":bt+":";if(z(H))for(var ht=0;ht<H.length;ht++)bt=H[ht],Tt=Qt+_t(bt,ht),Dt+=G(bt,it,dt,Tt,Q);else if(ht=x(H),typeof ht=="function")for(H=ht.call(H),ht=0;!(bt=H.next()).done;)bt=bt.value,Tt=Qt+_t(bt,ht++),Dt+=G(bt,it,dt,Tt,Q);else if(Tt==="object"){if(typeof H.then=="function")return G(kt(H),it,dt,bt,Q);throw it=String(H),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function K(H,it,dt){if(H==null)return H;var bt=[],Q=0;return G(H,bt,"","",function(Tt){return it.call(dt,Tt,Q++)}),bt}function V(H){if(H._status===-1){var it=H._result;it=it(),it.then(function(dt){(H._status===0||H._status===-1)&&(H._status=1,H._result=dt)},function(dt){(H._status===0||H._status===-1)&&(H._status=2,H._result=dt)}),H._status===-1&&(H._status=0,H._result=it)}if(H._status===1)return H._result.default;throw H._result}var Pt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},yt={map:K,forEach:function(H,it,dt){K(H,function(){it.apply(this,arguments)},dt)},count:function(H){var it=0;return K(H,function(){it++}),it},toArray:function(H){return K(H,function(it){return it})||[]},only:function(H){if(!et(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ie.Activity=v,ie.Children=yt,ie.Component=O,ie.Fragment=e,ie.Profiler=r,ie.PureComponent=k,ie.StrictMode=i,ie.Suspense=d,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ie.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},ie.cache=function(H){return function(){return H.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(H,it,dt){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var bt=S({},H.props),Q=H.key;if(it!=null)for(Tt in it.key!==void 0&&(Q=""+it.key),it)!q.call(it,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&it.ref===void 0||(bt[Tt]=it[Tt]);var Tt=arguments.length-2;if(Tt===1)bt.children=dt;else if(1<Tt){for(var Dt=Array(Tt),Qt=0;Qt<Tt;Qt++)Dt[Qt]=arguments[Qt+2];bt.children=Dt}return J(H.type,Q,bt)},ie.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},ie.createElement=function(H,it,dt){var bt,Q={},Tt=null;if(it!=null)for(bt in it.key!==void 0&&(Tt=""+it.key),it)q.call(it,bt)&&bt!=="key"&&bt!=="__self"&&bt!=="__source"&&(Q[bt]=it[bt]);var Dt=arguments.length-2;if(Dt===1)Q.children=dt;else if(1<Dt){for(var Qt=Array(Dt),ht=0;ht<Dt;ht++)Qt[ht]=arguments[ht+2];Q.children=Qt}if(H&&H.defaultProps)for(bt in Dt=H.defaultProps,Dt)Q[bt]===void 0&&(Q[bt]=Dt[bt]);return J(H,Tt,Q)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(H){return{$$typeof:u,render:H}},ie.isValidElement=et,ie.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:V}},ie.memo=function(H,it){return{$$typeof:f,type:H,compare:it===void 0?null:it}},ie.startTransition=function(H){var it=F.T,dt={};F.T=dt;try{var bt=H(),Q=F.S;Q!==null&&Q(dt,bt),typeof bt=="object"&&bt!==null&&typeof bt.then=="function"&&bt.then(R,Pt)}catch(Tt){Pt(Tt)}finally{it!==null&&dt.types!==null&&(it.types=dt.types),F.T=it}},ie.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ie.use=function(H){return F.H.use(H)},ie.useActionState=function(H,it,dt){return F.H.useActionState(H,it,dt)},ie.useCallback=function(H,it){return F.H.useCallback(H,it)},ie.useContext=function(H){return F.H.useContext(H)},ie.useDebugValue=function(){},ie.useDeferredValue=function(H,it){return F.H.useDeferredValue(H,it)},ie.useEffect=function(H,it){return F.H.useEffect(H,it)},ie.useEffectEvent=function(H){return F.H.useEffectEvent(H)},ie.useId=function(){return F.H.useId()},ie.useImperativeHandle=function(H,it,dt){return F.H.useImperativeHandle(H,it,dt)},ie.useInsertionEffect=function(H,it){return F.H.useInsertionEffect(H,it)},ie.useLayoutEffect=function(H,it){return F.H.useLayoutEffect(H,it)},ie.useMemo=function(H,it){return F.H.useMemo(H,it)},ie.useOptimistic=function(H,it){return F.H.useOptimistic(H,it)},ie.useReducer=function(H,it,dt){return F.H.useReducer(H,it,dt)},ie.useRef=function(H){return F.H.useRef(H)},ie.useState=function(H){return F.H.useState(H)},ie.useSyncExternalStore=function(H,it,dt){return F.H.useSyncExternalStore(H,it,dt)},ie.useTransition=function(){return F.H.useTransition()},ie.version="19.2.4",ie}var fT;function gu(){return fT||(fT=1,r0.exports=tI()),r0.exports}var D=gu();const rd=Ra(D),eI=KR({__proto__:null,default:rd},[D]);var a0={exports:{}},kh={},s0={exports:{}},o0={};var pT;function nI(){return pT||(pT=1,(function(n){function t(G,K){var V=G.length;G.push(K);t:for(;0<V;){var Pt=V-1>>>1,yt=G[Pt];if(0<r(yt,K))G[Pt]=K,G[V]=yt,V=Pt;else break t}}function e(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var K=G[0],V=G.pop();if(V!==K){G[0]=V;t:for(var Pt=0,yt=G.length,H=yt>>>1;Pt<H;){var it=2*(Pt+1)-1,dt=G[it],bt=it+1,Q=G[bt];if(0>r(dt,V))bt<yt&&0>r(Q,dt)?(G[Pt]=Q,G[bt]=V,Pt=bt):(G[Pt]=dt,G[it]=V,Pt=it);else if(bt<yt&&0>r(Q,V))G[Pt]=Q,G[bt]=V,Pt=bt;else break t}}return K}function r(G,K){var V=G.sortIndex-K.sortIndex;return V!==0?V:G.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,v=null,y=3,x=!1,A=!1,S=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(G){for(var K=e(f);K!==null;){if(K.callback===null)i(f);else if(K.startTime<=G)i(f),K.sortIndex=K.expirationTime,t(d,K);else break;K=e(f)}}function z(G){if(S=!1,j(G),!A)if(e(d)!==null)A=!0,R||(R=!0,Z());else{var K=e(f);K!==null&&kt(z,K.startTime-G)}}var R=!1,F=-1,q=5,J=-1;function ct(){return C?!0:!(n.unstable_now()-J<q)}function et(){if(C=!1,R){var G=n.unstable_now();J=G;var K=!0;try{t:{A=!1,S&&(S=!1,N(F),F=-1),x=!0;var V=y;try{e:{for(j(G),v=e(d);v!==null&&!(v.expirationTime>G&&ct());){var Pt=v.callback;if(typeof Pt=="function"){v.callback=null,y=v.priorityLevel;var yt=Pt(v.expirationTime<=G);if(G=n.unstable_now(),typeof yt=="function"){v.callback=yt,j(G),K=!0;break e}v===e(d)&&i(d),j(G)}else i(d);v=e(d)}if(v!==null)K=!0;else{var H=e(f);H!==null&&kt(z,H.startTime-G),K=!1}}break t}finally{v=null,y=V,x=!1}K=void 0}}finally{K?Z():R=!1}}}var Z;if(typeof k=="function")Z=function(){k(et)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,_t=Ct.port2;Ct.port1.onmessage=et,Z=function(){_t.postMessage(null)}}else Z=function(){O(et,0)};function kt(G,K){F=O(function(){G(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(G){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var V=y;y=K;try{return G()}finally{y=V}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var V=y;y=G;try{return K()}finally{y=V}},n.unstable_scheduleCallback=function(G,K,V){var Pt=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Pt+V:Pt):V=Pt,G){case 1:var yt=-1;break;case 2:yt=250;break;case 5:yt=1073741823;break;case 4:yt=1e4;break;default:yt=5e3}return yt=V+yt,G={id:p++,callback:K,priorityLevel:G,startTime:V,expirationTime:yt,sortIndex:-1},V>Pt?(G.sortIndex=V,t(f,G),e(d)===null&&G===e(f)&&(S?(N(F),F=-1):S=!0,kt(z,V-Pt))):(G.sortIndex=yt,t(d,G),A||x||(A=!0,R||(R=!0,Z()))),G},n.unstable_shouldYield=ct,n.unstable_wrapCallback=function(G){var K=y;return function(){var V=y;y=K;try{return G.apply(this,arguments)}finally{y=V}}}})(o0)),o0}var mT;function iI(){return mT||(mT=1,s0.exports=nI()),s0.exports}var l0={exports:{}},fi={};var gT;function rI(){if(gT)return fi;gT=1;var n=gu();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(d,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fi.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,p)},fi.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},fi.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},fi.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},fi.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:x}):p==="script"&&i.d.X(d,{crossOrigin:v,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fi.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},fi.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fi.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},fi.requestFormReset=function(d){i.d.r(d)},fi.unstable_batchedUpdates=function(d,f){return d(f)},fi.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},fi.useFormStatus=function(){return l.H.useHostTransitionStatus()},fi.version="19.2.4",fi}var vT;function XM(){if(vT)return l0.exports;vT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),l0.exports=rI(),l0.exports}var yT;function aI(){if(yT)return kh;yT=1;var n=iI(),t=gu(),e=XM();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,h=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(h=o.return),a=o.return;while(a)}return o.tag===3?h:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(i(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(i(188));return o!==a?null:a}for(var h=a,g=o;;){var _=h.return;if(_===null)break;var w=_.alternate;if(w===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===h)return d(_),a;if(w===g)return d(_),o;w=w.sibling}throw Error(i(188))}if(h.return!==g.return)h=_,g=w;else{for(var P=!1,B=_.child;B;){if(B===h){P=!0,h=_,g=w;break}if(B===g){P=!0,g=_,h=w;break}B=B.sibling}if(!P){for(B=w.child;B;){if(B===h){P=!0,h=w,g=_;break}if(B===g){P=!0,g=w,h=_;break}B=B.sibling}if(!P)throw Error(i(189))}}if(h.alternate!==g)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=et&&a[et]||a["@@iterator"],typeof a=="function"?a:null)}var Ct=Symbol.for("react.client.reference");function _t(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Ct?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case z:return"Suspense";case R:return"SuspenseList";case J:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case k:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case j:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case F:return o=a.displayName||null,o!==null?o:_t(a.type)||"Memo";case q:o=a._payload,a=a._init;try{return _t(a(o))}catch{}}return null}var kt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Pt=[],yt=-1;function H(a){return{current:a}}function it(a){0>yt||(a.current=Pt[yt],Pt[yt]=null,yt--)}function dt(a,o){yt++,Pt[yt]=a.current,a.current=o}var bt=H(null),Q=H(null),Tt=H(null),Dt=H(null);function Qt(a,o){switch(dt(Tt,o),dt(Q,a),dt(bt,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?DA(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=DA(o),a=kA(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}it(bt),dt(bt,a)}function ht(){it(bt),it(Q),it(Tt)}function Wt(a){a.memoizedState!==null&&dt(Dt,a);var o=bt.current,h=kA(o,a.type);o!==h&&(dt(Q,a),dt(bt,h))}function Zt(a){Q.current===a&&(it(bt),it(Q)),Dt.current===a&&(it(Dt),Ch._currentValue=V)}var xt,U;function Y(a){if(xt===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);xt=o&&o[1]||"",U=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+a+U}var pt=!1;function At(a,o){if(!a||pt)return"";pt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(ut){var ot=ut}Reflect.construct(a,[],vt)}else{try{vt.call()}catch(ut){ot=ut}a.call(vt.prototype)}}else{try{throw Error()}catch(ut){ot=ut}(vt=a())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(ut){if(ut&&ot&&typeof ut.stack=="string")return[ut.stack,ot.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),P=w[0],B=w[1];if(P&&B){var W=P.split(`
`),at=B.split(`
`);for(_=g=0;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;for(;_<at.length&&!at[_].includes("DetermineComponentFrameRoot");)_++;if(g===W.length||_===at.length)for(g=W.length-1,_=at.length-1;1<=g&&0<=_&&W[g]!==at[_];)_--;for(;1<=g&&0<=_;g--,_--)if(W[g]!==at[_]){if(g!==1||_!==1)do if(g--,_--,0>_||W[g]!==at[_]){var ft=`
`+W[g].replace(" at new "," at ");return a.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",a.displayName)),ft}while(1<=g&&0<=_);break}}}finally{pt=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Y(h):""}function wt(a,o){switch(a.tag){case 26:case 27:case 5:return Y(a.type);case 16:return Y("Lazy");case 13:return a.child!==o&&o!==null?Y("Suspense Fallback"):Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return At(a.type,!1);case 11:return At(a.type.render,!1);case 1:return At(a.type,!0);case 31:return Y("Activity");default:return""}}function Et(a){try{var o="",h=null;do o+=wt(a,h),h=a,a=a.return;while(a);return o}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Gt=Object.prototype.hasOwnProperty,Jt=n.unstable_scheduleCallback,qt=n.unstable_cancelCallback,Yt=n.unstable_shouldYield,Kt=n.unstable_requestPaint,fe=n.unstable_now,St=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,Xe=n.unstable_UserBlockingPriority,le=n.unstable_NormalPriority,ui=n.unstable_LowPriority,Yi=n.unstable_IdlePriority,na=n.log,Ls=n.unstable_setDisableYieldValue,Rr=null,En=null;function Xi(a){if(typeof na=="function"&&Ls(a),En&&typeof En.setStrictMode=="function")try{En.setStrictMode(Rr,a)}catch{}}var gi=Math.clz32?Math.clz32:lv,Do=Math.log,ov=Math.LN2;function lv(a){return a>>>=0,a===0?32:31-(Do(a)/ov|0)|0}var ko=256,Lo=262144,No=4194304;function Ia(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Zl(a,o,h){var g=a.pendingLanes;if(g===0)return 0;var _=0,w=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var B=g&134217727;return B!==0?(g=B&~w,g!==0?_=Ia(g):(P&=B,P!==0?_=Ia(P):h||(h=B&~a,h!==0&&(_=Ia(h))))):(B=g&~w,B!==0?_=Ia(B):P!==0?_=Ia(P):h||(h=g&~a,h!==0&&(_=Ia(h)))),_===0?0:o!==0&&o!==_&&(o&w)===0&&(w=_&-_,h=o&-o,w>=h||w===32&&(h&4194048)!==0)?o:_}function jo(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function cv(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vd(){var a=No;return No<<=1,(No&62914560)===0&&(No=4194304),a}function Mu(a){for(var o=[],h=0;31>h;h++)o.push(a);return o}function za(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function uv(a,o,h,g,_,w){var P=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var B=a.entanglements,W=a.expirationTimes,at=a.hiddenUpdates;for(h=P&~h;0<h;){var ft=31-gi(h),vt=1<<ft;B[ft]=0,W[ft]=-1;var ot=at[ft];if(ot!==null)for(at[ft]=null,ft=0;ft<ot.length;ft++){var ut=ot[ft];ut!==null&&(ut.lane&=-536870913)}h&=~vt}g!==0&&Yd(a,g,0),w!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=w&~(P&~o))}function Yd(a,o,h){a.pendingLanes|=o,a.suspendedLanes&=~o;var g=31-gi(o);a.entangledLanes|=o,a.entanglements[g]=a.entanglements[g]|1073741824|h&261930}function Xd(a,o){var h=a.entangledLanes|=o;for(a=a.entanglements;h;){var g=31-gi(h),_=1<<g;_&o|a[g]&o&&(a[g]|=o),h&=~_}}function Zd(a,o){var h=o&-o;return h=(h&42)!==0?1:Oi(h),(h&(a.suspendedLanes|o))!==0?0:h}function Oi(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function zt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Pu(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:eT(a.type))}function Du(a,o){var h=K.p;try{return K.p=a,o()}finally{K.p=h}}var Ir=Math.random().toString(36).slice(2),vn="__reactFiber$"+Ir,Rn="__reactProps$"+Ir,Ba="__reactContainer$"+Ir,ia="__reactEvents$"+Ir,Kd="__reactListeners$"+Ir,hv="__reactHandles$"+Ir,Qd="__reactResources$"+Ir,Ro="__reactMarker$"+Ir;function ku(a){delete a[vn],delete a[Rn],delete a[ia],delete a[Kd],delete a[hv]}function Fa(a){var o=a[vn];if(o)return o;for(var h=a.parentNode;h;){if(o=h[Ba]||h[vn]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(a=BA(a);a!==null;){if(h=a[vn])return h;a=BA(a)}return o}a=h,h=a.parentNode}return null}function Ns(a){if(a=a[vn]||a[Ba]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ra(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function js(a){var o=a[Qd];return o||(o=a[Qd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yn(a){a[Ro]=!0}var Jd=new Set,tf={};function Ua(a,o){aa(a,o),aa(a+"Capture",o)}function aa(a,o){for(tf[a]=o,a=0;a<o.length;a++)Jd.add(o[a])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},Nu={};function zo(a){return Gt.call(Nu,a)?!0:Gt.call(Lu,a)?!1:Io.test(a)?Nu[a]=!0:(Lu[a]=!0,!1)}function ce(a,o,h){if(zo(o))if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+h)}}function Ne(a,o,h){if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+h)}}function Mi(a,o,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(o,h,""+g)}}function Cn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ha(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ju(a,o,h){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,w=g.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return _.call(this)},set:function(P){h=""+P,w.call(this,P)}}),Object.defineProperty(a,o,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ne(a){if(!a._valueTracker){var o=Ha(a)?"checked":"value";a._valueTracker=ju(a,o,""+a[o])}}function Ze(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var h=o.getValue(),g="";return a&&(g=Ha(a)?a.checked?"true":"false":a.value),a=g,a!==h?(o.setValue(a),!0):!1}function Rs(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Kl=/[\n"\\]/g;function We(a){return a.replace(Kl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ru(a,o,h,g,_,w,P,B){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),o!=null?P==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Cn(o)):a.value!==""+Cn(o)&&(a.value=""+Cn(o)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),o!=null?zr(a,P,Cn(o)):h!=null?zr(a,P,Cn(h)):g!=null&&a.removeAttribute("value"),_==null&&w!=null&&(a.defaultChecked=!!w),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.name=""+Cn(B):a.removeAttribute("name")}function Bo(a,o,h,g,_,w,P,B){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){ne(a);return}h=h!=null?""+Cn(h):"",o=o!=null?""+Cn(o):h,B||o===a.value||(a.value=o),a.defaultValue=o}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=B?a.checked:!!g,a.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),ne(a)}function zr(a,o,h){o==="number"&&Rs(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Fe(a,o,h,g){if(a=a.options,o){o={};for(var _=0;_<h.length;_++)o["$"+h[_]]=!0;for(h=0;h<a.length;h++)_=o.hasOwnProperty("$"+a[h].value),a[h].selected!==_&&(a[h].selected=_),_&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Cn(h),o=null,_=0;_<a.length;_++){if(a[_].value===h){a[_].selected=!0,g&&(a[_].defaultSelected=!0);return}o!==null||a[_].disabled||(o=a[_])}o!==null&&(o.selected=!0)}}function sa(a,o,h){if(o!=null&&(o=""+Cn(o),o!==a.value&&(a.value=o),h==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=h!=null?""+Cn(h):""}function Is(a,o,h,g){if(o==null){if(g!=null){if(h!=null)throw Error(i(92));if(kt(g)){if(1<g.length)throw Error(i(93));g=g[0]}h=g}h==null&&(h=""),o=h}h=Cn(o),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g),ne(a)}function dr(a,o){if(o){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=o;return}}a.textContent=o}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(a,o,h){var g=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":g?a.setProperty(o,h):typeof h!="number"||h===0||Iu.has(o)?o==="float"?a.cssFloat=h:a[o]=(""+h).trim():a[o]=h+"px"}function Ql(a,o,h){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var _ in o)g=o[_],o.hasOwnProperty(_)&&h[_]!==g&&zs(a,_,g)}else for(var w in o)o.hasOwnProperty(w)&&zs(a,w,o[w])}function Fo(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(a){return zu.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Pi(){}var tc=null;function Uo(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Fs=null,Xt=null;function Zi(a){var o=Ns(a);if(o&&(a=o.stateNode)){var h=a[Rn]||null;t:switch(a=o.stateNode,o.type){case"input":if(Ru(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+We(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var g=h[o];if(g!==a&&g.form===a.form){var _=g[Rn]||null;if(!_)throw Error(i(90));Ru(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<h.length;o++)g=h[o],g.form===a.form&&Ze(g)}break t;case"textarea":sa(a,h.value,h.defaultValue);break t;case"select":o=h.value,o!=null&&Fe(a,!!h.multiple,o,!1)}}}var Pe=!1;function Bu(a,o,h){if(Pe)return a(o,h);Pe=!0;try{var g=a(o);return g}finally{if(Pe=!1,(Fs!==null||Xt!==null)&&(Kf(),Fs&&(o=Fs,a=Xt,Xt=Fs=null,Zi(o),a)))for(o=0;o<a.length;o++)Zi(a[o])}}function $a(a,o){var h=a.stateNode;if(h===null)return null;var g=h[Rn]||null;if(g===null)return null;h=g[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,o,typeof h));return h}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(Ki)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Ho=!1}var fr=null,qa=null,on=null;function oa(){if(on)return on;var a,o=qa,h=o.length,g,_="value"in fr?fr.value:fr.textContent,w=_.length;for(a=0;a<h&&o[a]===_[a];a++);var P=h-a;for(g=1;g<=P&&o[h-g]===_[w-g];g++);return on=_.slice(a,1<g?1-g:void 0)}function $o(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function qo(){return!0}function ef(){return!1}function Kn(a){function o(h,g,_,w,P){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(h=a[B],this[B]=h?h(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?qo:ef,this.isPropagationStopped=ef,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),o}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=Kn(Br),Us=v({},Br,{view:0,detail:0}),pe=Kn(Us),Fu,vi,Fr,Go=v({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fr&&(Fr&&a.type==="mousemove"?(Fu=a.screenX-Fr.screenX,vi=a.screenY-Fr.screenY):vi=Fu=0,Fr=a),Fu)},movementY:function(a){return"movementY"in a?a.movementY:vi}}),nf=Kn(Go),Uu=v({},Go,{dataTransfer:0}),dv=Kn(Uu),rf=v({},Us,{relatedTarget:0}),Hu=Kn(rf),fv=v({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),$u=Kn(fv),pv=v({},Br,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),pr=Kn(pv),mv=v({},Br,{data:0}),qu=Kn(mv),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=sf[a])?!!o[a]:!1}function Wu(){return Gu}var of=v({},Us,{key:function(a){if(a.key){var o=la[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=$o(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?af[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wu,charCode:function(a){return a.type==="keypress"?$o(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?$o(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),lf=Kn(of),gv=v({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cf=Kn(gv),Vu=v({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wu}),vv=Kn(Vu),uf=v({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),hf=Kn(uf),nc=v({},Go,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Kn(nc),yv=v({},Br,{newState:0,oldState:0}),Wo=Kn(yv),Di=[9,13,27,32],ic=Ki&&"CompositionEvent"in window,Hs=null;Ki&&"documentMode"in document&&(Hs=document.documentMode);var bv=Ki&&"TextEvent"in window&&!Hs,rc=Ki&&(!ic||Hs&&8<Hs&&11>=Hs),ac=" ",df=!1;function ff(a,o){switch(a){case"keyup":return Di.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $s=!1;function Ji(a,o){switch(a){case"compositionend":return Yu(o);case"keypress":return o.which!==32?null:(df=!0,ac);case"textInput":return a=o.data,a===ac&&df?null:a;default:return null}}function qs(a,o){if($s)return a==="compositionend"||!ic&&ff(a,o)?(a=oa(),on=qa=fr=null,$s=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return rc&&o.locale!=="ko"?null:o.data;default:return null}}var _v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!_v[a.type]:o==="textarea"}function pf(a,o,h,g){Fs?Xt?Xt.push(g):Xt=[g]:Fs=g,o=rp(o,"onChange"),0<o.length&&(h=new ec("onChange","change",null,h,g),a.push({event:h,listeners:o}))}var gr=null,Vo=null;function Yo(a){TA(a,0)}function Xo(a){var o=ra(a);if(Ze(o))return a}function Zo(a,o){if(a==="change")return o}var mf=!1;if(Ki){var vr;if(Ki){var Gs="oninput"in document;if(!Gs){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),Gs=typeof gf.oninput=="function"}vr=Gs}else vr=!1;mf=vr&&(!document.documentMode||9<document.documentMode)}function sc(){gr&&(gr.detachEvent("onpropertychange",vf),Vo=gr=null)}function vf(a){if(a.propertyName==="value"&&Xo(Vo)){var o=[];pf(o,Vo,a,Uo(a)),Bu(Yo,o)}}function Ur(a,o,h){a==="focusin"?(sc(),gr=o,Vo=h,gr.attachEvent("onpropertychange",vf)):a==="focusout"&&sc()}function xv(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xo(Vo)}function Ws(a,o){if(a==="click")return Xo(o)}function wv(a,o){if(a==="input"||a==="change")return Xo(o)}function Hr(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var In=typeof Object.is=="function"?Object.is:Hr;function Vs(a,o){if(In(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var h=Object.keys(a),g=Object.keys(o);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!Gt.call(o,_)||!In(a[_],o[_]))return!1}return!0}function oc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ko(a,o){var h=oc(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=o&&g>=o)return{node:h,offset:o-a};a=g}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=oc(h)}}function lc(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?lc(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Qo(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Rs(a.document);o instanceof a.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)a=o.contentWindow;else break;o=Rs(a.document)}return o}function ca(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var cc=Ki&&"documentMode"in document&&11>=document.documentMode,ua=null,uc=null,Jo=null,Ys=!1;function yf(a,o,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ys||ua==null||ua!==Rs(g)||(g=ua,"selectionStart"in g&&ca(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Jo&&Vs(Jo,g)||(Jo=g,g=rp(uc,"onSelect"),0<g.length&&(o=new ec("onSelect","select",null,o,h),a.push({event:o,listeners:g}),o.target=ua)))}function ha(a,o){var h={};return h[a.toLowerCase()]=o.toLowerCase(),h["Webkit"+a]="webkit"+o,h["Moz"+a]="moz"+o,h}var Xs={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},hc={},bf={};Ki&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function zn(a){if(hc[a])return hc[a];if(!Xs[a])return a;var o=Xs[a],h;for(h in o)if(o.hasOwnProperty(h)&&h in bf)return hc[a]=o[h];return a}var tl=zn("animationend"),_f=zn("animationiteration"),el=zn("animationstart"),Sv=zn("transitionrun"),xf=zn("transitionstart"),Av=zn("transitioncancel"),Zs=zn("transitionend"),wf=new Map,da="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");da.push("scrollEnd");function ki(a,o){wf.set(a,o),Ua(o,[a])}var nl=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Li=[],hi=0,dc=0;function il(){for(var a=hi,o=dc=hi=0;o<a;){var h=Li[o];Li[o++]=null;var g=Li[o];Li[o++]=null;var _=Li[o];Li[o++]=null;var w=Li[o];if(Li[o++]=null,g!==null&&_!==null){var P=g.pending;P===null?_.next=_:(_.next=P.next,P.next=_),g.pending=_}w!==0&&Ks(h,_,w)}}function fa(a,o,h,g){Li[hi++]=a,Li[hi++]=o,Li[hi++]=h,Li[hi++]=g,dc|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Xu(a,o,h,g){return fa(a,o,h,g),rl(a)}function yr(a,o){return fa(a,null,null,o),rl(a)}function Ks(a,o,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var _=!1,w=a.return;w!==null;)w.childLanes|=h,g=w.alternate,g!==null&&(g.childLanes|=h),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(_=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,_&&o!==null&&(_=31-gi(h),a=w.hiddenUpdates,g=a[_],g===null?a[_]=[o]:g.push(o),o.lane=h|536870912),w):null}function rl(a){if(50<_h)throw _h=0,Ey=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Wa={};function Tv(a,o,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(a,o,h,g){return new Tv(a,o,h,g)}function fc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function br(a,o){var h=a.alternate;return h===null?(h=di(a.tag,o,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=o,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,o=a.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Zu(a,o){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,o=h.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function al(a,o,h,g,_,w){var P=0;if(g=a,typeof a=="function")fc(a)&&(P=1);else if(typeof a=="string")P=BR(a,h,bt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case J:return a=di(31,h,o,_),a.elementType=J,a.lanes=w,a;case S:return Va(h.children,_,w,o);case C:P=8,_|=24;break;case O:return a=di(12,h,o,_|2),a.elementType=O,a.lanes=w,a;case z:return a=di(13,h,o,_),a.elementType=z,a.lanes=w,a;case R:return a=di(19,h,o,_),a.elementType=R,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:P=10;break t;case N:P=9;break t;case j:P=11;break t;case F:P=14;break t;case q:P=16,g=null;break t}P=29,h=Error(i(130,a===null?"null":typeof a,"")),g=null}return o=di(P,h,o,_),o.elementType=a,o.type=g,o.lanes=w,o}function Va(a,o,h,g){return a=di(7,a,g,o),a.lanes=h,a}function pc(a,o,h){return a=di(6,a,null,o),a.lanes=h,a}function Ku(a){var o=di(18,null,null,0);return o.stateNode=a,o}function Qu(a,o,h){return o=di(4,a.children!==null?a.children:[],a.key,o),o.lanes=h,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var c=new WeakMap;function m(a,o){if(typeof a=="object"&&a!==null){var h=c.get(a);return h!==void 0?h:(o={value:a,source:o,stack:Et(o)},c.set(a,o),o)}return{value:a,source:o,stack:Et(o)}}var b=[],E=0,M=null,I=0,$=[],nt=0,st=null,gt=1,Mt="";function Ft(a,o){b[E++]=I,b[E++]=M,M=a,I=o}function se(a,o,h){$[nt++]=gt,$[nt++]=Mt,$[nt++]=st,st=a;var g=gt;a=Mt;var _=32-gi(g)-1;g&=~(1<<_),h+=1;var w=32-gi(o)+_;if(30<w){var P=_-_%5;w=(g&(1<<P)-1).toString(32),g>>=P,_-=P,gt=1<<32-gi(o)+_|h<<_|g,Mt=w+a}else gt=1<<w|h<<_|g,Mt=a}function On(a){a.return!==null&&(Ft(a,1),se(a,1,0))}function ln(a){for(;a===M;)M=b[--E],b[E]=null,I=b[--E],b[E]=null;for(;a===st;)st=$[--nt],$[nt]=null,Mt=$[--nt],$[nt]=null,gt=$[--nt],$[nt]=null}function yi(a,o){$[nt++]=gt,$[nt++]=Mt,$[nt++]=st,gt=o.id,Mt=o.overflow,st=a}var be=null,_e=null,ue=!1,pa=null,Ni=!1,mc=Error(i(519));function ma(a){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(m(o,a)),mc}function Ju(a){var o=a.stateNode,h=a.type,g=a.memoizedProps;switch(o[vn]=a,o[Rn]=g,h){case"dialog":de("cancel",o),de("close",o);break;case"iframe":case"object":case"embed":de("load",o);break;case"video":case"audio":for(h=0;h<wh.length;h++)de(wh[h],o);break;case"source":de("error",o);break;case"img":case"image":case"link":de("error",o),de("load",o);break;case"details":de("toggle",o);break;case"input":de("invalid",o),Bo(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":de("invalid",o);break;case"textarea":de("invalid",o),Is(o,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||g.suppressHydrationWarning===!0||MA(o.textContent,h)?(g.popover!=null&&(de("beforetoggle",o),de("toggle",o)),g.onScroll!=null&&de("scroll",o),g.onScrollEnd!=null&&de("scrollend",o),g.onClick!=null&&(o.onclick=Pi),o=!0):o=!1,o||ma(a,!0)}function nn(a){for(be=a.return;be;)switch(be.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:be=be.return}}function $r(a){if(a!==be)return!1;if(!ue)return nn(a),ue=!0,!1;var o=a.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Uy(a.type,a.memoizedProps)),h=!h),h&&_e&&ma(a),nn(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));_e=zA(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));_e=zA(a)}else o===27?(o=_e,ho(a.type)?(a=Wy,Wy=null,_e=a):_e=o):_e=be?xr(a.stateNode.nextSibling):null;return!0}function Ya(){_e=be=null,ue=!1}function th(){var a=pa;return a!==null&&(zi===null?zi=a:zi.push.apply(zi,a),pa=null),a}function sl(a){pa===null?pa=[a]:pa.push(a)}var ol=H(null),ga=null,qr=null;function Qs(a,o,h){dt(ol,o._currentValue),o._currentValue=h}function Xa(a){a._currentValue=ol.current,it(ol)}function Ev(a,o,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),a===h)break;a=a.return}}function Cv(a,o,h,g){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var w=_.dependencies;if(w!==null){var P=_.child;w=w.firstContext;t:for(;w!==null;){var B=w;w=_;for(var W=0;W<o.length;W++)if(B.context===o[W]){w.lanes|=h,B=w.alternate,B!==null&&(B.lanes|=h),Ev(w.return,h,a),g||(P=null);break t}w=B.next}}else if(_.tag===18){if(P=_.return,P===null)throw Error(i(341));P.lanes|=h,w=P.alternate,w!==null&&(w.lanes|=h),Ev(P,h,a),P=null}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===a){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}}function gc(a,o,h,g){a=null;for(var _=o,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var P=_.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var B=_.type;In(_.pendingProps.value,P.value)||(a!==null?a.push(B):a=[B])}}else if(_===Dt.current){if(P=_.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(Ch):a=[Ch])}_=_.return}a!==null&&Cv(o,a,h,g),o.flags|=262144}function Sf(a){for(a=a.firstContext;a!==null;){if(!In(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ll(a){ga=a,qr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Qn(a){return pw(ga,a)}function Af(a,o){return ga===null&&ll(a),pw(a,o)}function pw(a,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},qr===null){if(a===null)throw Error(i(308));qr=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else qr=qr.next=o;return h}var jj=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){o.aborted=!0,a.forEach(function(h){return h()})}},Rj=n.unstable_scheduleCallback,Ij=n.unstable_NormalPriority,bn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ov(){return{controller:new jj,data:new Map,refCount:0}}function eh(a){a.refCount--,a.refCount===0&&Rj(Ij,function(){a.controller.abort()})}var nh=null,Mv=0,vc=0,yc=null;function zj(a,o){if(nh===null){var h=nh=[];Mv=0,vc=ky(),yc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Mv++,o.then(mw,mw),o}function mw(){if(--Mv===0&&nh!==null){yc!==null&&(yc.status="fulfilled");var a=nh;nh=null,vc=0,yc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Bj(a,o){var h=[],g={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return a.then(function(){g.status="fulfilled",g.value=o;for(var _=0;_<h.length;_++)(0,h[_])(o)},function(_){for(g.status="rejected",g.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),g}var gw=G.S;G.S=function(a,o){JS=fe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&zj(a,o),gw!==null&&gw(a,o)};var cl=H(null);function Pv(){var a=cl.current;return a!==null?a:Ue.pooledCache}function Tf(a,o){o===null?dt(cl,cl.current):dt(cl,o.pool)}function vw(){var a=Pv();return a===null?null:{parent:bn._currentValue,pool:a}}var bc=Error(i(460)),Dv=Error(i(474)),Ef=Error(i(542)),Cf={then:function(){}};function yw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function bw(a,o,h){switch(h=a[h],h===void 0?a.push(o):h!==o&&(o.then(Pi,Pi),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,xw(a),a;default:if(typeof o.status=="string")o.then(Pi,Pi);else{if(a=Ue,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(g){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=g}},function(g){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,xw(a),a}throw hl=o,bc}}function ul(a){try{var o=a._init;return o(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(hl=h,bc):h}}var hl=null;function _w(){if(hl===null)throw Error(i(459));var a=hl;return hl=null,a}function xw(a){if(a===bc||a===Ef)throw Error(i(483))}var _c=null,ih=0;function Of(a){var o=ih;return ih+=1,_c===null&&(_c=[]),bw(_c,a,o)}function rh(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Mf(a,o){throw o.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ww(a){function o(tt,X){if(a){var rt=tt.deletions;rt===null?(tt.deletions=[X],tt.flags|=16):rt.push(X)}}function h(tt,X){if(!a)return null;for(;X!==null;)o(tt,X),X=X.sibling;return null}function g(tt){for(var X=new Map;tt!==null;)tt.key!==null?X.set(tt.key,tt):X.set(tt.index,tt),tt=tt.sibling;return X}function _(tt,X){return tt=br(tt,X),tt.index=0,tt.sibling=null,tt}function w(tt,X,rt){return tt.index=rt,a?(rt=tt.alternate,rt!==null?(rt=rt.index,rt<X?(tt.flags|=67108866,X):rt):(tt.flags|=67108866,X)):(tt.flags|=1048576,X)}function P(tt){return a&&tt.alternate===null&&(tt.flags|=67108866),tt}function B(tt,X,rt,mt){return X===null||X.tag!==6?(X=pc(rt,tt.mode,mt),X.return=tt,X):(X=_(X,rt),X.return=tt,X)}function W(tt,X,rt,mt){var Ut=rt.type;return Ut===S?ft(tt,X,rt.props.children,mt,rt.key):X!==null&&(X.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===q&&ul(Ut)===X.type)?(X=_(X,rt.props),rh(X,rt),X.return=tt,X):(X=al(rt.type,rt.key,rt.props,null,tt.mode,mt),rh(X,rt),X.return=tt,X)}function at(tt,X,rt,mt){return X===null||X.tag!==4||X.stateNode.containerInfo!==rt.containerInfo||X.stateNode.implementation!==rt.implementation?(X=Qu(rt,tt.mode,mt),X.return=tt,X):(X=_(X,rt.children||[]),X.return=tt,X)}function ft(tt,X,rt,mt,Ut){return X===null||X.tag!==7?(X=Va(rt,tt.mode,mt,Ut),X.return=tt,X):(X=_(X,rt),X.return=tt,X)}function vt(tt,X,rt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=pc(""+X,tt.mode,rt),X.return=tt,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return rt=al(X.type,X.key,X.props,null,tt.mode,rt),rh(rt,X),rt.return=tt,rt;case A:return X=Qu(X,tt.mode,rt),X.return=tt,X;case q:return X=ul(X),vt(tt,X,rt)}if(kt(X)||Z(X))return X=Va(X,tt.mode,rt,null),X.return=tt,X;if(typeof X.then=="function")return vt(tt,Of(X),rt);if(X.$$typeof===k)return vt(tt,Af(tt,X),rt);Mf(tt,X)}return null}function ot(tt,X,rt,mt){var Ut=X!==null?X.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Ut!==null?null:B(tt,X,""+rt,mt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case x:return rt.key===Ut?W(tt,X,rt,mt):null;case A:return rt.key===Ut?at(tt,X,rt,mt):null;case q:return rt=ul(rt),ot(tt,X,rt,mt)}if(kt(rt)||Z(rt))return Ut!==null?null:ft(tt,X,rt,mt,null);if(typeof rt.then=="function")return ot(tt,X,Of(rt),mt);if(rt.$$typeof===k)return ot(tt,X,Af(tt,rt),mt);Mf(tt,rt)}return null}function ut(tt,X,rt,mt,Ut){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return tt=tt.get(rt)||null,B(X,tt,""+mt,Ut);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case x:return tt=tt.get(mt.key===null?rt:mt.key)||null,W(X,tt,mt,Ut);case A:return tt=tt.get(mt.key===null?rt:mt.key)||null,at(X,tt,mt,Ut);case q:return mt=ul(mt),ut(tt,X,rt,mt,Ut)}if(kt(mt)||Z(mt))return tt=tt.get(rt)||null,ft(X,tt,mt,Ut,null);if(typeof mt.then=="function")return ut(tt,X,rt,Of(mt),Ut);if(mt.$$typeof===k)return ut(tt,X,rt,Af(X,mt),Ut);Mf(X,mt)}return null}function Rt(tt,X,rt,mt){for(var Ut=null,xe=null,It=X,oe=X=0,ge=null;It!==null&&oe<rt.length;oe++){It.index>oe?(ge=It,It=null):ge=It.sibling;var we=ot(tt,It,rt[oe],mt);if(we===null){It===null&&(It=ge);break}a&&It&&we.alternate===null&&o(tt,It),X=w(we,X,oe),xe===null?Ut=we:xe.sibling=we,xe=we,It=ge}if(oe===rt.length)return h(tt,It),ue&&Ft(tt,oe),Ut;if(It===null){for(;oe<rt.length;oe++)It=vt(tt,rt[oe],mt),It!==null&&(X=w(It,X,oe),xe===null?Ut=It:xe.sibling=It,xe=It);return ue&&Ft(tt,oe),Ut}for(It=g(It);oe<rt.length;oe++)ge=ut(It,tt,oe,rt[oe],mt),ge!==null&&(a&&ge.alternate!==null&&It.delete(ge.key===null?oe:ge.key),X=w(ge,X,oe),xe===null?Ut=ge:xe.sibling=ge,xe=ge);return a&&It.forEach(function(vo){return o(tt,vo)}),ue&&Ft(tt,oe),Ut}function Vt(tt,X,rt,mt){if(rt==null)throw Error(i(151));for(var Ut=null,xe=null,It=X,oe=X=0,ge=null,we=rt.next();It!==null&&!we.done;oe++,we=rt.next()){It.index>oe?(ge=It,It=null):ge=It.sibling;var vo=ot(tt,It,we.value,mt);if(vo===null){It===null&&(It=ge);break}a&&It&&vo.alternate===null&&o(tt,It),X=w(vo,X,oe),xe===null?Ut=vo:xe.sibling=vo,xe=vo,It=ge}if(we.done)return h(tt,It),ue&&Ft(tt,oe),Ut;if(It===null){for(;!we.done;oe++,we=rt.next())we=vt(tt,we.value,mt),we!==null&&(X=w(we,X,oe),xe===null?Ut=we:xe.sibling=we,xe=we);return ue&&Ft(tt,oe),Ut}for(It=g(It);!we.done;oe++,we=rt.next())we=ut(It,tt,oe,we.value,mt),we!==null&&(a&&we.alternate!==null&&It.delete(we.key===null?oe:we.key),X=w(we,X,oe),xe===null?Ut=we:xe.sibling=we,xe=we);return a&&It.forEach(function(ZR){return o(tt,ZR)}),ue&&Ft(tt,oe),Ut}function Ie(tt,X,rt,mt){if(typeof rt=="object"&&rt!==null&&rt.type===S&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case x:t:{for(var Ut=rt.key;X!==null;){if(X.key===Ut){if(Ut=rt.type,Ut===S){if(X.tag===7){h(tt,X.sibling),mt=_(X,rt.props.children),mt.return=tt,tt=mt;break t}}else if(X.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===q&&ul(Ut)===X.type){h(tt,X.sibling),mt=_(X,rt.props),rh(mt,rt),mt.return=tt,tt=mt;break t}h(tt,X);break}else o(tt,X);X=X.sibling}rt.type===S?(mt=Va(rt.props.children,tt.mode,mt,rt.key),mt.return=tt,tt=mt):(mt=al(rt.type,rt.key,rt.props,null,tt.mode,mt),rh(mt,rt),mt.return=tt,tt=mt)}return P(tt);case A:t:{for(Ut=rt.key;X!==null;){if(X.key===Ut)if(X.tag===4&&X.stateNode.containerInfo===rt.containerInfo&&X.stateNode.implementation===rt.implementation){h(tt,X.sibling),mt=_(X,rt.children||[]),mt.return=tt,tt=mt;break t}else{h(tt,X);break}else o(tt,X);X=X.sibling}mt=Qu(rt,tt.mode,mt),mt.return=tt,tt=mt}return P(tt);case q:return rt=ul(rt),Ie(tt,X,rt,mt)}if(kt(rt))return Rt(tt,X,rt,mt);if(Z(rt)){if(Ut=Z(rt),typeof Ut!="function")throw Error(i(150));return rt=Ut.call(rt),Vt(tt,X,rt,mt)}if(typeof rt.then=="function")return Ie(tt,X,Of(rt),mt);if(rt.$$typeof===k)return Ie(tt,X,Af(tt,rt),mt);Mf(tt,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,X!==null&&X.tag===6?(h(tt,X.sibling),mt=_(X,rt),mt.return=tt,tt=mt):(h(tt,X),mt=pc(rt,tt.mode,mt),mt.return=tt,tt=mt),P(tt)):h(tt,X)}return function(tt,X,rt,mt){try{ih=0;var Ut=Ie(tt,X,rt,mt);return _c=null,Ut}catch(It){if(It===bc||It===Ef)throw It;var xe=di(29,It,null,tt.mode);return xe.lanes=mt,xe.return=tt,xe}}}var dl=ww(!0),Sw=ww(!1),Js=!1;function kv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lv(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function to(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function eo(a,o,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ae&2)!==0){var _=g.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),g.pending=o,o=rl(a),Ks(a,null,h),o}return fa(a,g,o,h),rl(a)}function ah(a,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var g=o.lanes;g&=a.pendingLanes,h|=g,o.lanes=h,Xd(a,h)}}function Nv(a,o){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var P={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?_=w=P:w=w.next=P,h=h.next}while(h!==null);w===null?_=w=o:w=w.next=o}else _=w=o;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=o:a.next=o,h.lastBaseUpdate=o}var jv=!1;function sh(){if(jv){var a=yc;if(a!==null)throw a}}function oh(a,o,h,g){jv=!1;var _=a.updateQueue;Js=!1;var w=_.firstBaseUpdate,P=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var W=B,at=W.next;W.next=null,P===null?w=at:P.next=at,P=W;var ft=a.alternate;ft!==null&&(ft=ft.updateQueue,B=ft.lastBaseUpdate,B!==P&&(B===null?ft.firstBaseUpdate=at:B.next=at,ft.lastBaseUpdate=W))}if(w!==null){var vt=_.baseState;P=0,ft=at=W=null,B=w;do{var ot=B.lane&-536870913,ut=ot!==B.lane;if(ut?(me&ot)===ot:(g&ot)===ot){ot!==0&&ot===vc&&(jv=!0),ft!==null&&(ft=ft.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});t:{var Rt=a,Vt=B;ot=o;var Ie=h;switch(Vt.tag){case 1:if(Rt=Vt.payload,typeof Rt=="function"){vt=Rt.call(Ie,vt,ot);break t}vt=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Vt.payload,ot=typeof Rt=="function"?Rt.call(Ie,vt,ot):Rt,ot==null)break t;vt=v({},vt,ot);break t;case 2:Js=!0}}ot=B.callback,ot!==null&&(a.flags|=64,ut&&(a.flags|=8192),ut=_.callbacks,ut===null?_.callbacks=[ot]:ut.push(ot))}else ut={lane:ot,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ft===null?(at=ft=ut,W=vt):ft=ft.next=ut,P|=ot;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;ut=B,B=ut.next,ut.next=null,_.lastBaseUpdate=ut,_.shared.pending=null}}while(!0);ft===null&&(W=vt),_.baseState=W,_.firstBaseUpdate=at,_.lastBaseUpdate=ft,w===null&&(_.shared.lanes=0),so|=P,a.lanes=P,a.memoizedState=vt}}function Aw(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function Tw(a,o){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Aw(h[a],o)}var xc=H(null),Pf=H(0);function Ew(a,o){a=rs,dt(Pf,a),dt(xc,o),rs=a|o.baseLanes}function Rv(){dt(Pf,rs),dt(xc,xc.current)}function Iv(){rs=Pf.current,it(xc),it(Pf)}var tr=H(null),_r=null;function no(a){var o=a.alternate;dt(pn,pn.current&1),dt(tr,a),_r===null&&(o===null||xc.current!==null||o.memoizedState!==null)&&(_r=a)}function zv(a){dt(pn,pn.current),dt(tr,a),_r===null&&(_r=a)}function Cw(a){a.tag===22?(dt(pn,pn.current),dt(tr,a),_r===null&&(_r=a)):io()}function io(){dt(pn,pn.current),dt(tr,tr.current)}function er(a){it(tr),_r===a&&(_r=null),it(pn)}var pn=H(0);function Df(a){for(var o=a;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||qy(h)||Gy(h)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Za=0,ae=null,je=null,_n=null,kf=!1,wc=!1,fl=!1,Lf=0,lh=0,Sc=null,Fj=0;function cn(){throw Error(i(321))}function Bv(a,o){if(o===null)return!1;for(var h=0;h<o.length&&h<a.length;h++)if(!In(a[h],o[h]))return!1;return!0}function Fv(a,o,h,g,_,w){return Za=w,ae=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=a===null||a.memoizedState===null?uS:ey,fl=!1,w=h(g,_),fl=!1,wc&&(w=Mw(o,h,g,_)),Ow(a),w}function Ow(a){G.H=hh;var o=je!==null&&je.next!==null;if(Za=0,_n=je=ae=null,kf=!1,lh=0,Sc=null,o)throw Error(i(300));a===null||xn||(a=a.dependencies,a!==null&&Sf(a)&&(xn=!0))}function Mw(a,o,h,g){ae=a;var _=0;do{if(wc&&(Sc=null),lh=0,wc=!1,25<=_)throw Error(i(301));if(_+=1,_n=je=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=hS,w=o(h,g)}while(wc);return w}function Uj(){var a=G.H,o=a.useState()[0];return o=typeof o.then=="function"?ch(o):o,a=a.useState()[0],(je!==null?je.memoizedState:null)!==a&&(ae.flags|=1024),o}function Uv(){var a=Lf!==0;return Lf=0,a}function Hv(a,o,h){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~h}function $v(a){if(kf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}kf=!1}Za=0,_n=je=ae=null,wc=!1,lh=Lf=0,Sc=null}function bi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ae.memoizedState=_n=a:_n=_n.next=a,_n}function mn(){if(je===null){var a=ae.alternate;a=a!==null?a.memoizedState:null}else a=je.next;var o=_n===null?ae.memoizedState:_n.next;if(o!==null)_n=o,je=a;else{if(a===null)throw ae.alternate===null?Error(i(467)):Error(i(310));je=a,a={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},_n===null?ae.memoizedState=_n=a:_n=_n.next=a}return _n}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ch(a){var o=lh;return lh+=1,Sc===null&&(Sc=[]),a=bw(Sc,a,o),o=ae,(_n===null?o.memoizedState:_n.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?uS:ey),a}function jf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ch(a);if(a.$$typeof===k)return Qn(a)}throw Error(i(438,String(a)))}function qv(a){var o=null,h=ae.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var g=ae.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=Nf(),ae.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(a),g=0;g<a;g++)h[g]=ct;return o.index++,h}function Ka(a,o){return typeof o=="function"?o(a):o}function Rf(a){var o=mn();return Gv(o,je,a)}function Gv(a,o,h){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var _=a.baseQueue,w=g.pending;if(w!==null){if(_!==null){var P=_.next;_.next=w.next,w.next=P}o.baseQueue=_=w,g.pending=null}if(w=a.baseState,_===null)a.memoizedState=w;else{o=_.next;var B=P=null,W=null,at=o,ft=!1;do{var vt=at.lane&-536870913;if(vt!==at.lane?(me&vt)===vt:(Za&vt)===vt){var ot=at.revertLane;if(ot===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),vt===vc&&(ft=!0);else if((Za&ot)===ot){at=at.next,ot===vc&&(ft=!0);continue}else vt={lane:0,revertLane:at.revertLane,gesture:null,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},W===null?(B=W=vt,P=w):W=W.next=vt,ae.lanes|=ot,so|=ot;vt=at.action,fl&&h(w,vt),w=at.hasEagerState?at.eagerState:h(w,vt)}else ot={lane:vt,revertLane:at.revertLane,gesture:at.gesture,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},W===null?(B=W=ot,P=w):W=W.next=ot,ae.lanes|=vt,so|=vt;at=at.next}while(at!==null&&at!==o);if(W===null?P=w:W.next=B,!In(w,a.memoizedState)&&(xn=!0,ft&&(h=yc,h!==null)))throw h;a.memoizedState=w,a.baseState=P,a.baseQueue=W,g.lastRenderedState=w}return _===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Wv(a){var o=mn(),h=o.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var g=h.dispatch,_=h.pending,w=o.memoizedState;if(_!==null){h.pending=null;var P=_=_.next;do w=a(w,P.action),P=P.next;while(P!==_);In(w,o.memoizedState)||(xn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),h.lastRenderedState=w}return[w,g]}function Pw(a,o,h){var g=ae,_=mn(),w=ue;if(w){if(h===void 0)throw Error(i(407));h=h()}else h=o();var P=!In((je||_).memoizedState,h);if(P&&(_.memoizedState=h,xn=!0),_=_.queue,Xv(Lw.bind(null,g,_,a),[a]),_.getSnapshot!==o||P||_n!==null&&_n.memoizedState.tag&1){if(g.flags|=2048,Ac(9,{destroy:void 0},kw.bind(null,g,_,h,o),null),Ue===null)throw Error(i(349));w||(Za&127)!==0||Dw(g,o,h)}return h}function Dw(a,o,h){a.flags|=16384,a={getSnapshot:o,value:h},o=ae.updateQueue,o===null?(o=Nf(),ae.updateQueue=o,o.stores=[a]):(h=o.stores,h===null?o.stores=[a]:h.push(a))}function kw(a,o,h,g){o.value=h,o.getSnapshot=g,Nw(o)&&jw(a)}function Lw(a,o,h){return h(function(){Nw(o)&&jw(a)})}function Nw(a){var o=a.getSnapshot;a=a.value;try{var h=o();return!In(a,h)}catch{return!0}}function jw(a){var o=yr(a,2);o!==null&&Bi(o,a,2)}function Vv(a){var o=bi();if(typeof a=="function"){var h=a;if(a=h(),fl){Xi(!0);try{h()}finally{Xi(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:a},o}function Rw(a,o,h,g){return a.baseState=h,Gv(a,je,typeof g=="function"?g:Ka)}function Hj(a,o,h,g,_){if(Bf(a))throw Error(i(485));if(a=o.action,a!==null){var w={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){w.listeners.push(P)}};G.T!==null?h(!0):w.isTransition=!1,g(w),h=o.pending,h===null?(w.next=o.pending=w,Iw(o,w)):(w.next=h.next,o.pending=h.next=w)}}function Iw(a,o){var h=o.action,g=o.payload,_=a.state;if(o.isTransition){var w=G.T,P={};G.T=P;try{var B=h(_,g),W=G.S;W!==null&&W(P,B),zw(a,o,B)}catch(at){Yv(a,o,at)}finally{w!==null&&P.types!==null&&(w.types=P.types),G.T=w}}else try{w=h(_,g),zw(a,o,w)}catch(at){Yv(a,o,at)}}function zw(a,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){Bw(a,o,g)},function(g){return Yv(a,o,g)}):Bw(a,o,h)}function Bw(a,o,h){o.status="fulfilled",o.value=h,Fw(o),a.state=h,o=a.pending,o!==null&&(h=o.next,h===o?a.pending=null:(h=h.next,o.next=h,Iw(a,h)))}function Yv(a,o,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=h,Fw(o),o=o.next;while(o!==g)}a.action=null}function Fw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Uw(a,o){return o}function Hw(a,o){if(ue){var h=Ue.formState;if(h!==null){t:{var g=ae;if(ue){if(_e){e:{for(var _=_e,w=Ni;_.nodeType!==8;){if(!w){_=null;break e}if(_=xr(_.nextSibling),_===null){_=null;break e}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){_e=xr(_.nextSibling),g=_.data==="F!";break t}}ma(g)}g=!1}g&&(o=h[0])}}return h=bi(),h.memoizedState=h.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uw,lastRenderedState:o},h.queue=g,h=oS.bind(null,ae,g),g.dispatch=h,g=Vv(!1),w=ty.bind(null,ae,!1,g.queue),g=bi(),_={state:o,dispatch:null,action:a,pending:null},g.queue=_,h=Hj.bind(null,ae,_,w,h),_.dispatch=h,g.memoizedState=a,[o,h,!1]}function $w(a){var o=mn();return qw(o,je,a)}function qw(a,o,h){if(o=Gv(a,o,Uw)[0],a=Rf(Ka)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=ch(o)}catch(P){throw P===bc?Ef:P}else g=o;o=mn();var _=o.queue,w=_.dispatch;return h!==o.memoizedState&&(ae.flags|=2048,Ac(9,{destroy:void 0},$j.bind(null,_,h),null)),[g,w,a]}function $j(a,o){a.action=o}function Gw(a){var o=mn(),h=je;if(h!==null)return qw(o,h,a);mn(),o=o.memoizedState,h=mn();var g=h.queue.dispatch;return h.memoizedState=a,[o,g,!1]}function Ac(a,o,h,g){return a={tag:a,create:h,deps:g,inst:o,next:null},o=ae.updateQueue,o===null&&(o=Nf(),ae.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,o.lastEffect=a),a}function Ww(){return mn().memoizedState}function If(a,o,h,g){var _=bi();ae.flags|=a,_.memoizedState=Ac(1|o,{destroy:void 0},h,g===void 0?null:g)}function zf(a,o,h,g){var _=mn();g=g===void 0?null:g;var w=_.memoizedState.inst;je!==null&&g!==null&&Bv(g,je.memoizedState.deps)?_.memoizedState=Ac(o,w,h,g):(ae.flags|=a,_.memoizedState=Ac(1|o,w,h,g))}function Vw(a,o){If(8390656,8,a,o)}function Xv(a,o){zf(2048,8,a,o)}function qj(a){ae.flags|=4;var o=ae.updateQueue;if(o===null)o=Nf(),ae.updateQueue=o,o.events=[a];else{var h=o.events;h===null?o.events=[a]:h.push(a)}}function Yw(a){var o=mn().memoizedState;return qj({ref:o,nextImpl:a}),function(){if((Ae&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Xw(a,o){return zf(4,2,a,o)}function Zw(a,o){return zf(4,4,a,o)}function Kw(a,o){if(typeof o=="function"){a=a();var h=o(a);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Qw(a,o,h){h=h!=null?h.concat([a]):null,zf(4,4,Kw.bind(null,o,a),h)}function Zv(){}function Jw(a,o){var h=mn();o=o===void 0?null:o;var g=h.memoizedState;return o!==null&&Bv(o,g[1])?g[0]:(h.memoizedState=[a,o],a)}function tS(a,o){var h=mn();o=o===void 0?null:o;var g=h.memoizedState;if(o!==null&&Bv(o,g[1]))return g[0];if(g=a(),fl){Xi(!0);try{a()}finally{Xi(!1)}}return h.memoizedState=[g,o],g}function Kv(a,o,h){return h===void 0||(Za&1073741824)!==0&&(me&261930)===0?a.memoizedState=o:(a.memoizedState=h,a=eA(),ae.lanes|=a,so|=a,h)}function eS(a,o,h,g){return In(h,o)?h:xc.current!==null?(a=Kv(a,h,g),In(a,o)||(xn=!0),a):(Za&42)===0||(Za&1073741824)!==0&&(me&261930)===0?(xn=!0,a.memoizedState=h):(a=eA(),ae.lanes|=a,so|=a,o)}function nS(a,o,h,g,_){var w=K.p;K.p=w!==0&&8>w?w:8;var P=G.T,B={};G.T=B,ty(a,!1,o,h);try{var W=_(),at=G.S;if(at!==null&&at(B,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ft=Bj(W,g);uh(a,o,ft,rr(a))}else uh(a,o,g,rr(a))}catch(vt){uh(a,o,{then:function(){},status:"rejected",reason:vt},rr())}finally{K.p=w,P!==null&&B.types!==null&&(P.types=B.types),G.T=P}}function Gj(){}function Qv(a,o,h,g){if(a.tag!==5)throw Error(i(476));var _=iS(a).queue;nS(a,_,o,V,h===null?Gj:function(){return rS(a),h(g)})}function iS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:V},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:h},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function rS(a){var o=iS(a);o.next===null&&(o=a.alternate.memoizedState),uh(a,o.next.queue,{},rr())}function Jv(){return Qn(Ch)}function aS(){return mn().memoizedState}function sS(){return mn().memoizedState}function Wj(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var h=rr();a=to(h);var g=eo(o,a,h);g!==null&&(Bi(g,o,h),ah(g,o,h)),o={cache:Ov()},a.payload=o;return}o=o.return}}function Vj(a,o,h){var g=rr();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Bf(a)?lS(o,h):(h=Xu(a,o,h,g),h!==null&&(Bi(h,a,g),cS(h,o,g)))}function oS(a,o,h){var g=rr();uh(a,o,h,g)}function uh(a,o,h,g){var _={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Bf(a))lS(o,_);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var P=o.lastRenderedState,B=w(P,h);if(_.hasEagerState=!0,_.eagerState=B,In(B,P))return fa(a,o,_,0),Ue===null&&il(),!1}catch{}if(h=Xu(a,o,_,g),h!==null)return Bi(h,a,g),cS(h,o,g),!0}return!1}function ty(a,o,h,g){if(g={lane:2,revertLane:ky(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Bf(a)){if(o)throw Error(i(479))}else o=Xu(a,h,g,2),o!==null&&Bi(o,a,2)}function Bf(a){var o=a.alternate;return a===ae||o!==null&&o===ae}function lS(a,o){wc=kf=!0;var h=a.pending;h===null?o.next=o:(o.next=h.next,h.next=o),a.pending=o}function cS(a,o,h){if((h&4194048)!==0){var g=o.lanes;g&=a.pendingLanes,h|=g,o.lanes=h,Xd(a,h)}}var hh={readContext:Qn,use:jf,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};hh.useEffectEvent=cn;var uS={readContext:Qn,use:jf,useCallback:function(a,o){return bi().memoizedState=[a,o===void 0?null:o],a},useContext:Qn,useEffect:Vw,useImperativeHandle:function(a,o,h){h=h!=null?h.concat([a]):null,If(4194308,4,Kw.bind(null,o,a),h)},useLayoutEffect:function(a,o){return If(4194308,4,a,o)},useInsertionEffect:function(a,o){If(4,2,a,o)},useMemo:function(a,o){var h=bi();o=o===void 0?null:o;var g=a();if(fl){Xi(!0);try{a()}finally{Xi(!1)}}return h.memoizedState=[g,o],g},useReducer:function(a,o,h){var g=bi();if(h!==void 0){var _=h(o);if(fl){Xi(!0);try{h(o)}finally{Xi(!1)}}}else _=o;return g.memoizedState=g.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},g.queue=a,a=a.dispatch=Vj.bind(null,ae,a),[g.memoizedState,a]},useRef:function(a){var o=bi();return a={current:a},o.memoizedState=a},useState:function(a){a=Vv(a);var o=a.queue,h=oS.bind(null,ae,o);return o.dispatch=h,[a.memoizedState,h]},useDebugValue:Zv,useDeferredValue:function(a,o){var h=bi();return Kv(h,a,o)},useTransition:function(){var a=Vv(!1);return a=nS.bind(null,ae,a.queue,!0,!1),bi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,h){var g=ae,_=bi();if(ue){if(h===void 0)throw Error(i(407));h=h()}else{if(h=o(),Ue===null)throw Error(i(349));(me&127)!==0||Dw(g,o,h)}_.memoizedState=h;var w={value:h,getSnapshot:o};return _.queue=w,Vw(Lw.bind(null,g,w,a),[a]),g.flags|=2048,Ac(9,{destroy:void 0},kw.bind(null,g,w,h,o),null),h},useId:function(){var a=bi(),o=Ue.identifierPrefix;if(ue){var h=Mt,g=gt;h=(g&~(1<<32-gi(g)-1)).toString(32)+h,o="_"+o+"R_"+h,h=Lf++,0<h&&(o+="H"+h.toString(32)),o+="_"}else h=Fj++,o="_"+o+"r_"+h.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Jv,useFormState:Hw,useActionState:Hw,useOptimistic:function(a){var o=bi();o.memoizedState=o.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=ty.bind(null,ae,!0,h),h.dispatch=o,[a,o]},useMemoCache:qv,useCacheRefresh:function(){return bi().memoizedState=Wj.bind(null,ae)},useEffectEvent:function(a){var o=bi(),h={impl:a};return o.memoizedState=h,function(){if((Ae&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},ey={readContext:Qn,use:jf,useCallback:Jw,useContext:Qn,useEffect:Xv,useImperativeHandle:Qw,useInsertionEffect:Xw,useLayoutEffect:Zw,useMemo:tS,useReducer:Rf,useRef:Ww,useState:function(){return Rf(Ka)},useDebugValue:Zv,useDeferredValue:function(a,o){var h=mn();return eS(h,je.memoizedState,a,o)},useTransition:function(){var a=Rf(Ka)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:ch(a),o]},useSyncExternalStore:Pw,useId:aS,useHostTransitionStatus:Jv,useFormState:$w,useActionState:$w,useOptimistic:function(a,o){var h=mn();return Rw(h,je,a,o)},useMemoCache:qv,useCacheRefresh:sS};ey.useEffectEvent=Yw;var hS={readContext:Qn,use:jf,useCallback:Jw,useContext:Qn,useEffect:Xv,useImperativeHandle:Qw,useInsertionEffect:Xw,useLayoutEffect:Zw,useMemo:tS,useReducer:Wv,useRef:Ww,useState:function(){return Wv(Ka)},useDebugValue:Zv,useDeferredValue:function(a,o){var h=mn();return je===null?Kv(h,a,o):eS(h,je.memoizedState,a,o)},useTransition:function(){var a=Wv(Ka)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:ch(a),o]},useSyncExternalStore:Pw,useId:aS,useHostTransitionStatus:Jv,useFormState:Gw,useActionState:Gw,useOptimistic:function(a,o){var h=mn();return je!==null?Rw(h,je,a,o):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:qv,useCacheRefresh:sS};hS.useEffectEvent=Yw;function ny(a,o,h,g){o=a.memoizedState,h=h(g,o),h=h==null?o:v({},o,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var iy={enqueueSetState:function(a,o,h){a=a._reactInternals;var g=rr(),_=to(g);_.payload=o,h!=null&&(_.callback=h),o=eo(a,_,g),o!==null&&(Bi(o,a,g),ah(o,a,g))},enqueueReplaceState:function(a,o,h){a=a._reactInternals;var g=rr(),_=to(g);_.tag=1,_.payload=o,h!=null&&(_.callback=h),o=eo(a,_,g),o!==null&&(Bi(o,a,g),ah(o,a,g))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var h=rr(),g=to(h);g.tag=2,o!=null&&(g.callback=o),o=eo(a,g,h),o!==null&&(Bi(o,a,h),ah(o,a,h))}};function dS(a,o,h,g,_,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,w,P):o.prototype&&o.prototype.isPureReactComponent?!Vs(h,g)||!Vs(_,w):!0}function fS(a,o,h,g){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,g),o.state!==a&&iy.enqueueReplaceState(o,o.state,null)}function pl(a,o){var h=o;if("ref"in o){h={};for(var g in o)g!=="ref"&&(h[g]=o[g])}if(a=a.defaultProps){h===o&&(h=v({},h));for(var _ in a)h[_]===void 0&&(h[_]=a[_])}return h}function pS(a){nl(a)}function mS(a){console.error(a)}function gS(a){nl(a)}function Ff(a,o){try{var h=a.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function vS(a,o,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ry(a,o,h){return h=to(h),h.tag=3,h.payload={element:null},h.callback=function(){Ff(a,o)},h}function yS(a){return a=to(a),a.tag=3,a}function bS(a,o,h,g){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var w=g.value;a.payload=function(){return _(w)},a.callback=function(){vS(o,h,g)}}var P=h.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){vS(o,h,g),typeof _!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var B=g.stack;this.componentDidCatch(g.value,{componentStack:B!==null?B:""})})}function Yj(a,o,h,g,_){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=h.alternate,o!==null&&gc(o,h,_,!0),h=tr.current,h!==null){switch(h.tag){case 31:case 13:return _r===null?Qf():h.alternate===null&&un===0&&(un=3),h.flags&=-257,h.flags|=65536,h.lanes=_,g===Cf?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([g]):o.add(g),My(a,g,_)),!1;case 22:return h.flags|=65536,g===Cf?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([g]):h.add(g)),My(a,g,_)),!1}throw Error(i(435,h.tag))}return My(a,g,_),Qf(),!1}if(ue)return o=tr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,g!==mc&&(a=Error(i(422),{cause:g}),sl(m(a,h)))):(g!==mc&&(o=Error(i(423),{cause:g}),sl(m(o,h))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,g=m(g,h),_=ry(a.stateNode,g,_),Nv(a,_),un!==4&&(un=2)),!1;var w=Error(i(520),{cause:g});if(w=m(w,h),bh===null?bh=[w]:bh.push(w),un!==4&&(un=2),o===null)return!0;g=m(g,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,a=_&-_,h.lanes|=a,a=ry(h.stateNode,g,a),Nv(h,a),!1;case 1:if(o=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(oo===null||!oo.has(w))))return h.flags|=65536,_&=-_,h.lanes|=_,_=yS(_),bS(_,a,h,g),Nv(h,_),!1}h=h.return}while(h!==null);return!1}var ay=Error(i(461)),xn=!1;function Jn(a,o,h,g){o.child=a===null?Sw(o,null,h,g):dl(o,a.child,h,g)}function _S(a,o,h,g,_){h=h.render;var w=o.ref;if("ref"in g){var P={};for(var B in g)B!=="ref"&&(P[B]=g[B])}else P=g;return ll(o),g=Fv(a,o,h,P,w,_),B=Uv(),a!==null&&!xn?(Hv(a,o,_),Qa(a,o,_)):(ue&&B&&On(o),o.flags|=1,Jn(a,o,g,_),o.child)}function xS(a,o,h,g,_){if(a===null){var w=h.type;return typeof w=="function"&&!fc(w)&&w.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=w,wS(a,o,w,g,_)):(a=al(h.type,null,g,o,o.mode,_),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!fy(a,_)){var P=w.memoizedProps;if(h=h.compare,h=h!==null?h:Vs,h(P,g)&&a.ref===o.ref)return Qa(a,o,_)}return o.flags|=1,a=br(w,g),a.ref=o.ref,a.return=o,o.child=a}function wS(a,o,h,g,_){if(a!==null){var w=a.memoizedProps;if(Vs(w,g)&&a.ref===o.ref)if(xn=!1,o.pendingProps=g=w,fy(a,_))(a.flags&131072)!==0&&(xn=!0);else return o.lanes=a.lanes,Qa(a,o,_)}return sy(a,o,h,g,_)}function SS(a,o,h,g){var _=g.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|h:h,a!==null){for(g=o.child=a.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;g=_&~w}else g=0,o.child=null;return AS(a,o,w,h,g)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Tf(o,w!==null?w.cachePool:null),w!==null?Ew(o,w):Rv(),Cw(o);else return g=o.lanes=536870912,AS(a,o,w!==null?w.baseLanes|h:h,h,g)}else w!==null?(Tf(o,w.cachePool),Ew(o,w),io(),o.memoizedState=null):(a!==null&&Tf(o,null),Rv(),io());return Jn(a,o,_,h),o.child}function dh(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function AS(a,o,h,g,_){var w=Pv();return w=w===null?null:{parent:bn._currentValue,pool:w},o.memoizedState={baseLanes:h,cachePool:w},a!==null&&Tf(o,null),Rv(),Cw(o),a!==null&&gc(a,o,g,!0),o.childLanes=_,null}function Uf(a,o){return o=$f({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function TS(a,o,h){return dl(o,a.child,null,h),a=Uf(o,o.pendingProps),a.flags|=2,er(o),o.memoizedState=null,a}function Xj(a,o,h){var g=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ue){if(g.mode==="hidden")return a=Uf(o,g),o.lanes=536870912,dh(null,a);if(zv(o),(a=_e)?(a=IA(a,Ni),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:st!==null?{id:gt,overflow:Mt}:null,retryLane:536870912,hydrationErrors:null},h=Ku(a),h.return=o,o.child=h,be=o,_e=null)):a=null,a===null)throw ma(o);return o.lanes=536870912,null}return Uf(o,g)}var w=a.memoizedState;if(w!==null){var P=w.dehydrated;if(zv(o),_)if(o.flags&256)o.flags&=-257,o=TS(a,o,h);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(i(558));else if(xn||gc(a,o,h,!1),_=(h&a.childLanes)!==0,xn||_){if(g=Ue,g!==null&&(P=Zd(g,h),P!==0&&P!==w.retryLane))throw w.retryLane=P,yr(a,P),Bi(g,a,P),ay;Qf(),o=TS(a,o,h)}else a=w.treeContext,_e=xr(P.nextSibling),be=o,ue=!0,pa=null,Ni=!1,a!==null&&yi(o,a),o=Uf(o,g),o.flags|=4096;return o}return a=br(a.child,{mode:g.mode,children:g.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Hf(a,o){var h=o.ref;if(h===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(o.flags|=4194816)}}function sy(a,o,h,g,_){return ll(o),h=Fv(a,o,h,g,void 0,_),g=Uv(),a!==null&&!xn?(Hv(a,o,_),Qa(a,o,_)):(ue&&g&&On(o),o.flags|=1,Jn(a,o,h,_),o.child)}function ES(a,o,h,g,_,w){return ll(o),o.updateQueue=null,h=Mw(o,g,h,_),Ow(a),g=Uv(),a!==null&&!xn?(Hv(a,o,w),Qa(a,o,w)):(ue&&g&&On(o),o.flags|=1,Jn(a,o,h,w),o.child)}function CS(a,o,h,g,_){if(ll(o),o.stateNode===null){var w=Wa,P=h.contextType;typeof P=="object"&&P!==null&&(w=Qn(P)),w=new h(g,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=iy,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=g,w.state=o.memoizedState,w.refs={},kv(o),P=h.contextType,w.context=typeof P=="object"&&P!==null?Qn(P):Wa,w.state=o.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(ny(o,h,P,g),w.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(P=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),P!==w.state&&iy.enqueueReplaceState(w,w.state,null),oh(o,g,w,_),sh(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(a===null){w=o.stateNode;var B=o.memoizedProps,W=pl(h,B);w.props=W;var at=w.context,ft=h.contextType;P=Wa,typeof ft=="object"&&ft!==null&&(P=Qn(ft));var vt=h.getDerivedStateFromProps;ft=typeof vt=="function"||typeof w.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,ft||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B||at!==P)&&fS(o,w,g,P),Js=!1;var ot=o.memoizedState;w.state=ot,oh(o,g,w,_),sh(),at=o.memoizedState,B||ot!==at||Js?(typeof vt=="function"&&(ny(o,h,vt,g),at=o.memoizedState),(W=Js||dS(o,h,W,g,ot,at,P))?(ft||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=at),w.props=g,w.state=at,w.context=P,g=W):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{w=o.stateNode,Lv(a,o),P=o.memoizedProps,ft=pl(h,P),w.props=ft,vt=o.pendingProps,ot=w.context,at=h.contextType,W=Wa,typeof at=="object"&&at!==null&&(W=Qn(at)),B=h.getDerivedStateFromProps,(at=typeof B=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==vt||ot!==W)&&fS(o,w,g,W),Js=!1,ot=o.memoizedState,w.state=ot,oh(o,g,w,_),sh();var ut=o.memoizedState;P!==vt||ot!==ut||Js||a!==null&&a.dependencies!==null&&Sf(a.dependencies)?(typeof B=="function"&&(ny(o,h,B,g),ut=o.memoizedState),(ft=Js||dS(o,h,ft,g,ot,ut,W)||a!==null&&a.dependencies!==null&&Sf(a.dependencies))?(at||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,ut,W),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,ut,W)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&ot===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&ot===a.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=ut),w.props=g,w.state=ut,w.context=W,g=ft):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&ot===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&ot===a.memoizedState||(o.flags|=1024),g=!1)}return w=g,Hf(a,o),g=(o.flags&128)!==0,w||g?(w=o.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&g?(o.child=dl(o,a.child,null,_),o.child=dl(o,null,h,_)):Jn(a,o,h,_),o.memoizedState=w.state,a=o.child):a=Qa(a,o,_),a}function OS(a,o,h,g){return Ya(),o.flags|=256,Jn(a,o,h,g),o.child}var oy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ly(a){return{baseLanes:a,cachePool:vw()}}function cy(a,o,h){return a=a!==null?a.childLanes&~h:0,o&&(a|=ir),a}function MS(a,o,h){var g=o.pendingProps,_=!1,w=(o.flags&128)!==0,P;if((P=w)||(P=a!==null&&a.memoizedState===null?!1:(pn.current&2)!==0),P&&(_=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,a===null){if(ue){if(_?no(o):io(),(a=_e)?(a=IA(a,Ni),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:st!==null?{id:gt,overflow:Mt}:null,retryLane:536870912,hydrationErrors:null},h=Ku(a),h.return=o,o.child=h,be=o,_e=null)):a=null,a===null)throw ma(o);return Gy(a)?o.lanes=32:o.lanes=536870912,null}var B=g.children;return g=g.fallback,_?(io(),_=o.mode,B=$f({mode:"hidden",children:B},_),g=Va(g,_,h,null),B.return=o,g.return=o,B.sibling=g,o.child=B,g=o.child,g.memoizedState=ly(h),g.childLanes=cy(a,P,h),o.memoizedState=oy,dh(null,g)):(no(o),uy(o,B))}var W=a.memoizedState;if(W!==null&&(B=W.dehydrated,B!==null)){if(w)o.flags&256?(no(o),o.flags&=-257,o=hy(a,o,h)):o.memoizedState!==null?(io(),o.child=a.child,o.flags|=128,o=null):(io(),B=g.fallback,_=o.mode,g=$f({mode:"visible",children:g.children},_),B=Va(B,_,h,null),B.flags|=2,g.return=o,B.return=o,g.sibling=B,o.child=g,dl(o,a.child,null,h),g=o.child,g.memoizedState=ly(h),g.childLanes=cy(a,P,h),o.memoizedState=oy,o=dh(null,g));else if(no(o),Gy(B)){if(P=B.nextSibling&&B.nextSibling.dataset,P)var at=P.dgst;P=at,g=Error(i(419)),g.stack="",g.digest=P,sl({value:g,source:null,stack:null}),o=hy(a,o,h)}else if(xn||gc(a,o,h,!1),P=(h&a.childLanes)!==0,xn||P){if(P=Ue,P!==null&&(g=Zd(P,h),g!==0&&g!==W.retryLane))throw W.retryLane=g,yr(a,g),Bi(P,a,g),ay;qy(B)||Qf(),o=hy(a,o,h)}else qy(B)?(o.flags|=192,o.child=a.child,o=null):(a=W.treeContext,_e=xr(B.nextSibling),be=o,ue=!0,pa=null,Ni=!1,a!==null&&yi(o,a),o=uy(o,g.children),o.flags|=4096);return o}return _?(io(),B=g.fallback,_=o.mode,W=a.child,at=W.sibling,g=br(W,{mode:"hidden",children:g.children}),g.subtreeFlags=W.subtreeFlags&65011712,at!==null?B=br(at,B):(B=Va(B,_,h,null),B.flags|=2),B.return=o,g.return=o,g.sibling=B,o.child=g,dh(null,g),g=o.child,B=a.child.memoizedState,B===null?B=ly(h):(_=B.cachePool,_!==null?(W=bn._currentValue,_=_.parent!==W?{parent:W,pool:W}:_):_=vw(),B={baseLanes:B.baseLanes|h,cachePool:_}),g.memoizedState=B,g.childLanes=cy(a,P,h),o.memoizedState=oy,dh(a.child,g)):(no(o),h=a.child,a=h.sibling,h=br(h,{mode:"visible",children:g.children}),h.return=o,h.sibling=null,a!==null&&(P=o.deletions,P===null?(o.deletions=[a],o.flags|=16):P.push(a)),o.child=h,o.memoizedState=null,h)}function uy(a,o){return o=$f({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function $f(a,o){return a=di(22,a,null,o),a.lanes=0,a}function hy(a,o,h){return dl(o,a.child,null,h),a=uy(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function PS(a,o,h){a.lanes|=o;var g=a.alternate;g!==null&&(g.lanes|=o),Ev(a.return,o,h)}function dy(a,o,h,g,_,w){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_,treeForkCount:w}:(P.isBackwards=o,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=h,P.tailMode=_,P.treeForkCount=w)}function DS(a,o,h){var g=o.pendingProps,_=g.revealOrder,w=g.tail;g=g.children;var P=pn.current,B=(P&2)!==0;if(B?(P=P&1|2,o.flags|=128):P&=1,dt(pn,P),Jn(a,o,g,h),g=ue?I:0,!B&&a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&PS(a,h,o);else if(a.tag===19)PS(a,h,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(h=o.child,_=null;h!==null;)a=h.alternate,a!==null&&Df(a)===null&&(_=h),h=h.sibling;h=_,h===null?(_=o.child,o.child=null):(_=h.sibling,h.sibling=null),dy(o,!1,_,h,w,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=o.child,o.child=null;_!==null;){if(a=_.alternate,a!==null&&Df(a)===null){o.child=_;break}a=_.sibling,_.sibling=h,h=_,_=a}dy(o,!0,h,null,w,g);break;case"together":dy(o,!1,null,null,void 0,g);break;default:o.memoizedState=null}return o.child}function Qa(a,o,h){if(a!==null&&(o.dependencies=a.dependencies),so|=o.lanes,(h&o.childLanes)===0)if(a!==null){if(gc(a,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,h=br(a,a.pendingProps),o.child=h,h.return=o;a.sibling!==null;)a=a.sibling,h=h.sibling=br(a,a.pendingProps),h.return=o;h.sibling=null}return o.child}function fy(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Sf(a)))}function Zj(a,o,h){switch(o.tag){case 3:Qt(o,o.stateNode.containerInfo),Qs(o,bn,a.memoizedState.cache),Ya();break;case 27:case 5:Wt(o);break;case 4:Qt(o,o.stateNode.containerInfo);break;case 10:Qs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,zv(o),null;break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(no(o),o.flags|=128,null):(h&o.child.childLanes)!==0?MS(a,o,h):(no(o),a=Qa(a,o,h),a!==null?a.sibling:null);no(o);break;case 19:var _=(a.flags&128)!==0;if(g=(h&o.childLanes)!==0,g||(gc(a,o,h,!1),g=(h&o.childLanes)!==0),_){if(g)return DS(a,o,h);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),dt(pn,pn.current),g)break;return null;case 22:return o.lanes=0,SS(a,o,h,o.pendingProps);case 24:Qs(o,bn,a.memoizedState.cache)}return Qa(a,o,h)}function kS(a,o,h){if(a!==null)if(a.memoizedProps!==o.pendingProps)xn=!0;else{if(!fy(a,h)&&(o.flags&128)===0)return xn=!1,Zj(a,o,h);xn=(a.flags&131072)!==0}else xn=!1,ue&&(o.flags&1048576)!==0&&se(o,I,o.index);switch(o.lanes=0,o.tag){case 16:t:{var g=o.pendingProps;if(a=ul(o.elementType),o.type=a,typeof a=="function")fc(a)?(g=pl(a,g),o.tag=1,o=CS(null,o,a,g,h)):(o.tag=0,o=sy(null,o,a,g,h));else{if(a!=null){var _=a.$$typeof;if(_===j){o.tag=11,o=_S(null,o,a,g,h);break t}else if(_===F){o.tag=14,o=xS(null,o,a,g,h);break t}}throw o=_t(a)||a,Error(i(306,o,""))}}return o;case 0:return sy(a,o,o.type,o.pendingProps,h);case 1:return g=o.type,_=pl(g,o.pendingProps),CS(a,o,g,_,h);case 3:t:{if(Qt(o,o.stateNode.containerInfo),a===null)throw Error(i(387));g=o.pendingProps;var w=o.memoizedState;_=w.element,Lv(a,o),oh(o,g,null,h);var P=o.memoizedState;if(g=P.cache,Qs(o,bn,g),g!==w.cache&&Cv(o,[bn],h,!0),sh(),g=P.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=OS(a,o,g,h);break t}else if(g!==_){_=m(Error(i(424)),o),sl(_),o=OS(a,o,g,h);break t}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,_e=xr(a.firstChild),be=o,ue=!0,pa=null,Ni=!0,h=Sw(o,null,g,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ya(),g===_){o=Qa(a,o,h);break t}Jn(a,o,g,h)}o=o.child}return o;case 26:return Hf(a,o),a===null?(h=$A(o.type,null,o.pendingProps,null))?o.memoizedState=h:ue||(h=o.type,a=o.pendingProps,g=ap(Tt.current).createElement(h),g[vn]=o,g[Rn]=a,ti(g,h,a),yn(g),o.stateNode=g):o.memoizedState=$A(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Wt(o),a===null&&ue&&(g=o.stateNode=FA(o.type,o.pendingProps,Tt.current),be=o,Ni=!0,_=_e,ho(o.type)?(Wy=_,_e=xr(g.firstChild)):_e=_),Jn(a,o,o.pendingProps.children,h),Hf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ue&&((_=g=_e)&&(g=ER(g,o.type,o.pendingProps,Ni),g!==null?(o.stateNode=g,be=o,_e=xr(g.firstChild),Ni=!1,_=!0):_=!1),_||ma(o)),Wt(o),_=o.type,w=o.pendingProps,P=a!==null?a.memoizedProps:null,g=w.children,Uy(_,w)?g=null:P!==null&&Uy(_,P)&&(o.flags|=32),o.memoizedState!==null&&(_=Fv(a,o,Uj,null,null,h),Ch._currentValue=_),Hf(a,o),Jn(a,o,g,h),o.child;case 6:return a===null&&ue&&((a=h=_e)&&(h=CR(h,o.pendingProps,Ni),h!==null?(o.stateNode=h,be=o,_e=null,a=!0):a=!1),a||ma(o)),null;case 13:return MS(a,o,h);case 4:return Qt(o,o.stateNode.containerInfo),g=o.pendingProps,a===null?o.child=dl(o,null,g,h):Jn(a,o,g,h),o.child;case 11:return _S(a,o,o.type,o.pendingProps,h);case 7:return Jn(a,o,o.pendingProps,h),o.child;case 8:return Jn(a,o,o.pendingProps.children,h),o.child;case 12:return Jn(a,o,o.pendingProps.children,h),o.child;case 10:return g=o.pendingProps,Qs(o,o.type,g.value),Jn(a,o,g.children,h),o.child;case 9:return _=o.type._context,g=o.pendingProps.children,ll(o),_=Qn(_),g=g(_),o.flags|=1,Jn(a,o,g,h),o.child;case 14:return xS(a,o,o.type,o.pendingProps,h);case 15:return wS(a,o,o.type,o.pendingProps,h);case 19:return DS(a,o,h);case 31:return Xj(a,o,h);case 22:return SS(a,o,h,o.pendingProps);case 24:return ll(o),g=Qn(bn),a===null?(_=Pv(),_===null&&(_=Ue,w=Ov(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=h),_=w),o.memoizedState={parent:g,cache:_},kv(o),Qs(o,bn,_)):((a.lanes&h)!==0&&(Lv(a,o),oh(o,null,null,h),sh()),_=a.memoizedState,w=o.memoizedState,_.parent!==g?(_={parent:g,cache:g},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),Qs(o,bn,g)):(g=w.cache,Qs(o,bn,g),g!==_.cache&&Cv(o,[bn],h,!0))),Jn(a,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ja(a){a.flags|=4}function py(a,o,h,g,_){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(aA())a.flags|=8192;else throw hl=Cf,Dv}else a.flags&=-16777217}function LS(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!YA(o))if(aA())a.flags|=8192;else throw hl=Cf,Dv}function qf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Vd():536870912,a.lanes|=o,Oc|=o)}function fh(a,o){if(!ue)switch(a.tailMode){case"hidden":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Ve(a){var o=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(o)for(var _=a.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=g,a.childLanes=h,o}function Kj(a,o,h){var g=o.pendingProps;switch(ln(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(o),null;case 1:return Ve(o),null;case 3:return h=o.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),Xa(bn),ht(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&($r(o)?Ja(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,th())),Ve(o),null;case 26:var _=o.type,w=o.memoizedState;return a===null?(Ja(o),w!==null?(Ve(o),LS(o,w)):(Ve(o),py(o,_,null,g,h))):w?w!==a.memoizedState?(Ja(o),Ve(o),LS(o,w)):(Ve(o),o.flags&=-16777217):(a=a.memoizedProps,a!==g&&Ja(o),Ve(o),py(o,_,a,g,h)),null;case 27:if(Zt(o),h=Tt.current,_=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==g&&Ja(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return Ve(o),null}a=bt.current,$r(o)?Ju(o):(a=FA(_,g,h),o.stateNode=a,Ja(o))}return Ve(o),null;case 5:if(Zt(o),_=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==g&&Ja(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return Ve(o),null}if(w=bt.current,$r(o))Ju(o);else{var P=ap(Tt.current);switch(w){case 1:w=P.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:w=P.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":w=P.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":w=P.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":w=P.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof g.is=="string"?P.createElement("select",{is:g.is}):P.createElement("select"),g.multiple?w.multiple=!0:g.size&&(w.size=g.size);break;default:w=typeof g.is=="string"?P.createElement(_,{is:g.is}):P.createElement(_)}}w[vn]=o,w[Rn]=g;t:for(P=o.child;P!==null;){if(P.tag===5||P.tag===6)w.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===o)break t;for(;P.sibling===null;){if(P.return===null||P.return===o)break t;P=P.return}P.sibling.return=P.return,P=P.sibling}o.stateNode=w;t:switch(ti(w,_,g),_){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}g&&Ja(o)}}return Ve(o),py(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,h),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==g&&Ja(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(i(166));if(a=Tt.current,$r(o)){if(a=o.stateNode,h=o.memoizedProps,g=null,_=be,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}a[vn]=o,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||MA(a.nodeValue,h)),a||ma(o,!0)}else a=ap(a).createTextNode(g),a[vn]=o,o.stateNode=a}return Ve(o),null;case 31:if(h=o.memoizedState,a===null||a.memoizedState!==null){if(g=$r(o),h!==null){if(a===null){if(!g)throw Error(i(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[vn]=o}else Ya(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ve(o),a=!1}else h=th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return o.flags&256?(er(o),o):(er(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Ve(o),null;case 13:if(g=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=$r(o),g!==null&&g.dehydrated!==null){if(a===null){if(!_)throw Error(i(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[vn]=o}else Ya(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ve(o),_=!1}else _=th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(er(o),o):(er(o),null)}return er(o),(o.flags&128)!==0?(o.lanes=h,o):(h=g!==null,a=a!==null&&a.memoizedState!==null,h&&(g=o.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool),w=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==_&&(g.flags|=2048)),h!==a&&h&&(o.child.flags|=8192),qf(o,o.updateQueue),Ve(o),null);case 4:return ht(),a===null&&Ry(o.stateNode.containerInfo),Ve(o),null;case 10:return Xa(o.type),Ve(o),null;case 19:if(it(pn),g=o.memoizedState,g===null)return Ve(o),null;if(_=(o.flags&128)!==0,w=g.rendering,w===null)if(_)fh(g,!1);else{if(un!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=Df(a),w!==null){for(o.flags|=128,fh(g,!1),a=w.updateQueue,o.updateQueue=a,qf(o,a),o.subtreeFlags=0,a=h,h=o.child;h!==null;)Zu(h,a),h=h.sibling;return dt(pn,pn.current&1|2),ue&&Ft(o,g.treeForkCount),o.child}a=a.sibling}g.tail!==null&&fe()>Xf&&(o.flags|=128,_=!0,fh(g,!1),o.lanes=4194304)}else{if(!_)if(a=Df(w),a!==null){if(o.flags|=128,_=!0,a=a.updateQueue,o.updateQueue=a,qf(o,a),fh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ue)return Ve(o),null}else 2*fe()-g.renderingStartTime>Xf&&h!==536870912&&(o.flags|=128,_=!0,fh(g,!1),o.lanes=4194304);g.isBackwards?(w.sibling=o.child,o.child=w):(a=g.last,a!==null?a.sibling=w:o.child=w,g.last=w)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=fe(),a.sibling=null,h=pn.current,dt(pn,_?h&1|2:h&1),ue&&Ft(o,g.treeForkCount),a):(Ve(o),null);case 22:case 23:return er(o),Iv(),g=o.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(h&536870912)!==0&&(o.flags&128)===0&&(Ve(o),o.subtreeFlags&6&&(o.flags|=8192)):Ve(o),h=o.updateQueue,h!==null&&qf(o,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==h&&(o.flags|=2048),a!==null&&it(cl),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Xa(bn),Ve(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Qj(a,o){switch(ln(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Xa(bn),ht(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Zt(o),null;case 31:if(o.memoizedState!==null){if(er(o),o.alternate===null)throw Error(i(340));Ya()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(er(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Ya()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return it(pn),null;case 4:return ht(),null;case 10:return Xa(o.type),null;case 22:case 23:return er(o),Iv(),a!==null&&it(cl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Xa(bn),null;case 25:return null;default:return null}}function NS(a,o){switch(ln(o),o.tag){case 3:Xa(bn),ht();break;case 26:case 27:case 5:Zt(o);break;case 4:ht();break;case 31:o.memoizedState!==null&&er(o);break;case 13:er(o);break;case 19:it(pn);break;case 10:Xa(o.type);break;case 22:case 23:er(o),Iv(),a!==null&&it(cl);break;case 24:Xa(bn)}}function ph(a,o){try{var h=o.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&a)===a){g=void 0;var w=h.create,P=h.inst;g=w(),P.destroy=g}h=h.next}while(h!==_)}}catch(B){ke(o,o.return,B)}}function ro(a,o,h){try{var g=o.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var w=_.next;g=w;do{if((g.tag&a)===a){var P=g.inst,B=P.destroy;if(B!==void 0){P.destroy=void 0,_=o;var W=h,at=B;try{at()}catch(ft){ke(_,W,ft)}}}g=g.next}while(g!==w)}}catch(ft){ke(o,o.return,ft)}}function jS(a){var o=a.updateQueue;if(o!==null){var h=a.stateNode;try{Tw(o,h)}catch(g){ke(a,a.return,g)}}}function RS(a,o,h){h.props=pl(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){ke(a,o,g)}}function mh(a,o){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(_){ke(a,o,_)}}function va(a,o){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(_){ke(a,o,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){ke(a,o,_)}else h.current=null}function IS(a){var o=a.type,h=a.memoizedProps,g=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break t;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(_){ke(a,a.return,_)}}function my(a,o,h){try{var g=a.stateNode;_R(g,a.type,h,o),g[Rn]=o}catch(_){ke(a,a.return,_)}}function zS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ho(a.type)||a.tag===4}function gy(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||zS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ho(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function vy(a,o,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(a),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Pi));else if(g!==4&&(g===27&&ho(a.type)&&(h=a.stateNode,o=null),a=a.child,a!==null))for(vy(a,o,h),a=a.sibling;a!==null;)vy(a,o,h),a=a.sibling}function Gf(a,o,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?h.insertBefore(a,o):h.appendChild(a);else if(g!==4&&(g===27&&ho(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Gf(a,o,h),a=a.sibling;a!==null;)Gf(a,o,h),a=a.sibling}function BS(a){var o=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);ti(o,g,h),o[vn]=a,o[Rn]=h}catch(w){ke(a,a.return,w)}}var ts=!1,wn=!1,yy=!1,FS=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function Jj(a,o){if(a=a.containerInfo,By=dp,a=Qo(a),ca(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break t}var P=0,B=-1,W=-1,at=0,ft=0,vt=a,ot=null;e:for(;;){for(var ut;vt!==h||_!==0&&vt.nodeType!==3||(B=P+_),vt!==w||g!==0&&vt.nodeType!==3||(W=P+g),vt.nodeType===3&&(P+=vt.nodeValue.length),(ut=vt.firstChild)!==null;)ot=vt,vt=ut;for(;;){if(vt===a)break e;if(ot===h&&++at===_&&(B=P),ot===w&&++ft===g&&(W=P),(ut=vt.nextSibling)!==null)break;vt=ot,ot=vt.parentNode}vt=ut}h=B===-1||W===-1?null:{start:B,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(Fy={focusedElem:a,selectionRange:h},dp=!1,Bn=o;Bn!==null;)if(o=Bn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Bn=a;else for(;Bn!==null;){switch(o=Bn,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)_=a[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,h=o,_=w.memoizedProps,w=w.memoizedState,g=h.stateNode;try{var Rt=pl(h.type,_);a=g.getSnapshotBeforeUpdate(Rt,w),g.__reactInternalSnapshotBeforeUpdate=a}catch(Vt){ke(h,h.return,Vt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,h=a.nodeType,h===9)$y(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":$y(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,Bn=a;break}Bn=o.return}}function US(a,o,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:ns(a,h),g&4&&ph(5,h);break;case 1:if(ns(a,h),g&4)if(a=h.stateNode,o===null)try{a.componentDidMount()}catch(P){ke(h,h.return,P)}else{var _=pl(h.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(_,o,a.__reactInternalSnapshotBeforeUpdate)}catch(P){ke(h,h.return,P)}}g&64&&jS(h),g&512&&mh(h,h.return);break;case 3:if(ns(a,h),g&64&&(a=h.updateQueue,a!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{Tw(a,o)}catch(P){ke(h,h.return,P)}}break;case 27:o===null&&g&4&&BS(h);case 26:case 5:ns(a,h),o===null&&g&4&&IS(h),g&512&&mh(h,h.return);break;case 12:ns(a,h);break;case 31:ns(a,h),g&4&&qS(a,h);break;case 13:ns(a,h),g&4&&GS(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=lR.bind(null,h),OR(a,h))));break;case 22:if(g=h.memoizedState!==null||ts,!g){o=o!==null&&o.memoizedState!==null||wn,_=ts;var w=wn;ts=g,(wn=o)&&!w?is(a,h,(h.subtreeFlags&8772)!==0):ns(a,h),ts=_,wn=w}break;case 30:break;default:ns(a,h)}}function HS(a){var o=a.alternate;o!==null&&(a.alternate=null,HS(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ku(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ke=null,ji=!1;function es(a,o,h){for(h=h.child;h!==null;)$S(a,o,h),h=h.sibling}function $S(a,o,h){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Rr,h)}catch{}switch(h.tag){case 26:wn||va(h,o),es(a,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:wn||va(h,o);var g=Ke,_=ji;ho(h.type)&&(Ke=h.stateNode,ji=!1),es(a,o,h),Ah(h.stateNode),Ke=g,ji=_;break;case 5:wn||va(h,o);case 6:if(g=Ke,_=ji,Ke=null,es(a,o,h),Ke=g,ji=_,Ke!==null)if(ji)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(h.stateNode)}catch(w){ke(h,o,w)}else try{Ke.removeChild(h.stateNode)}catch(w){ke(h,o,w)}break;case 18:Ke!==null&&(ji?(a=Ke,jA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Rc(a)):jA(Ke,h.stateNode));break;case 4:g=Ke,_=ji,Ke=h.stateNode.containerInfo,ji=!0,es(a,o,h),Ke=g,ji=_;break;case 0:case 11:case 14:case 15:ro(2,h,o),wn||ro(4,h,o),es(a,o,h);break;case 1:wn||(va(h,o),g=h.stateNode,typeof g.componentWillUnmount=="function"&&RS(h,o,g)),es(a,o,h);break;case 21:es(a,o,h);break;case 22:wn=(g=wn)||h.memoizedState!==null,es(a,o,h),wn=g;break;default:es(a,o,h)}}function qS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Rc(a)}catch(h){ke(o,o.return,h)}}}function GS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Rc(a)}catch(h){ke(o,o.return,h)}}function tR(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new FS),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new FS),o;default:throw Error(i(435,a.tag))}}function Wf(a,o){var h=tR(a);o.forEach(function(g){if(!h.has(g)){h.add(g);var _=cR.bind(null,a,g);g.then(_,_)}})}function Ri(a,o){var h=o.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g],w=a,P=o,B=P;t:for(;B!==null;){switch(B.tag){case 27:if(ho(B.type)){Ke=B.stateNode,ji=!1;break t}break;case 5:Ke=B.stateNode,ji=!1;break t;case 3:case 4:Ke=B.stateNode.containerInfo,ji=!0;break t}B=B.return}if(Ke===null)throw Error(i(160));$S(w,P,_),Ke=null,ji=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)WS(o,a),o=o.sibling}var Gr=null;function WS(a,o){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ri(o,a),Ii(a),g&4&&(ro(3,a,a.return),ph(3,a),ro(5,a,a.return));break;case 1:Ri(o,a),Ii(a),g&512&&(wn||h===null||va(h,h.return)),g&64&&ts&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var _=Gr;if(Ri(o,a),Ii(a),g&512&&(wn||h===null||va(h,h.return)),g&4){var w=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){t:{g=a.type,h=a.memoizedProps,_=_.ownerDocument||_;e:switch(g){case"title":w=_.getElementsByTagName("title")[0],(!w||w[Ro]||w[vn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(g),_.head.insertBefore(w,_.querySelector("head > title"))),ti(w,g,h),w[vn]=a,yn(w),g=w;break t;case"link":var P=WA("link","href",_).get(g+(h.href||""));if(P){for(var B=0;B<P.length;B++)if(w=P[B],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){P.splice(B,1);break e}}w=_.createElement(g),ti(w,g,h),_.head.appendChild(w);break;case"meta":if(P=WA("meta","content",_).get(g+(h.content||""))){for(B=0;B<P.length;B++)if(w=P[B],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){P.splice(B,1);break e}}w=_.createElement(g),ti(w,g,h),_.head.appendChild(w);break;default:throw Error(i(468,g))}w[vn]=a,yn(w),g=w}a.stateNode=g}else VA(_,a.type,a.stateNode);else a.stateNode=GA(_,g,a.memoizedProps);else w!==g?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,g===null?VA(_,a.type,a.stateNode):GA(_,g,a.memoizedProps)):g===null&&a.stateNode!==null&&my(a,a.memoizedProps,h.memoizedProps)}break;case 27:Ri(o,a),Ii(a),g&512&&(wn||h===null||va(h,h.return)),h!==null&&g&4&&my(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Ri(o,a),Ii(a),g&512&&(wn||h===null||va(h,h.return)),a.flags&32){_=a.stateNode;try{dr(_,"")}catch(Rt){ke(a,a.return,Rt)}}g&4&&a.stateNode!=null&&(_=a.memoizedProps,my(a,_,h!==null?h.memoizedProps:_)),g&1024&&(yy=!0);break;case 6:if(Ri(o,a),Ii(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(Rt){ke(a,a.return,Rt)}}break;case 3:if(lp=null,_=Gr,Gr=sp(o.containerInfo),Ri(o,a),Gr=_,Ii(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Rc(o.containerInfo)}catch(Rt){ke(a,a.return,Rt)}yy&&(yy=!1,VS(a));break;case 4:g=Gr,Gr=sp(a.stateNode.containerInfo),Ri(o,a),Ii(a),Gr=g;break;case 12:Ri(o,a),Ii(a);break;case 31:Ri(o,a),Ii(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Wf(a,g)));break;case 13:Ri(o,a),Ii(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Yf=fe()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Wf(a,g)));break;case 22:_=a.memoizedState!==null;var W=h!==null&&h.memoizedState!==null,at=ts,ft=wn;if(ts=at||_,wn=ft||W,Ri(o,a),wn=ft,ts=at,Ii(a),g&8192)t:for(o=a.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(h===null||W||ts||wn||ml(a)),h=null,o=a;;){if(o.tag===5||o.tag===26){if(h===null){W=h=o;try{if(w=W.stateNode,_)P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{B=W.stateNode;var vt=W.memoizedProps.style,ot=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;B.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(Rt){ke(W,W.return,Rt)}}}else if(o.tag===6){if(h===null){W=o;try{W.stateNode.nodeValue=_?"":W.memoizedProps}catch(Rt){ke(W,W.return,Rt)}}}else if(o.tag===18){if(h===null){W=o;try{var ut=W.stateNode;_?RA(ut,!0):RA(W.stateNode,!1)}catch(Rt){ke(W,W.return,Rt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Wf(a,h))));break;case 19:Ri(o,a),Ii(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Wf(a,g)));break;case 30:break;case 21:break;default:Ri(o,a),Ii(a)}}function Ii(a){var o=a.flags;if(o&2){try{for(var h,g=a.return;g!==null;){if(zS(g)){h=g;break}g=g.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var _=h.stateNode,w=gy(a);Gf(a,w,_);break;case 5:var P=h.stateNode;h.flags&32&&(dr(P,""),h.flags&=-33);var B=gy(a);Gf(a,B,P);break;case 3:case 4:var W=h.stateNode.containerInfo,at=gy(a);vy(a,at,W);break;default:throw Error(i(161))}}catch(ft){ke(a,a.return,ft)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function VS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;VS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ns(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)US(a,o.alternate,o),o=o.sibling}function ml(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ro(4,o,o.return),ml(o);break;case 1:va(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&RS(o,o.return,h),ml(o);break;case 27:Ah(o.stateNode);case 26:case 5:va(o,o.return),ml(o);break;case 22:o.memoizedState===null&&ml(o);break;case 30:ml(o);break;default:ml(o)}a=a.sibling}}function is(a,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,_=a,w=o,P=w.flags;switch(w.tag){case 0:case 11:case 15:is(_,w,h),ph(4,w);break;case 1:if(is(_,w,h),g=w,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(at){ke(g,g.return,at)}if(g=w,_=g.updateQueue,_!==null){var B=g.stateNode;try{var W=_.shared.hiddenCallbacks;if(W!==null)for(_.shared.hiddenCallbacks=null,_=0;_<W.length;_++)Aw(W[_],B)}catch(at){ke(g,g.return,at)}}h&&P&64&&jS(w),mh(w,w.return);break;case 27:BS(w);case 26:case 5:is(_,w,h),h&&g===null&&P&4&&IS(w),mh(w,w.return);break;case 12:is(_,w,h);break;case 31:is(_,w,h),h&&P&4&&qS(_,w);break;case 13:is(_,w,h),h&&P&4&&GS(_,w);break;case 22:w.memoizedState===null&&is(_,w,h),mh(w,w.return);break;case 30:break;default:is(_,w,h)}o=o.sibling}}function by(a,o){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&eh(h))}function _y(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&eh(a))}function Wr(a,o,h,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)YS(a,o,h,g),o=o.sibling}function YS(a,o,h,g){var _=o.flags;switch(o.tag){case 0:case 11:case 15:Wr(a,o,h,g),_&2048&&ph(9,o);break;case 1:Wr(a,o,h,g);break;case 3:Wr(a,o,h,g),_&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&eh(a)));break;case 12:if(_&2048){Wr(a,o,h,g),a=o.stateNode;try{var w=o.memoizedProps,P=w.id,B=w.onPostCommit;typeof B=="function"&&B(P,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){ke(o,o.return,W)}}else Wr(a,o,h,g);break;case 31:Wr(a,o,h,g);break;case 13:Wr(a,o,h,g);break;case 23:break;case 22:w=o.stateNode,P=o.alternate,o.memoizedState!==null?w._visibility&2?Wr(a,o,h,g):gh(a,o):w._visibility&2?Wr(a,o,h,g):(w._visibility|=2,Tc(a,o,h,g,(o.subtreeFlags&10256)!==0||!1)),_&2048&&by(P,o);break;case 24:Wr(a,o,h,g),_&2048&&_y(o.alternate,o);break;default:Wr(a,o,h,g)}}function Tc(a,o,h,g,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,P=o,B=h,W=g,at=P.flags;switch(P.tag){case 0:case 11:case 15:Tc(w,P,B,W,_),ph(8,P);break;case 23:break;case 22:var ft=P.stateNode;P.memoizedState!==null?ft._visibility&2?Tc(w,P,B,W,_):gh(w,P):(ft._visibility|=2,Tc(w,P,B,W,_)),_&&at&2048&&by(P.alternate,P);break;case 24:Tc(w,P,B,W,_),_&&at&2048&&_y(P.alternate,P);break;default:Tc(w,P,B,W,_)}o=o.sibling}}function gh(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=a,g=o,_=g.flags;switch(g.tag){case 22:gh(h,g),_&2048&&by(g.alternate,g);break;case 24:gh(h,g),_&2048&&_y(g.alternate,g);break;default:gh(h,g)}o=o.sibling}}var vh=8192;function Ec(a,o,h){if(a.subtreeFlags&vh)for(a=a.child;a!==null;)XS(a,o,h),a=a.sibling}function XS(a,o,h){switch(a.tag){case 26:Ec(a,o,h),a.flags&vh&&a.memoizedState!==null&&FR(h,Gr,a.memoizedState,a.memoizedProps);break;case 5:Ec(a,o,h);break;case 3:case 4:var g=Gr;Gr=sp(a.stateNode.containerInfo),Ec(a,o,h),Gr=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=vh,vh=16777216,Ec(a,o,h),vh=g):Ec(a,o,h));break;default:Ec(a,o,h)}}function ZS(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function yh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var g=o[h];Bn=g,QS(g,a)}ZS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)KS(a),a=a.sibling}function KS(a){switch(a.tag){case 0:case 11:case 15:yh(a),a.flags&2048&&ro(9,a,a.return);break;case 3:yh(a);break;case 12:yh(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Vf(a)):yh(a);break;default:yh(a)}}function Vf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var g=o[h];Bn=g,QS(g,a)}ZS(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ro(8,o,o.return),Vf(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,Vf(o));break;default:Vf(o)}a=a.sibling}}function QS(a,o){for(;Bn!==null;){var h=Bn;switch(h.tag){case 0:case 11:case 15:ro(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:eh(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Bn=g;else t:for(h=a;Bn!==null;){g=Bn;var _=g.sibling,w=g.return;if(HS(g),g===h){Bn=null;break t}if(_!==null){_.return=w,Bn=_;break t}Bn=w}}}var eR={getCacheForType:function(a){var o=Qn(bn),h=o.data.get(a);return h===void 0&&(h=a(),o.data.set(a,h)),h},cacheSignal:function(){return Qn(bn).controller.signal}},nR=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ue=null,he=null,me=0,De=0,nr=null,ao=!1,Cc=!1,xy=!1,rs=0,un=0,so=0,gl=0,wy=0,ir=0,Oc=0,bh=null,zi=null,Sy=!1,Yf=0,JS=0,Xf=1/0,Zf=null,oo=null,Mn=0,lo=null,Mc=null,as=0,Ay=0,Ty=null,tA=null,_h=0,Ey=null;function rr(){return(Ae&2)!==0&&me!==0?me&-me:G.T!==null?ky():Pu()}function eA(){if(ir===0)if((me&536870912)===0||ue){var a=Lo;Lo<<=1,(Lo&3932160)===0&&(Lo=262144),ir=a}else ir=536870912;return a=tr.current,a!==null&&(a.flags|=32),ir}function Bi(a,o,h){(a===Ue&&(De===2||De===9)||a.cancelPendingCommit!==null)&&(Pc(a,0),co(a,me,ir,!1)),za(a,h),((Ae&2)===0||a!==Ue)&&(a===Ue&&((Ae&2)===0&&(gl|=h),un===4&&co(a,me,ir,!1)),ya(a))}function nA(a,o,h){if((Ae&6)!==0)throw Error(i(327));var g=!h&&(o&127)===0&&(o&a.expiredLanes)===0||jo(a,o),_=g?aR(a,o):Oy(a,o,!0),w=g;do{if(_===0){Cc&&!g&&co(a,o,0,!1);break}else{if(h=a.current.alternate,w&&!iR(h)){_=Oy(a,o,!1),w=!1;continue}if(_===2){if(w=o,a.errorRecoveryDisabledLanes&w)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;t:{var B=a;_=bh;var W=B.current.memoizedState.isDehydrated;if(W&&(Pc(B,P).flags|=256),P=Oy(B,P,!1),P!==2){if(xy&&!W){B.errorRecoveryDisabledLanes|=w,gl|=w,_=4;break t}w=zi,zi=_,w!==null&&(zi===null?zi=w:zi.push.apply(zi,w))}_=P}if(w=!1,_!==2)continue}}if(_===1){Pc(a,0),co(a,o,0,!0);break}t:{switch(g=a,w=_,w){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:co(g,o,ir,!ao);break t;case 2:zi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(_=Yf+300-fe(),10<_)){if(co(g,o,ir,!ao),Zl(g,0,!0)!==0)break t;as=o,g.timeoutHandle=LA(iA.bind(null,g,h,zi,Zf,Sy,o,ir,gl,Oc,ao,w,"Throttled",-0,0),_);break t}iA(g,h,zi,Zf,Sy,o,ir,gl,Oc,ao,w,null,-0,0)}}break}while(!0);ya(a)}function iA(a,o,h,g,_,w,P,B,W,at,ft,vt,ot,ut){if(a.timeoutHandle=-1,vt=o.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},XS(o,w,vt);var Rt=(w&62914560)===w?Yf-fe():(w&4194048)===w?JS-fe():0;if(Rt=UR(vt,Rt),Rt!==null){as=w,a.cancelPendingCommit=Rt(hA.bind(null,a,o,w,h,g,_,P,B,W,ft,vt,null,ot,ut)),co(a,w,P,!at);return}}hA(a,o,w,h,g,_,P,B,W)}function iR(a){for(var o=a;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var _=h[g],w=_.getSnapshot;_=_.value;try{if(!In(w(),_))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function co(a,o,h,g){o&=~wy,o&=~gl,a.suspendedLanes|=o,a.pingedLanes&=~o,g&&(a.warmLanes|=o),g=a.expirationTimes;for(var _=o;0<_;){var w=31-gi(_),P=1<<w;g[w]=-1,_&=~P}h!==0&&Yd(a,h,o)}function Kf(){return(Ae&6)===0?(xh(0),!1):!0}function Cy(){if(he!==null){if(De===0)var a=he.return;else a=he,qr=ga=null,$v(a),_c=null,ih=0,a=he;for(;a!==null;)NS(a.alternate,a),a=a.return;he=null}}function Pc(a,o){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,SR(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),as=0,Cy(),Ue=a,he=h=br(a.current,null),me=o,De=0,nr=null,ao=!1,Cc=jo(a,o),xy=!1,Oc=ir=wy=gl=so=un=0,zi=bh=null,Sy=!1,(o&8)!==0&&(o|=o&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=o;0<g;){var _=31-gi(g),w=1<<_;o|=a[_],g&=~w}return rs=o,il(),h}function rA(a,o){ae=null,G.H=hh,o===bc||o===Ef?(o=_w(),De=3):o===Dv?(o=_w(),De=4):De=o===ay?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,nr=o,he===null&&(un=1,Ff(a,m(o,a.current)))}function aA(){var a=tr.current;return a===null?!0:(me&4194048)===me?_r===null:(me&62914560)===me||(me&536870912)!==0?a===_r:!1}function sA(){var a=G.H;return G.H=hh,a===null?hh:a}function oA(){var a=G.A;return G.A=eR,a}function Qf(){un=4,ao||(me&4194048)!==me&&tr.current!==null||(Cc=!0),(so&134217727)===0&&(gl&134217727)===0||Ue===null||co(Ue,me,ir,!1)}function Oy(a,o,h){var g=Ae;Ae|=2;var _=sA(),w=oA();(Ue!==a||me!==o)&&(Zf=null,Pc(a,o)),o=!1;var P=un;t:do try{if(De!==0&&he!==null){var B=he,W=nr;switch(De){case 8:Cy(),P=6;break t;case 3:case 2:case 9:case 6:tr.current===null&&(o=!0);var at=De;if(De=0,nr=null,Dc(a,B,W,at),h&&Cc){P=0;break t}break;default:at=De,De=0,nr=null,Dc(a,B,W,at)}}rR(),P=un;break}catch(ft){rA(a,ft)}while(!0);return o&&a.shellSuspendCounter++,qr=ga=null,Ae=g,G.H=_,G.A=w,he===null&&(Ue=null,me=0,il()),P}function rR(){for(;he!==null;)lA(he)}function aR(a,o){var h=Ae;Ae|=2;var g=sA(),_=oA();Ue!==a||me!==o?(Zf=null,Xf=fe()+500,Pc(a,o)):Cc=jo(a,o);t:do try{if(De!==0&&he!==null){o=he;var w=nr;e:switch(De){case 1:De=0,nr=null,Dc(a,o,w,1);break;case 2:case 9:if(yw(w)){De=0,nr=null,cA(o);break}o=function(){De!==2&&De!==9||Ue!==a||(De=7),ya(a)},w.then(o,o);break t;case 3:De=7;break t;case 4:De=5;break t;case 7:yw(w)?(De=0,nr=null,cA(o)):(De=0,nr=null,Dc(a,o,w,7));break;case 5:var P=null;switch(he.tag){case 26:P=he.memoizedState;case 5:case 27:var B=he;if(P?YA(P):B.stateNode.complete){De=0,nr=null;var W=B.sibling;if(W!==null)he=W;else{var at=B.return;at!==null?(he=at,Jf(at)):he=null}break e}}De=0,nr=null,Dc(a,o,w,5);break;case 6:De=0,nr=null,Dc(a,o,w,6);break;case 8:Cy(),un=6;break t;default:throw Error(i(462))}}sR();break}catch(ft){rA(a,ft)}while(!0);return qr=ga=null,G.H=g,G.A=_,Ae=h,he!==null?0:(Ue=null,me=0,il(),un)}function sR(){for(;he!==null&&!Yt();)lA(he)}function lA(a){var o=kS(a.alternate,a,rs);a.memoizedProps=a.pendingProps,o===null?Jf(a):he=o}function cA(a){var o=a,h=o.alternate;switch(o.tag){case 15:case 0:o=ES(h,o,o.pendingProps,o.type,void 0,me);break;case 11:o=ES(h,o,o.pendingProps,o.type.render,o.ref,me);break;case 5:$v(o);default:NS(h,o),o=he=Zu(o,rs),o=kS(h,o,rs)}a.memoizedProps=a.pendingProps,o===null?Jf(a):he=o}function Dc(a,o,h,g){qr=ga=null,$v(o),_c=null,ih=0;var _=o.return;try{if(Yj(a,_,o,h,me)){un=1,Ff(a,m(h,a.current)),he=null;return}}catch(w){if(_!==null)throw he=_,w;un=1,Ff(a,m(h,a.current)),he=null;return}o.flags&32768?(ue||g===1?a=!0:Cc||(me&536870912)!==0?a=!1:(ao=a=!0,(g===2||g===9||g===3||g===6)&&(g=tr.current,g!==null&&g.tag===13&&(g.flags|=16384))),uA(o,a)):Jf(o)}function Jf(a){var o=a;do{if((o.flags&32768)!==0){uA(o,ao);return}a=o.return;var h=Kj(o.alternate,o,rs);if(h!==null){he=h;return}if(o=o.sibling,o!==null){he=o;return}he=o=a}while(o!==null);un===0&&(un=5)}function uA(a,o){do{var h=Qj(a.alternate,a);if(h!==null){h.flags&=32767,he=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(a=a.sibling,a!==null)){he=a;return}he=a=h}while(a!==null);un=6,he=null}function hA(a,o,h,g,_,w,P,B,W){a.cancelPendingCommit=null;do tp();while(Mn!==0);if((Ae&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(w=o.lanes|o.childLanes,w|=dc,uv(a,h,w,P,B,W),a===Ue&&(he=Ue=null,me=0),Mc=o,lo=a,as=h,Ay=w,Ty=_,tA=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,uR(le,function(){return gA(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=G.T,G.T=null,_=K.p,K.p=2,P=Ae,Ae|=4;try{Jj(a,o,h)}finally{Ae=P,K.p=_,G.T=g}}Mn=1,dA(),fA(),pA()}}function dA(){if(Mn===1){Mn=0;var a=lo,o=Mc,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=G.T,G.T=null;var g=K.p;K.p=2;var _=Ae;Ae|=4;try{WS(o,a);var w=Fy,P=Qo(a.containerInfo),B=w.focusedElem,W=w.selectionRange;if(P!==B&&B&&B.ownerDocument&&lc(B.ownerDocument.documentElement,B)){if(W!==null&&ca(B)){var at=W.start,ft=W.end;if(ft===void 0&&(ft=at),"selectionStart"in B)B.selectionStart=at,B.selectionEnd=Math.min(ft,B.value.length);else{var vt=B.ownerDocument||document,ot=vt&&vt.defaultView||window;if(ot.getSelection){var ut=ot.getSelection(),Rt=B.textContent.length,Vt=Math.min(W.start,Rt),Ie=W.end===void 0?Vt:Math.min(W.end,Rt);!ut.extend&&Vt>Ie&&(P=Ie,Ie=Vt,Vt=P);var tt=Ko(B,Vt),X=Ko(B,Ie);if(tt&&X&&(ut.rangeCount!==1||ut.anchorNode!==tt.node||ut.anchorOffset!==tt.offset||ut.focusNode!==X.node||ut.focusOffset!==X.offset)){var rt=vt.createRange();rt.setStart(tt.node,tt.offset),ut.removeAllRanges(),Vt>Ie?(ut.addRange(rt),ut.extend(X.node,X.offset)):(rt.setEnd(X.node,X.offset),ut.addRange(rt))}}}}for(vt=[],ut=B;ut=ut.parentNode;)ut.nodeType===1&&vt.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<vt.length;B++){var mt=vt[B];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}dp=!!By,Fy=By=null}finally{Ae=_,K.p=g,G.T=h}}a.current=o,Mn=2}}function fA(){if(Mn===2){Mn=0;var a=lo,o=Mc,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=G.T,G.T=null;var g=K.p;K.p=2;var _=Ae;Ae|=4;try{US(a,o.alternate,o)}finally{Ae=_,K.p=g,G.T=h}}Mn=3}}function pA(){if(Mn===4||Mn===3){Mn=0,Kt();var a=lo,o=Mc,h=as,g=tA;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Mn=5:(Mn=0,Mc=lo=null,mA(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(oo=null),zt(h),o=o.stateNode,En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Rr,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=G.T,_=K.p,K.p=2,G.T=null;try{for(var w=a.onRecoverableError,P=0;P<g.length;P++){var B=g[P];w(B.value,{componentStack:B.stack})}}finally{G.T=o,K.p=_}}(as&3)!==0&&tp(),ya(a),_=a.pendingLanes,(h&261930)!==0&&(_&42)!==0?a===Ey?_h++:(_h=0,Ey=a):_h=0,xh(0)}}function mA(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,eh(o)))}function tp(){return dA(),fA(),pA(),gA()}function gA(){if(Mn!==5)return!1;var a=lo,o=Ay;Ay=0;var h=zt(as),g=G.T,_=K.p;try{K.p=32>h?32:h,G.T=null,h=Ty,Ty=null;var w=lo,P=as;if(Mn=0,Mc=lo=null,as=0,(Ae&6)!==0)throw Error(i(331));var B=Ae;if(Ae|=4,KS(w.current),YS(w,w.current,P,h),Ae=B,xh(0,!1),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Rr,w)}catch{}return!0}finally{K.p=_,G.T=g,mA(a,o)}}function vA(a,o,h){o=m(h,o),o=ry(a.stateNode,o,2),a=eo(a,o,2),a!==null&&(za(a,2),ya(a))}function ke(a,o,h){if(a.tag===3)vA(a,a,h);else for(;o!==null;){if(o.tag===3){vA(o,a,h);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(oo===null||!oo.has(g))){a=m(h,a),h=yS(2),g=eo(o,h,2),g!==null&&(bS(h,g,o,a),za(g,2),ya(g));break}}o=o.return}}function My(a,o,h){var g=a.pingCache;if(g===null){g=a.pingCache=new nR;var _=new Set;g.set(o,_)}else _=g.get(o),_===void 0&&(_=new Set,g.set(o,_));_.has(h)||(xy=!0,_.add(h),a=oR.bind(null,a,o,h),o.then(a,a))}function oR(a,o,h){var g=a.pingCache;g!==null&&g.delete(o),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Ue===a&&(me&h)===h&&(un===4||un===3&&(me&62914560)===me&&300>fe()-Yf?(Ae&2)===0&&Pc(a,0):wy|=h,Oc===me&&(Oc=0)),ya(a)}function yA(a,o){o===0&&(o=Vd()),a=yr(a,o),a!==null&&(za(a,o),ya(a))}function lR(a){var o=a.memoizedState,h=0;o!==null&&(h=o.retryLane),yA(a,h)}function cR(a,o){var h=0;switch(a.tag){case 31:case 13:var g=a.stateNode,_=a.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(o),yA(a,h)}function uR(a,o){return Jt(a,o)}var ep=null,kc=null,Py=!1,np=!1,Dy=!1,uo=0;function ya(a){a!==kc&&a.next===null&&(kc===null?ep=kc=a:kc=kc.next=a),np=!0,Py||(Py=!0,dR())}function xh(a,o){if(!Dy&&np){Dy=!0;do for(var h=!1,g=ep;g!==null;){if(a!==0){var _=g.pendingLanes;if(_===0)var w=0;else{var P=g.suspendedLanes,B=g.pingedLanes;w=(1<<31-gi(42|a)+1)-1,w&=_&~(P&~B),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,wA(g,w))}else w=me,w=Zl(g,g===Ue?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||jo(g,w)||(h=!0,wA(g,w));g=g.next}while(h);Dy=!1}}function hR(){bA()}function bA(){np=Py=!1;var a=0;uo!==0&&wR()&&(a=uo);for(var o=fe(),h=null,g=ep;g!==null;){var _=g.next,w=_A(g,o);w===0?(g.next=null,h===null?ep=_:h.next=_,_===null&&(kc=h)):(h=g,(a!==0||(w&3)!==0)&&(np=!0)),g=_}Mn!==0&&Mn!==5||xh(a),uo!==0&&(uo=0)}function _A(a,o){for(var h=a.suspendedLanes,g=a.pingedLanes,_=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var P=31-gi(w),B=1<<P,W=_[P];W===-1?((B&h)===0||(B&g)!==0)&&(_[P]=cv(B,o)):W<=o&&(a.expiredLanes|=B),w&=~B}if(o=Ue,h=me,h=Zl(a,a===o?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===o&&(De===2||De===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&qt(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||jo(a,h)){if(o=h&-h,o===a.callbackPriority)return o;switch(g!==null&&qt(g),zt(h)){case 2:case 8:h=Xe;break;case 32:h=le;break;case 268435456:h=Yi;break;default:h=le}return g=xA.bind(null,a),h=Jt(h,g),a.callbackPriority=o,a.callbackNode=h,o}return g!==null&&g!==null&&qt(g),a.callbackPriority=2,a.callbackNode=null,2}function xA(a,o){if(Mn!==0&&Mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(tp()&&a.callbackNode!==h)return null;var g=me;return g=Zl(a,a===Ue?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(nA(a,g,o),_A(a,fe()),a.callbackNode!=null&&a.callbackNode===h?xA.bind(null,a):null)}function wA(a,o){if(tp())return null;nA(a,o,!0)}function dR(){AR(function(){(Ae&6)!==0?Jt(Ot,hR):bA()})}function ky(){if(uo===0){var a=vc;a===0&&(a=ko,ko<<=1,(ko&261888)===0&&(ko=256)),uo=a}return uo}function SA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Bs(""+a)}function AA(a,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,a.id&&h.setAttribute("form",a.id),o.parentNode.insertBefore(h,o),a=new FormData(a),h.parentNode.removeChild(h),a}function fR(a,o,h,g,_){if(o==="submit"&&h&&h.stateNode===_){var w=SA((_[Rn]||null).action),P=g.submitter;P&&(o=(o=P[Rn]||null)?SA(o.formAction):P.getAttribute("formAction"),o!==null&&(w=o,P=null));var B=new ec("action","action",null,g,_);a.push({event:B,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(uo!==0){var W=P?AA(_,P):new FormData(_);Qv(h,{pending:!0,data:W,method:_.method,action:w},null,W)}}else typeof w=="function"&&(B.preventDefault(),W=P?AA(_,P):new FormData(_),Qv(h,{pending:!0,data:W,method:_.method,action:w},w,W))},currentTarget:_}]})}}for(var Ly=0;Ly<da.length;Ly++){var Ny=da[Ly],pR=Ny.toLowerCase(),mR=Ny[0].toUpperCase()+Ny.slice(1);ki(pR,"on"+mR)}ki(tl,"onAnimationEnd"),ki(_f,"onAnimationIteration"),ki(el,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Sv,"onTransitionRun"),ki(xf,"onTransitionStart"),ki(Av,"onTransitionCancel"),ki(Zs,"onTransitionEnd"),aa("onMouseEnter",["mouseout","mouseover"]),aa("onMouseLeave",["mouseout","mouseover"]),aa("onPointerEnter",["pointerout","pointerover"]),aa("onPointerLeave",["pointerout","pointerover"]),Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wh));function TA(a,o){o=(o&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],_=g.event;g=g.listeners;t:{var w=void 0;if(o)for(var P=g.length-1;0<=P;P--){var B=g[P],W=B.instance,at=B.currentTarget;if(B=B.listener,W!==w&&_.isPropagationStopped())break t;w=B,_.currentTarget=at;try{w(_)}catch(ft){nl(ft)}_.currentTarget=null,w=W}else for(P=0;P<g.length;P++){if(B=g[P],W=B.instance,at=B.currentTarget,B=B.listener,W!==w&&_.isPropagationStopped())break t;w=B,_.currentTarget=at;try{w(_)}catch(ft){nl(ft)}_.currentTarget=null,w=W}}}}function de(a,o){var h=o[ia];h===void 0&&(h=o[ia]=new Set);var g=a+"__bubble";h.has(g)||(EA(o,a,2,!1),h.add(g))}function jy(a,o,h){var g=0;o&&(g|=4),EA(h,a,g,o)}var ip="_reactListening"+Math.random().toString(36).slice(2);function Ry(a){if(!a[ip]){a[ip]=!0,Jd.forEach(function(h){h!=="selectionchange"&&(gR.has(h)||jy(h,!1,a),jy(h,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[ip]||(o[ip]=!0,jy("selectionchange",!1,o))}}function EA(a,o,h,g){switch(eT(o)){case 2:var _=qR;break;case 8:_=GR;break;default:_=Ky}h=_.bind(null,o,h,a),_=void 0,!Ho||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),g?_!==void 0?a.addEventListener(o,h,{capture:!0,passive:_}):a.addEventListener(o,h,!0):_!==void 0?a.addEventListener(o,h,{passive:_}):a.addEventListener(o,h,!1)}function Iy(a,o,h,g,_){var w=g;if((o&1)===0&&(o&2)===0&&g!==null)t:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var B=g.stateNode.containerInfo;if(B===_)break;if(P===4)for(P=g.return;P!==null;){var W=P.tag;if((W===3||W===4)&&P.stateNode.containerInfo===_)return;P=P.return}for(;B!==null;){if(P=Fa(B),P===null)return;if(W=P.tag,W===5||W===6||W===26||W===27){g=w=P;continue t}B=B.parentNode}}g=g.return}Bu(function(){var at=w,ft=Uo(h),vt=[];t:{var ot=wf.get(a);if(ot!==void 0){var ut=ec,Rt=a;switch(a){case"keypress":if($o(h)===0)break t;case"keydown":case"keyup":ut=lf;break;case"focusin":Rt="focus",ut=Hu;break;case"focusout":Rt="blur",ut=Hu;break;case"beforeblur":case"afterblur":ut=Hu;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=vv;break;case tl:case _f:case el:ut=$u;break;case Zs:ut=hf;break;case"scroll":case"scrollend":ut=pe;break;case"wheel":ut=Ga;break;case"copy":case"cut":case"paste":ut=pr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=cf;break;case"toggle":case"beforetoggle":ut=Wo}var Vt=(o&4)!==0,Ie=!Vt&&(a==="scroll"||a==="scrollend"),tt=Vt?ot!==null?ot+"Capture":null:ot;Vt=[];for(var X=at,rt;X!==null;){var mt=X;if(rt=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||rt===null||tt===null||(mt=$a(X,tt),mt!=null&&Vt.push(Sh(X,mt,rt))),Ie)break;X=X.return}0<Vt.length&&(ot=new ut(ot,Rt,null,h,ft),vt.push({event:ot,listeners:Vt}))}}if((o&7)===0){t:{if(ot=a==="mouseover"||a==="pointerover",ut=a==="mouseout"||a==="pointerout",ot&&h!==tc&&(Rt=h.relatedTarget||h.fromElement)&&(Fa(Rt)||Rt[Ba]))break t;if((ut||ot)&&(ot=ft.window===ft?ft:(ot=ft.ownerDocument)?ot.defaultView||ot.parentWindow:window,ut?(Rt=h.relatedTarget||h.toElement,ut=at,Rt=Rt?Fa(Rt):null,Rt!==null&&(Ie=s(Rt),Vt=Rt.tag,Rt!==Ie||Vt!==5&&Vt!==27&&Vt!==6)&&(Rt=null)):(ut=null,Rt=at),ut!==Rt)){if(Vt=nf,mt="onMouseLeave",tt="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(Vt=cf,mt="onPointerLeave",tt="onPointerEnter",X="pointer"),Ie=ut==null?ot:ra(ut),rt=Rt==null?ot:ra(Rt),ot=new Vt(mt,X+"leave",ut,h,ft),ot.target=Ie,ot.relatedTarget=rt,mt=null,Fa(ft)===at&&(Vt=new Vt(tt,X+"enter",Rt,h,ft),Vt.target=rt,Vt.relatedTarget=Ie,mt=Vt),Ie=mt,ut&&Rt)e:{for(Vt=vR,tt=ut,X=Rt,rt=0,mt=tt;mt;mt=Vt(mt))rt++;mt=0;for(var Ut=X;Ut;Ut=Vt(Ut))mt++;for(;0<rt-mt;)tt=Vt(tt),rt--;for(;0<mt-rt;)X=Vt(X),mt--;for(;rt--;){if(tt===X||X!==null&&tt===X.alternate){Vt=tt;break e}tt=Vt(tt),X=Vt(X)}Vt=null}else Vt=null;ut!==null&&CA(vt,ot,ut,Vt,!1),Rt!==null&&Ie!==null&&CA(vt,Ie,Rt,Vt,!0)}}t:{if(ot=at?ra(at):window,ut=ot.nodeName&&ot.nodeName.toLowerCase(),ut==="select"||ut==="input"&&ot.type==="file")var xe=Zo;else if(mr(ot))if(mf)xe=wv;else{xe=xv;var It=Ur}else ut=ot.nodeName,!ut||ut.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?at&&Fo(at.elementType)&&(xe=Zo):xe=Ws;if(xe&&(xe=xe(a,at))){pf(vt,xe,h,ft);break t}It&&It(a,ot,at),a==="focusout"&&at&&ot.type==="number"&&at.memoizedProps.value!=null&&zr(ot,"number",ot.value)}switch(It=at?ra(at):window,a){case"focusin":(mr(It)||It.contentEditable==="true")&&(ua=It,uc=at,Jo=null);break;case"focusout":Jo=uc=ua=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,yf(vt,h,ft);break;case"selectionchange":if(cc)break;case"keydown":case"keyup":yf(vt,h,ft)}var oe;if(ic)t:{switch(a){case"compositionstart":var ge="onCompositionStart";break t;case"compositionend":ge="onCompositionEnd";break t;case"compositionupdate":ge="onCompositionUpdate";break t}ge=void 0}else $s?ff(a,h)&&(ge="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ge="onCompositionStart");ge&&(rc&&h.locale!=="ko"&&($s||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&$s&&(oe=oa()):(fr=ft,qa="value"in fr?fr.value:fr.textContent,$s=!0)),It=rp(at,ge),0<It.length&&(ge=new qu(ge,a,null,h,ft),vt.push({event:ge,listeners:It}),oe?ge.data=oe:(oe=Yu(h),oe!==null&&(ge.data=oe)))),(oe=bv?Ji(a,h):qs(a,h))&&(ge=rp(at,"onBeforeInput"),0<ge.length&&(It=new qu("onBeforeInput","beforeinput",null,h,ft),vt.push({event:It,listeners:ge}),It.data=oe)),fR(vt,a,at,h,ft)}TA(vt,o)})}function Sh(a,o,h){return{instance:a,listener:o,currentTarget:h}}function rp(a,o){for(var h=o+"Capture",g=[];a!==null;){var _=a,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=$a(a,h),_!=null&&g.unshift(Sh(a,_,w)),_=$a(a,o),_!=null&&g.push(Sh(a,_,w))),a.tag===3)return g;a=a.return}return[]}function vR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function CA(a,o,h,g,_){for(var w=o._reactName,P=[];h!==null&&h!==g;){var B=h,W=B.alternate,at=B.stateNode;if(B=B.tag,W!==null&&W===g)break;B!==5&&B!==26&&B!==27||at===null||(W=at,_?(at=$a(h,w),at!=null&&P.unshift(Sh(h,at,W))):_||(at=$a(h,w),at!=null&&P.push(Sh(h,at,W)))),h=h.return}P.length!==0&&a.push({event:o,listeners:P})}var yR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function OA(a){return(typeof a=="string"?a:""+a).replace(yR,`
`).replace(bR,"")}function MA(a,o){return o=OA(o),OA(a)===o}function Re(a,o,h,g,_,w){switch(h){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||dr(a,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&dr(a,""+g);break;case"className":Ne(a,"class",g);break;case"tabIndex":Ne(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ne(a,h,g);break;case"style":Ql(a,g,w);break;case"data":if(o!=="object"){Ne(a,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=Bs(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(o!=="input"&&Re(a,o,"name",_.name,_,null),Re(a,o,"formEncType",_.formEncType,_,null),Re(a,o,"formMethod",_.formMethod,_,null),Re(a,o,"formTarget",_.formTarget,_,null)):(Re(a,o,"encType",_.encType,_,null),Re(a,o,"method",_.method,_,null),Re(a,o,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=Bs(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=Pi);break;case"onScroll":g!=null&&de("scroll",a);break;case"onScrollEnd":g!=null&&de("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=Bs(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":de("beforetoggle",a),de("toggle",a),ce(a,"popover",g);break;case"xlinkActuate":Mi(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Mi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Mi(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Mi(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Mi(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Mi(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Mi(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Mi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Mi(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ce(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Jl.get(h)||h,ce(a,h,g))}}function zy(a,o,h,g,_,w){switch(h){case"style":Ql(a,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof g=="string"?dr(a,g):(typeof g=="number"||typeof g=="bigint")&&dr(a,""+g);break;case"onScroll":g!=null&&de("scroll",a);break;case"onScrollEnd":g!=null&&de("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tf.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),o=h.slice(2,_?h.length-7:void 0),w=a[Rn]||null,w=w!=null?w[h]:null,typeof w=="function"&&a.removeEventListener(o,w,_),typeof g=="function")){typeof w!="function"&&w!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(o,g,_);break t}h in a?a[h]=g:g===!0?a.setAttribute(h,""):ce(a,h,g)}}}function ti(a,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",a),de("load",a);var g=!1,_=!1,w;for(w in h)if(h.hasOwnProperty(w)){var P=h[w];if(P!=null)switch(w){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Re(a,o,w,P,h,null)}}_&&Re(a,o,"srcSet",h.srcSet,h,null),g&&Re(a,o,"src",h.src,h,null);return;case"input":de("invalid",a);var B=w=P=_=null,W=null,at=null;for(g in h)if(h.hasOwnProperty(g)){var ft=h[g];if(ft!=null)switch(g){case"name":_=ft;break;case"type":P=ft;break;case"checked":W=ft;break;case"defaultChecked":at=ft;break;case"value":w=ft;break;case"defaultValue":B=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(i(137,o));break;default:Re(a,o,g,ft,h,null)}}Bo(a,w,B,W,at,P,_,!1);return;case"select":de("invalid",a),g=P=w=null;for(_ in h)if(h.hasOwnProperty(_)&&(B=h[_],B!=null))switch(_){case"value":w=B;break;case"defaultValue":P=B;break;case"multiple":g=B;default:Re(a,o,_,B,h,null)}o=w,h=P,a.multiple=!!g,o!=null?Fe(a,!!g,o,!1):h!=null&&Fe(a,!!g,h,!0);return;case"textarea":de("invalid",a),w=_=g=null;for(P in h)if(h.hasOwnProperty(P)&&(B=h[P],B!=null))switch(P){case"value":g=B;break;case"defaultValue":_=B;break;case"children":w=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:Re(a,o,P,B,h,null)}Is(a,g,_,w);return;case"option":for(W in h)h.hasOwnProperty(W)&&(g=h[W],g!=null)&&(W==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":Re(a,o,W,g,h,null));return;case"dialog":de("beforetoggle",a),de("toggle",a),de("cancel",a),de("close",a);break;case"iframe":case"object":de("load",a);break;case"video":case"audio":for(g=0;g<wh.length;g++)de(wh[g],a);break;case"image":de("error",a),de("load",a);break;case"details":de("toggle",a);break;case"embed":case"source":case"link":de("error",a),de("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in h)if(h.hasOwnProperty(at)&&(g=h[at],g!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Re(a,o,at,g,h,null)}return;default:if(Fo(o)){for(ft in h)h.hasOwnProperty(ft)&&(g=h[ft],g!==void 0&&zy(a,o,ft,g,h,void 0));return}}for(B in h)h.hasOwnProperty(B)&&(g=h[B],g!=null&&Re(a,o,B,g,h,null))}function _R(a,o,h,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,P=null,B=null,W=null,at=null,ft=null;for(ut in h){var vt=h[ut];if(h.hasOwnProperty(ut)&&vt!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":W=vt;default:g.hasOwnProperty(ut)||Re(a,o,ut,null,g,vt)}}for(var ot in g){var ut=g[ot];if(vt=h[ot],g.hasOwnProperty(ot)&&(ut!=null||vt!=null))switch(ot){case"type":w=ut;break;case"name":_=ut;break;case"checked":at=ut;break;case"defaultChecked":ft=ut;break;case"value":P=ut;break;case"defaultValue":B=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(i(137,o));break;default:ut!==vt&&Re(a,o,ot,ut,g,vt)}}Ru(a,P,B,W,at,ft,w,_);return;case"select":ut=P=B=ot=null;for(w in h)if(W=h[w],h.hasOwnProperty(w)&&W!=null)switch(w){case"value":break;case"multiple":ut=W;default:g.hasOwnProperty(w)||Re(a,o,w,null,g,W)}for(_ in g)if(w=g[_],W=h[_],g.hasOwnProperty(_)&&(w!=null||W!=null))switch(_){case"value":ot=w;break;case"defaultValue":B=w;break;case"multiple":P=w;default:w!==W&&Re(a,o,_,w,g,W)}o=B,h=P,g=ut,ot!=null?Fe(a,!!h,ot,!1):!!g!=!!h&&(o!=null?Fe(a,!!h,o,!0):Fe(a,!!h,h?[]:"",!1));return;case"textarea":ut=ot=null;for(B in h)if(_=h[B],h.hasOwnProperty(B)&&_!=null&&!g.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Re(a,o,B,null,g,_)}for(P in g)if(_=g[P],w=h[P],g.hasOwnProperty(P)&&(_!=null||w!=null))switch(P){case"value":ot=_;break;case"defaultValue":ut=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==w&&Re(a,o,P,_,g,w)}sa(a,ot,ut);return;case"option":for(var Rt in h)ot=h[Rt],h.hasOwnProperty(Rt)&&ot!=null&&!g.hasOwnProperty(Rt)&&(Rt==="selected"?a.selected=!1:Re(a,o,Rt,null,g,ot));for(W in g)ot=g[W],ut=h[W],g.hasOwnProperty(W)&&ot!==ut&&(ot!=null||ut!=null)&&(W==="selected"?a.selected=ot&&typeof ot!="function"&&typeof ot!="symbol":Re(a,o,W,ot,g,ut));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in h)ot=h[Vt],h.hasOwnProperty(Vt)&&ot!=null&&!g.hasOwnProperty(Vt)&&Re(a,o,Vt,null,g,ot);for(at in g)if(ot=g[at],ut=h[at],g.hasOwnProperty(at)&&ot!==ut&&(ot!=null||ut!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,o));break;default:Re(a,o,at,ot,g,ut)}return;default:if(Fo(o)){for(var Ie in h)ot=h[Ie],h.hasOwnProperty(Ie)&&ot!==void 0&&!g.hasOwnProperty(Ie)&&zy(a,o,Ie,void 0,g,ot);for(ft in g)ot=g[ft],ut=h[ft],!g.hasOwnProperty(ft)||ot===ut||ot===void 0&&ut===void 0||zy(a,o,ft,ot,g,ut);return}}for(var tt in h)ot=h[tt],h.hasOwnProperty(tt)&&ot!=null&&!g.hasOwnProperty(tt)&&Re(a,o,tt,null,g,ot);for(vt in g)ot=g[vt],ut=h[vt],!g.hasOwnProperty(vt)||ot===ut||ot==null&&ut==null||Re(a,o,vt,ot,g,ut)}function PA(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var _=h[g],w=_.transferSize,P=_.initiatorType,B=_.duration;if(w&&B&&PA(P)){for(P=0,B=_.responseEnd,g+=1;g<h.length;g++){var W=h[g],at=W.startTime;if(at>B)break;var ft=W.transferSize,vt=W.initiatorType;ft&&PA(vt)&&(W=W.responseEnd,P+=ft*(W<B?1:(B-at)/(W-at)))}if(--g,o+=8*(w+P)/(_.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var By=null,Fy=null;function ap(a){return a.nodeType===9?a:a.ownerDocument}function DA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kA(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Uy(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hy=null;function wR(){var a=window.event;return a&&a.type==="popstate"?a===Hy?!1:(Hy=a,!0):(Hy=null,!1)}var LA=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,NA=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof NA<"u"?function(a){return NA.resolve(null).then(a).catch(TR)}:LA;function TR(a){setTimeout(function(){throw a})}function ho(a){return a==="head"}function jA(a,o){var h=o,g=0;do{var _=h.nextSibling;if(a.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(g===0){a.removeChild(_),Rc(o);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Ah(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,Ah(h);for(var w=h.firstChild;w;){var P=w.nextSibling,B=w.nodeName;w[Ro]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=P}}else h==="body"&&Ah(a.ownerDocument.body);h=_}while(h);Rc(o)}function RA(a,o){var h=a;a=0;do{var g=h.nextSibling;if(h.nodeType===1?o?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(o?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=g}while(h)}function $y(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":$y(h),ku(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function ER(a,o,h,g){for(;a.nodeType===1;){var _=h;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Ro])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=xr(a.nextSibling),a===null)break}return null}function CR(a,o,h){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=xr(a.nextSibling),a===null))return null;return a}function IA(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=xr(a.nextSibling),a===null))return null;return a}function qy(a){return a.data==="$?"||a.data==="$~"}function Gy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function OR(a,o){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||h.readyState!=="loading")o();else{var g=function(){o(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function xr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Wy=null;function zA(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(o===0)return xr(a.nextSibling);o--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||o++}a=a.nextSibling}return null}function BA(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(o===0)return a;o--}else h!=="/$"&&h!=="/&"||o++}a=a.previousSibling}return null}function FA(a,o,h){switch(o=ap(h),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Ah(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ku(a)}var wr=new Map,UA=new Set;function sp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ss=K.d;K.d={f:MR,r:PR,D:DR,C:kR,L:LR,m:NR,X:RR,S:jR,M:IR};function MR(){var a=ss.f(),o=Kf();return a||o}function PR(a){var o=Ns(a);o!==null&&o.tag===5&&o.type==="form"?rS(o):ss.r(a)}var Lc=typeof document>"u"?null:document;function HA(a,o,h){var g=Lc;if(g&&typeof o=="string"&&o){var _=We(o);_='link[rel="'+a+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),UA.has(_)||(UA.add(_),a={rel:a,crossOrigin:h,href:o},g.querySelector(_)===null&&(o=g.createElement("link"),ti(o,"link",a),yn(o),g.head.appendChild(o)))}}function DR(a){ss.D(a),HA("dns-prefetch",a,null)}function kR(a,o){ss.C(a,o),HA("preconnect",a,o)}function LR(a,o,h){ss.L(a,o,h);var g=Lc;if(g&&a&&o){var _='link[rel="preload"][as="'+We(o)+'"]';o==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+We(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+We(h.imageSizes)+'"]')):_+='[href="'+We(a)+'"]';var w=_;switch(o){case"style":w=Nc(a);break;case"script":w=jc(a)}wr.has(w)||(a=v({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:a,as:o},h),wr.set(w,a),g.querySelector(_)!==null||o==="style"&&g.querySelector(Th(w))||o==="script"&&g.querySelector(Eh(w))||(o=g.createElement("link"),ti(o,"link",a),yn(o),g.head.appendChild(o)))}}function NR(a,o){ss.m(a,o);var h=Lc;if(h&&a){var g=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+We(g)+'"][href="'+We(a)+'"]',w=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=jc(a)}if(!wr.has(w)&&(a=v({rel:"modulepreload",href:a},o),wr.set(w,a),h.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Eh(w)))return}g=h.createElement("link"),ti(g,"link",a),yn(g),h.head.appendChild(g)}}}function jR(a,o,h){ss.S(a,o,h);var g=Lc;if(g&&a){var _=js(g).hoistableStyles,w=Nc(a);o=o||"default";var P=_.get(w);if(!P){var B={loading:0,preload:null};if(P=g.querySelector(Th(w)))B.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":o},h),(h=wr.get(w))&&Vy(a,h);var W=P=g.createElement("link");yn(W),ti(W,"link",a),W._p=new Promise(function(at,ft){W.onload=at,W.onerror=ft}),W.addEventListener("load",function(){B.loading|=1}),W.addEventListener("error",function(){B.loading|=2}),B.loading|=4,op(P,o,g)}P={type:"stylesheet",instance:P,count:1,state:B},_.set(w,P)}}}function RR(a,o){ss.X(a,o);var h=Lc;if(h&&a){var g=js(h).hoistableScripts,_=jc(a),w=g.get(_);w||(w=h.querySelector(Eh(_)),w||(a=v({src:a,async:!0},o),(o=wr.get(_))&&Yy(a,o),w=h.createElement("script"),yn(w),ti(w,"link",a),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(_,w))}}function IR(a,o){ss.M(a,o);var h=Lc;if(h&&a){var g=js(h).hoistableScripts,_=jc(a),w=g.get(_);w||(w=h.querySelector(Eh(_)),w||(a=v({src:a,async:!0,type:"module"},o),(o=wr.get(_))&&Yy(a,o),w=h.createElement("script"),yn(w),ti(w,"link",a),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(_,w))}}function $A(a,o,h,g){var _=(_=Tt.current)?sp(_):null;if(!_)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=Nc(h.href),h=js(_).hoistableStyles,g=h.get(o),g||(g={type:"style",instance:null,count:0,state:null},h.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Nc(h.href);var w=js(_).hoistableStyles,P=w.get(a);if(P||(_=_.ownerDocument||_,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,P),(w=_.querySelector(Th(a)))&&!w._p&&(P.instance=w,P.state.loading=5),wr.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},wr.set(a,h),w||zR(_,a,h,P.state))),o&&g===null)throw Error(i(528,""));return P}if(o&&g!==null)throw Error(i(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=jc(h),h=js(_).hoistableScripts,g=h.get(o),g||(g={type:"script",instance:null,count:0,state:null},h.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Nc(a){return'href="'+We(a)+'"'}function Th(a){return'link[rel="stylesheet"]['+a+"]"}function qA(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function zR(a,o,h,g){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=a.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),ti(o,"link",h),yn(o),a.head.appendChild(o))}function jc(a){return'[src="'+We(a)+'"]'}function Eh(a){return"script[async]"+a}function GA(a,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var g=a.querySelector('style[data-href~="'+We(h.href)+'"]');if(g)return o.instance=g,yn(g),g;var _=v({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),yn(g),ti(g,"style",_),op(g,h.precedence,a),o.instance=g;case"stylesheet":_=Nc(h.href);var w=a.querySelector(Th(_));if(w)return o.state.loading|=4,o.instance=w,yn(w),w;g=qA(h),(_=wr.get(_))&&Vy(g,_),w=(a.ownerDocument||a).createElement("link"),yn(w);var P=w;return P._p=new Promise(function(B,W){P.onload=B,P.onerror=W}),ti(w,"link",g),o.state.loading|=4,op(w,h.precedence,a),o.instance=w;case"script":return w=jc(h.src),(_=a.querySelector(Eh(w)))?(o.instance=_,yn(_),_):(g=h,(_=wr.get(w))&&(g=v({},h),Yy(g,_)),a=a.ownerDocument||a,_=a.createElement("script"),yn(_),ti(_,"link",g),a.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,op(g,h.precedence,a));return o.instance}function op(a,o,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,w=_,P=0;P<g.length;P++){var B=g[P];if(B.dataset.precedence===o)w=B;else if(w!==_)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(a,o.firstChild))}function Vy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Yy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var lp=null;function WA(a,o,h){if(lp===null){var g=new Map,_=lp=new Map;_.set(h,g)}else _=lp,g=_.get(h),g||(g=new Map,_.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),_=0;_<h.length;_++){var w=h[_];if(!(w[Ro]||w[vn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var P=w.getAttribute(o)||"";P=a+P;var B=g.get(P);B?B.push(w):g.set(P,[w])}}return g}function VA(a,o,h){a=a.ownerDocument||a,a.head.insertBefore(h,o==="title"?a.querySelector("head > title"):null)}function BR(a,o,h){if(h===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function YA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function FR(a,o,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=Nc(g.href),w=o.querySelector(Th(_));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=cp.bind(a),o.then(a,a)),h.state.loading|=4,h.instance=w,yn(w);return}w=o.ownerDocument||o,g=qA(g),(_=wr.get(_))&&Vy(g,_),w=w.createElement("link"),yn(w);var P=w;P._p=new Promise(function(B,W){P.onload=B,P.onerror=W}),ti(w,"link",g),h.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=cp.bind(a),o.addEventListener("load",h),o.addEventListener("error",h))}}var Xy=0;function UR(a,o){return a.stylesheets&&a.count===0&&hp(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var g=setTimeout(function(){if(a.stylesheets&&hp(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&Xy===0&&(Xy=62500*xR());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&hp(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Xy?50:800)+o);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(_)}}:null}function cp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var up=null;function hp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,up=new Map,o.forEach(HR,a),up=null,cp.call(a))}function HR(a,o){if(!(o.state.loading&4)){var h=up.get(a);if(h)var g=h.get(null);else{h=new Map,up.set(a,h);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var P=_[w];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(h.set(P.dataset.precedence,P),g=P)}g&&h.set(null,g)}_=o.instance,P=_.getAttribute("data-precedence"),w=h.get(P)||g,w===g&&h.set(null,_),h.set(P,_),this.count++,g=cp.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),w?w.parentNode.insertBefore(_,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),o.state.loading|=4}}var Ch={$$typeof:k,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function $R(a,o,h,g,_,w,P,B,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.hiddenUpdates=Mu(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function XA(a,o,h,g,_,w,P,B,W,at,ft,vt){return a=new $R(a,o,h,P,W,at,ft,vt,B),o=1,w===!0&&(o|=24),w=di(3,null,null,o),a.current=w,w.stateNode=a,o=Ov(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:g,isDehydrated:h,cache:o},kv(w),a}function ZA(a){return a?(a=Wa,a):Wa}function KA(a,o,h,g,_,w){_=ZA(_),g.context===null?g.context=_:g.pendingContext=_,g=to(o),g.payload={element:h},w=w===void 0?null:w,w!==null&&(g.callback=w),h=eo(a,g,o),h!==null&&(Bi(h,a,o),ah(h,a,o))}function QA(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<o?h:o}}function Zy(a,o){QA(a,o),(a=a.alternate)&&QA(a,o)}function JA(a){if(a.tag===13||a.tag===31){var o=yr(a,67108864);o!==null&&Bi(o,a,67108864),Zy(a,67108864)}}function tT(a){if(a.tag===13||a.tag===31){var o=rr();o=Oi(o);var h=yr(a,o);h!==null&&Bi(h,a,o),Zy(a,o)}}var dp=!0;function qR(a,o,h,g){var _=G.T;G.T=null;var w=K.p;try{K.p=2,Ky(a,o,h,g)}finally{K.p=w,G.T=_}}function GR(a,o,h,g){var _=G.T;G.T=null;var w=K.p;try{K.p=8,Ky(a,o,h,g)}finally{K.p=w,G.T=_}}function Ky(a,o,h,g){if(dp){var _=Qy(g);if(_===null)Iy(a,o,g,fp,h),nT(a,g);else if(VR(_,a,o,h,g))g.stopPropagation();else if(nT(a,g),o&4&&-1<WR.indexOf(a)){for(;_!==null;){var w=Ns(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var P=Ia(w.pendingLanes);if(P!==0){var B=w;for(B.pendingLanes|=2,B.entangledLanes|=2;P;){var W=1<<31-gi(P);B.entanglements[1]|=W,P&=~W}ya(w),(Ae&6)===0&&(Xf=fe()+500,xh(0))}}break;case 31:case 13:B=yr(w,2),B!==null&&Bi(B,w,2),Kf(),Zy(w,2)}if(w=Qy(g),w===null&&Iy(a,o,g,fp,h),w===_)break;_=w}_!==null&&g.stopPropagation()}else Iy(a,o,g,null,h)}}function Qy(a){return a=Uo(a),Jy(a)}var fp=null;function Jy(a){if(fp=null,a=Fa(a),a!==null){var o=s(a);if(o===null)a=null;else{var h=o.tag;if(h===13){if(a=l(o),a!==null)return a;a=null}else if(h===31){if(a=u(o),a!==null)return a;a=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return fp=a,null}function eT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case Ot:return 2;case Xe:return 8;case le:case ui:return 32;case Yi:return 268435456;default:return 32}default:return 32}}var t0=!1,fo=null,po=null,mo=null,Oh=new Map,Mh=new Map,go=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nT(a,o){switch(a){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":Oh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mh.delete(o.pointerId)}}function Ph(a,o,h,g,_,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:h,eventSystemFlags:g,nativeEvent:w,targetContainers:[_]},o!==null&&(o=Ns(o),o!==null&&JA(o)),a):(a.eventSystemFlags|=g,o=a.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),a)}function VR(a,o,h,g,_){switch(o){case"focusin":return fo=Ph(fo,a,o,h,g,_),!0;case"dragenter":return po=Ph(po,a,o,h,g,_),!0;case"mouseover":return mo=Ph(mo,a,o,h,g,_),!0;case"pointerover":var w=_.pointerId;return Oh.set(w,Ph(Oh.get(w)||null,a,o,h,g,_)),!0;case"gotpointercapture":return w=_.pointerId,Mh.set(w,Ph(Mh.get(w)||null,a,o,h,g,_)),!0}return!1}function iT(a){var o=Fa(a.target);if(o!==null){var h=s(o);if(h!==null){if(o=h.tag,o===13){if(o=l(h),o!==null){a.blockedOn=o,Du(a.priority,function(){tT(h)});return}}else if(o===31){if(o=u(h),o!==null){a.blockedOn=o,Du(a.priority,function(){tT(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function pp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var h=Qy(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);tc=g,h.target.dispatchEvent(g),tc=null}else return o=Ns(h),o!==null&&JA(o),a.blockedOn=h,!1;o.shift()}return!0}function rT(a,o,h){pp(a)&&h.delete(o)}function YR(){t0=!1,fo!==null&&pp(fo)&&(fo=null),po!==null&&pp(po)&&(po=null),mo!==null&&pp(mo)&&(mo=null),Oh.forEach(rT),Mh.forEach(rT)}function mp(a,o){a.blockedOn===o&&(a.blockedOn=null,t0||(t0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YR)))}var gp=null;function aT(a){gp!==a&&(gp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gp===a&&(gp=null);for(var o=0;o<a.length;o+=3){var h=a[o],g=a[o+1],_=a[o+2];if(typeof g!="function"){if(Jy(g||h)===null)continue;break}var w=Ns(h);w!==null&&(a.splice(o,3),o-=3,Qv(w,{pending:!0,data:_,method:h.method,action:g},g,_))}}))}function Rc(a){function o(W){return mp(W,a)}fo!==null&&mp(fo,a),po!==null&&mp(po,a),mo!==null&&mp(mo,a),Oh.forEach(o),Mh.forEach(o);for(var h=0;h<go.length;h++){var g=go[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<go.length&&(h=go[0],h.blockedOn===null);)iT(h),h.blockedOn===null&&go.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var _=h[g],w=h[g+1],P=_[Rn]||null;if(typeof w=="function")P||aT(h);else if(P){var B=null;if(w&&w.hasAttribute("formAction")){if(_=w,P=w[Rn]||null)B=P.formAction;else if(Jy(_)!==null)continue}else B=P.action;typeof B=="function"?h[g+1]=B:(h.splice(g,3),g-=3),aT(h)}}}function sT(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(P){return _=P})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function e0(a){this._internalRoot=a}vp.prototype.render=e0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var h=o.current,g=rr();KA(h,g,a,o,null,null)},vp.prototype.unmount=e0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;KA(a.current,2,null,a,null,null),Kf(),o[Ba]=null}};function vp(a){this._internalRoot=a}vp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Pu();a={blockedOn:null,target:a,priority:o};for(var h=0;h<go.length&&o!==0&&o<go[h].priority;h++);go.splice(h,0,a),h===0&&iT(a)}};var oT=t.version;if(oT!=="19.2.4")throw Error(i(527,oT,"19.2.4"));K.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var XR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{Rr=yp.inject(XR),En=yp}catch{}}return kh.createRoot=function(a,o){if(!r(a))throw Error(i(299));var h=!1,g="",_=pS,w=mS,P=gS;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError)),o=XA(a,1,!1,null,null,h,g,null,_,w,P,sT),a[Ba]=o.current,Ry(a),new e0(o)},kh.hydrateRoot=function(a,o,h){if(!r(a))throw Error(i(299));var g=!1,_="",w=pS,P=mS,B=gS,W=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(B=h.onRecoverableError),h.formState!==void 0&&(W=h.formState)),o=XA(a,1,!0,o,h??null,g,_,W,w,P,B,sT),o.context=ZA(null),h=o.current,g=rr(),g=Oi(g),_=to(g),_.callback=null,eo(h,_,g),h=g,o.current.lanes=h,za(o,h),ya(o),a[Ba]=o.current,Ry(a),new vp(o)},kh.version="19.2.4",kh}var bT;function sI(){if(bT)return a0.exports;bT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),a0.exports=aI(),a0.exports}var oI=sI();const ZM=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();const lI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const cI=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase());const _T=n=>{const t=cI(n);return t.charAt(0).toUpperCase()+t.slice(1)};var uI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hI=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const dI=D.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:l,...u},d)=>D.createElement("svg",{ref:d,...uI,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:ZM("lucide",r),...!s&&!hI(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>D.createElement(f,p)),...Array.isArray(s)?s:[s]]));const Wn=(n,t)=>{const e=D.forwardRef(({className:i,...r},s)=>D.createElement(dI,{ref:s,iconNode:t,className:ZM(`lucide-${lI(_T(n))}`,`lucide-${n}`,i),...r}));return e.displayName=_T(n),e};const fI=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],xT=Wn("calculator",fI);const pI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],wT=Wn("calendar-days",pI);const mI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gI=Wn("chevron-down",mI);const vI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yI=Wn("chevron-up",vI);const bI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],_I=Wn("clock",bI);const xI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ic=Wn("dollar-sign",xI);const wI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SI=Wn("file-text",wI);const AI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],TI=Wn("layout-dashboard",AI);const EI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],CI=Wn("map-pin",EI);const OI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],c0=Wn("plus",OI);const MI=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],ST=Wn("scale",MI);const PI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],u0=Wn("trash-2",PI);const DI=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],bp=Wn("trending-down",DI);const kI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Lh=Wn("trending-up",kI);const LI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],h0=Wn("truck",LI);const NI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],d0=Wn("upload",NI);const jI=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],AT=Wn("wrench",jI);const RI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],f0=Wn("x",RI);function KM(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=KM(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Ge(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=KM(n))&&(i&&(i+=" "),i+=t);return i}var II=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gx(n){if(typeof n!="string")return!1;var t=II;return t.includes(n)}var zI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BI=new Set(zI);function QM(n){return typeof n!="string"?!1:BI.has(n)}function JM(n){return typeof n=="string"&&n.startsWith("data-")}function gs(n){if(typeof n!="object"||n===null)return{};var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(QM(e)||JM(e))&&(t[e]=n[e]);return t}function vx(n){if(n==null)return null;if(D.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var t=n.props;return gs(t)}return typeof n=="object"&&!Array.isArray(n)?gs(n):null}function Dr(n){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(QM(e)||JM(e)||gx(e))&&(t[e]=n[e]);return t}var FI=["children","width","height","viewBox","className","style","title","desc"];function n_(){return n_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},n_.apply(null,arguments)}function UI(n,t){if(n==null)return{};var e,i,r=HI(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function HI(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var yx=D.forwardRef((n,t)=>{var{children:e,width:i,height:r,viewBox:s,className:l,style:u,title:d,desc:f}=n,p=UI(n,FI),v=s||{width:i,height:r,x:0,y:0},y=Ge("recharts-surface",l);return D.createElement("svg",n_({},Dr(p),{className:y,width:i,height:r,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),D.createElement("title",null,d),D.createElement("desc",null,f),e)}),$I=["children","className"];function i_(){return i_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},i_.apply(null,arguments)}function qI(n,t){if(n==null)return{};var e,i,r=GI(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function GI(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var vs=D.forwardRef((n,t)=>{var{children:e,className:i}=n,r=qI(n,$I),s=Ge("recharts-layer",i);return D.createElement("g",i_({className:s},Dr(r),{ref:t}),e)}),rg=XM(),tP=D.createContext(null),WI=()=>D.useContext(tP);function qe(n){return function(){return n}}const eP=Math.cos,im=Math.sin,ea=Math.sqrt,rm=Math.PI,ag=2*rm,r_=Math.PI,a_=2*r_,_l=1e-6,VI=a_-_l;function nP(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function YI(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return nP;const e=10**t;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}class XI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nP:YI(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,r){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,e,i,r,s,l){this._append`C${+t},${+e},${+i},${+r},${this._x1=+s},${this._y1=+l}`}arcTo(t,e,i,r,s){if(t=+t,e=+e,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=i-t,f=r-e,p=l-t,v=u-e,y=p*p+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(y>_l)if(!(Math.abs(v*d-f*p)>_l)||!s)this._append`L${this._x1=t},${this._y1=e}`;else{let x=i-l,A=r-u,S=d*d+f*f,C=x*x+A*A,O=Math.sqrt(S),N=Math.sqrt(y),k=s*Math.tan((r_-Math.acos((S+y-C)/(2*O*N)))/2),j=k/N,z=k/O;Math.abs(j-1)>_l&&this._append`L${t+j*p},${e+j*v}`,this._append`A${s},${s},0,0,${+(v*x>p*A)},${this._x1=t+z*d},${this._y1=e+z*f}`}}arc(t,e,i,r,s,l){if(t=+t,e=+e,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(r),d=i*Math.sin(r),f=t+u,p=e+d,v=1^l,y=l?r-s:s-r;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>_l||Math.abs(this._y1-p)>_l)&&this._append`L${f},${p}`,i&&(y<0&&(y=y%a_+a_),y>VI?this._append`A${i},${i},0,1,${v},${t-u},${e-d}A${i},${i},0,1,${v},${this._x1=f},${this._y1=p}`:y>_l&&this._append`A${i},${i},0,${+(y>=r_)},${v},${this._x1=t+i*Math.cos(s)},${this._y1=e+i*Math.sin(s)}`)}rect(t,e,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function bx(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new XI(t)}function _x(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function iP(n){this._context=n}iP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function sg(n){return new iP(n)}function rP(n){return n[0]}function aP(n){return n[1]}function sP(n,t){var e=qe(!0),i=null,r=sg,s=null,l=bx(u);n=typeof n=="function"?n:n===void 0?rP:qe(n),t=typeof t=="function"?t:t===void 0?aP:qe(t);function u(d){var f,p=(d=_x(d)).length,v,y=!1,x;for(i==null&&(s=r(x=l())),f=0;f<=p;++f)!(f<p&&e(v=d[f],f,d))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+n(v,f,d),+t(v,f,d));if(x)return s=null,x+""||null}return u.x=function(d){return arguments.length?(n=typeof d=="function"?d:qe(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:qe(+d),u):t},u.defined=function(d){return arguments.length?(e=typeof d=="function"?d:qe(!!d),u):e},u.curve=function(d){return arguments.length?(r=d,i!=null&&(s=r(i)),u):r},u.context=function(d){return arguments.length?(d==null?i=s=null:s=r(i=d),u):i},u}function _p(n,t,e){var i=null,r=qe(!0),s=null,l=sg,u=null,d=bx(f);n=typeof n=="function"?n:n===void 0?rP:qe(+n),t=typeof t=="function"?t:qe(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?aP:qe(+e);function f(v){var y,x,A,S=(v=_x(v)).length,C,O=!1,N,k=new Array(S),j=new Array(S);for(s==null&&(u=l(N=d())),y=0;y<=S;++y){if(!(y<S&&r(C=v[y],y,v))===O)if(O=!O)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=y-1;A>=x;--A)u.point(k[A],j[A]);u.lineEnd(),u.areaEnd()}O&&(k[y]=+n(C,y,v),j[y]=+t(C,y,v),u.point(i?+i(C,y,v):k[y],e?+e(C,y,v):j[y]))}if(N)return u=null,N+""||null}function p(){return sP().defined(r).curve(l).context(s)}return f.x=function(v){return arguments.length?(n=typeof v=="function"?v:qe(+v),i=null,f):n},f.x0=function(v){return arguments.length?(n=typeof v=="function"?v:qe(+v),f):n},f.x1=function(v){return arguments.length?(i=v==null?null:typeof v=="function"?v:qe(+v),f):i},f.y=function(v){return arguments.length?(t=typeof v=="function"?v:qe(+v),e=null,f):t},f.y0=function(v){return arguments.length?(t=typeof v=="function"?v:qe(+v),f):t},f.y1=function(v){return arguments.length?(e=v==null?null:typeof v=="function"?v:qe(+v),f):e},f.lineX0=f.lineY0=function(){return p().x(n).y(t)},f.lineY1=function(){return p().x(n).y(e)},f.lineX1=function(){return p().x(i).y(t)},f.defined=function(v){return arguments.length?(r=typeof v=="function"?v:qe(!!v),f):r},f.curve=function(v){return arguments.length?(l=v,s!=null&&(u=l(s)),f):l},f.context=function(v){return arguments.length?(v==null?s=u=null:u=l(s=v),f):s},f}class oP{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function ZI(n){return new oP(n,!0)}function KI(n){return new oP(n,!1)}const xx={draw(n,t){const e=ea(t/rm);n.moveTo(e,0),n.arc(0,0,e,0,ag)}},QI={draw(n,t){const e=ea(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},lP=ea(1/3),JI=lP*2,tz={draw(n,t){const e=ea(t/JI),i=e*lP;n.moveTo(0,-e),n.lineTo(i,0),n.lineTo(0,e),n.lineTo(-i,0),n.closePath()}},ez={draw(n,t){const e=ea(t),i=-e/2;n.rect(i,i,e,e)}},nz=.8908130915292852,cP=im(rm/10)/im(7*rm/10),iz=im(ag/10)*cP,rz=-eP(ag/10)*cP,az={draw(n,t){const e=ea(t*nz),i=iz*e,r=rz*e;n.moveTo(0,-e),n.lineTo(i,r);for(let s=1;s<5;++s){const l=ag*s/5,u=eP(l),d=im(l);n.lineTo(d*e,-u*e),n.lineTo(u*i-d*r,d*i+u*r)}n.closePath()}},p0=ea(3),sz={draw(n,t){const e=-ea(t/(p0*3));n.moveTo(0,e*2),n.lineTo(-p0*e,-e),n.lineTo(p0*e,-e),n.closePath()}},Sr=-.5,Ar=ea(3)/2,s_=1/ea(12),oz=(s_/2+1)*3,lz={draw(n,t){const e=ea(t/oz),i=e/2,r=e*s_,s=i,l=e*s_+e,u=-s,d=l;n.moveTo(i,r),n.lineTo(s,l),n.lineTo(u,d),n.lineTo(Sr*i-Ar*r,Ar*i+Sr*r),n.lineTo(Sr*s-Ar*l,Ar*s+Sr*l),n.lineTo(Sr*u-Ar*d,Ar*u+Sr*d),n.lineTo(Sr*i+Ar*r,Sr*r-Ar*i),n.lineTo(Sr*s+Ar*l,Sr*l-Ar*s),n.lineTo(Sr*u+Ar*d,Sr*d-Ar*u),n.closePath()}};function cz(n,t){let e=null,i=bx(r);n=typeof n=="function"?n:qe(n||xx),t=typeof t=="function"?t:qe(t===void 0?64:+t);function r(){let s;if(e||(e=s=i()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),s)return e=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:qe(s),r):n},r.size=function(s){return arguments.length?(t=typeof s=="function"?s:qe(+s),r):t},r.context=function(s){return arguments.length?(e=s??null,r):e},r}function am(){}function sm(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function uP(n){this._context=n}uP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sm(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function uz(n){return new uP(n)}function hP(n){this._context=n}hP.prototype={areaStart:am,areaEnd:am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:sm(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function hz(n){return new hP(n)}function dP(n){this._context=n}dP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:sm(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function dz(n){return new dP(n)}function fP(n){this._context=n}fP.prototype={areaStart:am,areaEnd:am,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function fz(n){return new fP(n)}function TT(n){return n<0?-1:1}function ET(n,t,e){var i=n._x1-n._x0,r=t-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),l=(e-n._y1)/(r||i<0&&-0),u=(s*r+l*i)/(i+r);return(TT(s)+TT(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function CT(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function m0(n,t,e){var i=n._x0,r=n._y0,s=n._x1,l=n._y1,u=(s-i)/3;n._context.bezierCurveTo(i+u,r+u*t,s-u,l-u*e,s,l)}function om(n){this._context=n}om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m0(this,this._t0,CT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,m0(this,CT(this,e=ET(this,n,t)),e);break;default:m0(this,this._t0,e=ET(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function pP(n){this._context=new mP(n)}(pP.prototype=Object.create(om.prototype)).point=function(n,t){om.prototype.point.call(this,t,n)};function mP(n){this._context=n}mP.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,i,r,s){this._context.bezierCurveTo(t,n,i,e,s,r)}};function pz(n){return new om(n)}function mz(n){return new pP(n)}function gP(n){this._context=n}gP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var i=OT(n),r=OT(t),s=0,l=1;l<e;++s,++l)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[l],t[l]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function OT(n){var t,e=n.length-1,i,r=new Array(e),s=new Array(e),l=new Array(e);for(r[0]=0,s[0]=2,l[0]=n[0]+2*n[1],t=1;t<e-1;++t)r[t]=1,s[t]=4,l[t]=4*n[t]+2*n[t+1];for(r[e-1]=2,s[e-1]=7,l[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)i=r[t]/s[t-1],s[t]-=i,l[t]-=i*l[t-1];for(r[e-1]=l[e-1]/s[e-1],t=e-2;t>=0;--t)r[t]=(l[t]-r[t+1])/s[t];for(s[e-1]=(n[e]+r[e-1])/2,t=0;t<e-1;++t)s[t]=2*n[t+1]-r[t+1];return[r,s]}function gz(n){return new gP(n)}function og(n,t){this._context=n,this._t=t}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function vz(n){return new og(n,.5)}function yz(n){return new og(n,0)}function bz(n){return new og(n,1)}function jl(n,t){if((l=n.length)>1)for(var e=1,i,r,s=n[t[0]],l,u=s.length;e<l;++e)for(r=s,s=n[t[e]],i=0;i<u;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function o_(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function _z(n,t){return n[t]}function xz(n){const t=[];return t.key=n,t}function wz(){var n=qe([]),t=o_,e=jl,i=_z;function r(s){var l=Array.from(n.apply(this,arguments),xz),u,d=l.length,f=-1,p;for(const v of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+i(v,l[u].key,f,s)]).data=v;for(u=0,p=_x(t(l));u<d;++u)l[p[u]].index=u;return e(l,p),l}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:qe(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:qe(+s),r):i},r.order=function(s){return arguments.length?(t=s==null?o_:typeof s=="function"?s:qe(Array.from(s)),r):t},r.offset=function(s){return arguments.length?(e=s??jl,r):e},r}function Sz(n,t){if((i=n.length)>0){for(var e,i,r=0,s=n[0].length,l;r<s;++r){for(l=e=0;e<i;++e)l+=n[e][r][1]||0;if(l)for(e=0;e<i;++e)n[e][r][1]/=l}jl(n,t)}}function Az(n,t){if((r=n.length)>0){for(var e=0,i=n[t[0]],r,s=i.length;e<s;++e){for(var l=0,u=0;l<r;++l)u+=n[l][e][1]||0;i[e][1]+=i[e][0]=-u/2}jl(n,t)}}function Tz(n,t){if(!(!((l=n.length)>0)||!((s=(r=n[t[0]]).length)>0))){for(var e=0,i=1,r,s,l;i<s;++i){for(var u=0,d=0,f=0;u<l;++u){for(var p=n[t[u]],v=p[i][1]||0,y=p[i-1][1]||0,x=(v-y)/2,A=0;A<u;++A){var S=n[t[A]],C=S[i][1]||0,O=S[i-1][1]||0;x+=C-O}d+=v,f+=x*v}r[i-1][1]+=r[i-1][0]=e,d&&(e-=f/d)}r[i-1][1]+=r[i-1][0]=e,jl(n,t)}}var g0={},v0={},MT;function Ez(){return MT||(MT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==="__proto__"}n.isUnsafeProperty=t})(v0)),v0}var y0={},PT;function vP(){return PT||(PT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}n.isDeepKey=t})(y0)),y0}var b0={},DT;function wx(){return DT||(DT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="string"||typeof e=="symbol"?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}n.toKey=t})(b0)),b0}var _0={},x0={},kT;function Cz(){return kT||(kT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(e==null)return"";if(typeof e=="string")return e;if(Array.isArray(e))return e.map(t).join(",");const i=String(e);return i==="0"&&Object.is(Number(e),-0)?"-0":i}n.toString=t})(x0)),x0}var LT;function Sx(){return LT||(LT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Cz(),e=wx();function i(r){if(Array.isArray(r))return r.map(e.toKey);if(typeof r=="symbol")return[r];r=t.toString(r);const s=[],l=r.length;if(l===0)return s;let u=0,d="",f="",p=!1;for(r.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const v=r[u];f?v==="\\"&&u+1<l?(u++,d+=r[u]):v===f?f="":d+=v:p?v==='"'||v==="'"?f=v:v==="]"?(p=!1,s.push(d),d=""):d+=v:v==="["?(p=!0,d&&(s.push(d),d="")):v==="."?d&&(s.push(d),d=""):d+=v,u++}return d&&s.push(d),s}n.toPath=i})(_0)),_0}var NT;function Ax(){return NT||(NT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Ez(),e=vP(),i=wx(),r=Sx();function s(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?e.isDeepKey(d)?s(u,r.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=i.toKey(d));const p=u[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?f:p}}}function l(u,d,f){if(d.length===0)return f;let p=u;for(let v=0;v<d.length;v++){if(p==null||t.isUnsafeProperty(d[v]))return f;p=p[d[v]]}return p===void 0?f:p}n.get=s})(g0)),g0}var w0,jT;function Oz(){return jT||(jT=1,w0=Ax().get),w0}var Mz=Oz();const au=Ra(Mz);var Pz=4;function So(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pz,e=10**t,i=Math.round(n*e)/e;return Object.is(i,-0)?0:i}function dn(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return n.reduce((r,s,l)=>{var u=e[l-1];return typeof u=="string"?r+u+s:u!==void 0?r+So(u)+s:r+s},"")}var $i=n=>n===0?0:n>0?1:-1,Da=n=>typeof n=="number"&&n!=+n,Rl=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,Bt=n=>(typeof n=="number"||n instanceof Number)&&!Da(n),ka=n=>Bt(n)||typeof n=="string",Dz=0,ad=n=>{var t=++Dz;return"".concat(n||"").concat(t)},Jr=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Bt(t)&&typeof t!="string")return i;var s;if(Rl(t)){if(e==null)return i;var l=t.indexOf("%");s=e*parseFloat(t.slice(0,l))/100}else s=+t;return Da(s)&&(s=i),r&&e!=null&&s>e&&(s=e),s},yP=n=>{if(!Array.isArray(n))return!1;for(var t=n.length,e={},i=0;i<t;i++)if(!e[String(n[i])])e[String(n[i])]=!0;else return!0;return!1};function si(n,t,e){return Bt(n)&&Bt(t)?So(n+e*(t-n)):t}function kz(n,t,e){if(!(!n||!n.length))return n.find(i=>i&&(typeof t=="function"?t(i):au(i,t))===e)}var Gn=n=>n===null||typeof n>"u",Td=n=>Gn(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function qi(n){return n!=null}function vu(){}var Lz=["type","size","sizeType"];function l_(){return l_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},l_.apply(null,arguments)}function RT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function IT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(e),!0).forEach(function(i){Nz(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):RT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Nz(n,t,e){return(t=jz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jz(n){var t=Rz(n,"string");return typeof t=="symbol"?t:t+""}function Rz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Iz(n,t){if(n==null)return{};var e,i,r=zz(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function zz(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var bP={symbolCircle:xx,symbolCross:QI,symbolDiamond:tz,symbolSquare:ez,symbolStar:az,symbolTriangle:sz,symbolWye:lz},Bz=Math.PI/180,Fz=n=>{var t="symbol".concat(Td(n));return bP[t]||xx},Uz=(n,t,e)=>{if(t==="area")return n;switch(e){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*Bz;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},Hz=(n,t)=>{bP["symbol".concat(Td(n))]=t},Tx=n=>{var{type:t="circle",size:e=64,sizeType:i="area"}=n,r=Iz(n,Lz),s=IT(IT({},r),{},{type:t,size:e,sizeType:i}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=Fz(l),x=cz().type(y).size(Uz(e,i,l)),A=x();if(A!==null)return A},{className:d,cx:f,cy:p}=s,v=Dr(s);return Bt(f)&&Bt(p)&&Bt(e)?D.createElement("path",l_({},v,{className:Ge("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};Tx.registerSymbol=Hz;var _P=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,$z=(n,t)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var e=n;if(D.isValidElement(n)&&(e=n.props),typeof e!="object"&&typeof e!="function")return null;var i={};return Object.keys(e).forEach(r=>{gx(r)&&(i[r]=(s=>e[r](e,s)))}),i},qz=(n,t,e)=>i=>(n(t,e,i),null),lg=(n,t,e)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];gx(r)&&typeof s=="function"&&(i||(i={}),i[r]=qz(s,t,e))}),i};function zT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Gz(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(e),!0).forEach(function(i){Wz(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):zT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Wz(n,t,e){return(t=Vz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Vz(n){var t=Yz(n,"string");return typeof t=="symbol"?t:t+""}function Yz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ei(n,t){var e=Gz({},n),i=t,r=Object.keys(t),s=r.reduce((l,u)=>(l[u]===void 0&&i[u]!==void 0&&(l[u]=i[u]),l),e);return s}function lm(){return lm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},lm.apply(null,arguments)}function BT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Xz(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(e),!0).forEach(function(i){Zz(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):BT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Zz(n,t,e){return(t=Kz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Kz(n){var t=Qz(n,"string");return typeof t=="symbol"?t:t+""}function Qz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Or=32,Jz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function tB(n){var{data:t,iconType:e,inactiveColor:i}=n,r=Or/2,s=Or/6,l=Or/3,u=t.inactive?i:t.color,d=e??t.type;if(d==="none")return null;if(d==="plainline"){var f;return D.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:r,x2:Or,y2:r,className:"recharts-legend-icon"})}if(d==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(r,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(r,`
            H`).concat(Or,"M").concat(2*l,",").concat(r,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(r),className:"recharts-legend-icon"});if(d==="rect")return D.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Or/8,"h").concat(Or,"v").concat(Or*3/4,"h").concat(-Or,"z"),className:"recharts-legend-icon"});if(D.isValidElement(t.legendIcon)){var p=Xz({},t);return delete p.legendIcon,D.cloneElement(t.legendIcon,p)}return D.createElement(Tx,{fill:u,cx:r,cy:r,size:Or,sizeType:"diameter",type:d})}function eB(n){var{payload:t,iconSize:e,layout:i,formatter:r,inactiveColor:s,iconType:l}=n,u={x:0,y:0,width:Or,height:Or},d={display:i==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,v)=>{var y=p.formatter||r,x=Ge({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?s:p.color,S=y?y(p.value,p,v):p.value;return D.createElement("li",lm({className:x,style:d,key:"legend-item-".concat(v)},lg(n,p,v)),D.createElement(yx,{width:e,height:e,viewBox:u,style:f,"aria-label":"".concat(S," legend icon")},D.createElement(tB,{data:p,iconType:l,inactiveColor:s})),D.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},S))})}var nB=n=>{var t=Ei(n,Jz),{payload:e,layout:i,align:r}=t;if(!e||!e.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?r:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},D.createElement(eB,lm({},t,{payload:e})))},S0={},A0={},FT;function iB(){return FT||(FT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){const r=new Map;for(let s=0;s<e.length;s++){const l=e[s],u=i(l,s,e);r.has(u)||r.set(u,l)}return Array.from(r.values())}n.uniqBy=t})(A0)),A0}var T0={},UT;function rB(){return UT||(UT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){return function(...r){return e.apply(this,r.slice(0,i))}}n.ary=t})(T0)),T0}var E0={},HT;function xP(){return HT||(HT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e}n.identity=t})(E0)),E0}var C0={},O0={},M0={},$T;function aB(){return $T||($T=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Number.isSafeInteger(e)&&e>=0}n.isLength=t})(M0)),M0}var qT;function Ex(){return qT||(qT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=aB();function e(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}n.isArrayLike=e})(O0)),O0}var P0={},GT;function sB(){return GT||(GT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="object"&&e!==null}n.isObjectLike=t})(P0)),P0}var WT;function oB(){return WT||(WT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Ex(),e=sB();function i(r){return e.isObjectLike(r)&&t.isArrayLike(r)}n.isArrayLikeObject=i})(C0)),C0}var D0={},k0={},VT;function lB(){return VT||(VT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Ax();function e(i){return function(r){return t.get(r,i)}}n.property=e})(k0)),k0}var L0={},N0={},j0={},R0={},YT;function wP(){return YT||(YT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e!==null&&(typeof e=="object"||typeof e=="function")}n.isObject=t})(R0)),R0}var I0={},XT;function SP(){return XT||(XT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null||typeof e!="object"&&typeof e!="function"}n.isPrimitive=t})(I0)),I0}var z0={},ZT;function AP(){return ZT||(ZT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){return e===i||Number.isNaN(e)&&Number.isNaN(i)}n.isEqualsSameValueZero=t})(z0)),z0}var KT;function cB(){return KT||(KT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=wP(),e=SP(),i=AP();function r(p,v,y){return typeof y!="function"?r(p,v,()=>{}):s(p,v,function x(A,S,C,O,N,k){const j=y(A,S,C,O,N,k);return j!==void 0?!!j:s(A,S,x,k)},new Map)}function s(p,v,y,x){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,y,x);case"function":return Object.keys(v).length>0?s(p,{...v},y,x):i.isEqualsSameValueZero(p,v);default:return t.isObject(p)?typeof v=="string"?v==="":!0:i.isEqualsSameValueZero(p,v)}}function l(p,v,y,x){if(v==null)return!0;if(Array.isArray(v))return d(p,v,y,x);if(v instanceof Map)return u(p,v,y,x);if(v instanceof Set)return f(p,v,y,x);const A=Object.keys(v);if(p==null||e.isPrimitive(p))return A.length===0;if(A.length===0)return!0;if(x?.has(v))return x.get(v)===p;x?.set(v,p);try{for(let S=0;S<A.length;S++){const C=A[S];if(!e.isPrimitive(p)&&!(C in p)||v[C]===void 0&&p[C]!==void 0||v[C]===null&&p[C]!==null||!y(p[C],v[C],C,p,v,x))return!1}return!0}finally{x?.delete(v)}}function u(p,v,y,x){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[A,S]of v.entries()){const C=p.get(A);if(y(C,S,A,p,v,x)===!1)return!1}return!0}function d(p,v,y,x){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const A=new Set;for(let S=0;S<v.length;S++){const C=v[S];let O=!1;for(let N=0;N<p.length;N++){if(A.has(N))continue;const k=p[N];let j=!1;if(y(k,C,S,p,v,x)&&(j=!0),j){A.add(N),O=!0;break}}if(!O)return!1}return!0}function f(p,v,y,x){return v.size===0?!0:p instanceof Set?d([...p],[...v],y,x):!1}n.isMatchWith=r,n.isSetMatch=f})(j0)),j0}var QT;function TP(){return QT||(QT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=cB();function e(i,r){return t.isMatchWith(i,r,()=>{})}n.isMatch=e})(N0)),N0}var B0={},F0={},U0={},JT;function uB(){return JT||(JT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Object.getOwnPropertySymbols(e).filter(i=>Object.prototype.propertyIsEnumerable.call(e,i))}n.getSymbols=t})(U0)),U0}var H0={},tE;function Cx(){return tE||(tE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}n.getTag=t})(H0)),H0}var $0={},eE;function EP(){return eE||(eE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",e="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",v="[object Function]",y="[object ArrayBuffer]",x="[object Object]",A="[object Error]",S="[object DataView]",C="[object Uint8Array]",O="[object Uint8ClampedArray]",N="[object Uint16Array]",k="[object Uint32Array]",j="[object BigUint64Array]",z="[object Int8Array]",R="[object Int16Array]",F="[object Int32Array]",q="[object BigInt64Array]",J="[object Float32Array]",ct="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=y,n.arrayTag=p,n.bigInt64ArrayTag=q,n.bigUint64ArrayTag=j,n.booleanTag=r,n.dataViewTag=S,n.dateTag=u,n.errorTag=A,n.float32ArrayTag=J,n.float64ArrayTag=ct,n.functionTag=v,n.int16ArrayTag=R,n.int32ArrayTag=F,n.int8ArrayTag=z,n.mapTag=d,n.numberTag=i,n.objectTag=x,n.regexpTag=t,n.setTag=f,n.stringTag=e,n.symbolTag=l,n.uint16ArrayTag=N,n.uint32ArrayTag=k,n.uint8ArrayTag=C,n.uint8ClampedArrayTag=O})($0)),$0}var q0={},nE;function hB(){return nE||(nE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.isTypedArray=t})(q0)),q0}var iE;function CP(){return iE||(iE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=uB(),e=Cx(),i=EP(),r=SP(),s=hB();function l(p,v){return u(p,void 0,p,new Map,v)}function u(p,v,y,x=new Map,A=void 0){const S=A?.(p,v,y,x);if(S!==void 0)return S;if(r.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const C=new Array(p.length);x.set(p,C);for(let O=0;O<p.length;O++)C[O]=u(p[O],O,y,x,A);return Object.hasOwn(p,"index")&&(C.index=p.index),Object.hasOwn(p,"input")&&(C.input=p.input),C}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const C=new RegExp(p.source,p.flags);return C.lastIndex=p.lastIndex,C}if(p instanceof Map){const C=new Map;x.set(p,C);for(const[O,N]of p)C.set(O,u(N,O,y,x,A));return C}if(p instanceof Set){const C=new Set;x.set(p,C);for(const O of p)C.add(u(O,void 0,y,x,A));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const C=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,C);for(let O=0;O<p.length;O++)C[O]=u(p[O],O,y,x,A);return C}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const C=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,C),d(C,p,y,x,A),C}if(typeof File<"u"&&p instanceof File){const C=new File([p],p.name,{type:p.type});return x.set(p,C),d(C,p,y,x,A),C}if(typeof Blob<"u"&&p instanceof Blob){const C=new Blob([p],{type:p.type});return x.set(p,C),d(C,p,y,x,A),C}if(p instanceof Error){const C=new p.constructor;return x.set(p,C),C.message=p.message,C.name=p.name,C.stack=p.stack,C.cause=p.cause,d(C,p,y,x,A),C}if(p instanceof Boolean){const C=new Boolean(p.valueOf());return x.set(p,C),d(C,p,y,x,A),C}if(p instanceof Number){const C=new Number(p.valueOf());return x.set(p,C),d(C,p,y,x,A),C}if(p instanceof String){const C=new String(p.valueOf());return x.set(p,C),d(C,p,y,x,A),C}if(typeof p=="object"&&f(p)){const C=Object.create(Object.getPrototypeOf(p));return x.set(p,C),d(C,p,y,x,A),C}return p}function d(p,v,y=p,x,A){const S=[...Object.keys(v),...t.getSymbols(v)];for(let C=0;C<S.length;C++){const O=S[C],N=Object.getOwnPropertyDescriptor(p,O);(N==null||N.writable)&&(p[O]=u(v[O],O,y,x,A))}}function f(p){switch(e.getTag(p)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=l,n.cloneDeepWithImpl=u,n.copyProperties=d})(F0)),F0}var rE;function dB(){return rE||(rE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=CP();function e(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=e})(B0)),B0}var aE;function fB(){return aE||(aE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=TP(),e=dB();function i(r){return r=e.cloneDeep(r),s=>t.isMatch(s,r)}n.matches=i})(L0)),L0}var G0={},W0={},V0={},sE;function pB(){return sE||(sE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=CP(),e=Cx(),i=EP();function r(s,l){return t.cloneDeepWith(s,(u,d,f,p)=>{const v=l?.(u,d,f,p);if(v!==void 0)return v;if(typeof s=="object"){if(e.getTag(s)===i.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),t.copyProperties(y,s,f,p),y}switch(Object.prototype.toString.call(s)){case i.numberTag:case i.stringTag:case i.booleanTag:{const y=new s.constructor(s?.valueOf());return t.copyProperties(y,s),y}case i.argumentsTag:{const y={};return t.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}n.cloneDeepWith=r})(V0)),V0}var oE;function mB(){return oE||(oE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=pB();function e(i){return t.cloneDeepWith(i)}n.cloneDeep=e})(W0)),W0}var Y0={},X0={},lE;function OP(){return lE||(lE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function e(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return t.test(i)}}n.isIndex=e})(X0)),X0}var Z0={},cE;function gB(){return cE||(cE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Cx();function e(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}n.isArguments=e})(Z0)),Z0}var uE;function vB(){return uE||(uE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=vP(),e=OP(),i=gB(),r=Sx();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=r.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const v=d[p];if((f==null||!Object.hasOwn(f,v))&&!((Array.isArray(f)||i.isArguments(f))&&e.isIndex(v)&&v<f.length))return!1;f=f[v]}return!0}n.has=s})(Y0)),Y0}var hE;function yB(){return hE||(hE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=TP(),e=wx(),i=mB(),r=Ax(),s=vB();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=e.toKey(u);break}}return d=i.cloneDeep(d),function(f){const p=r.get(f,u);return p===void 0?s.has(f,u):d===void 0?p===void 0:t.isMatch(p,d)}}n.matchesProperty=l})(G0)),G0}var dE;function bB(){return dE||(dE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=xP(),e=lB(),i=fB(),r=yB();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?r.matchesProperty(l[0],l[1]):i.matches(l);case"string":case"symbol":case"number":return e.property(l)}}n.iteratee=s})(D0)),D0}var fE;function _B(){return fE||(fE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=iB(),e=rB(),i=xP(),r=oB(),s=bB();function l(u,d=i.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),e.ary(s.iteratee(d),1)):[]}n.uniqBy=l})(S0)),S0}var K0,pE;function xB(){return pE||(pE=1,K0=_B().uniqBy),K0}var wB=xB();const mE=Ra(wB);function MP(n,t,e){return t===!0?mE(n,e):typeof t=="function"?mE(n,t):n}var Q0={exports:{}},J0={},tb={exports:{}},eb={};var gE;function SB(){if(gE)return eb;gE=1;var n=gu();function t(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function u(v,y){var x=y(),A=i({inst:{value:x,getSnapshot:y}}),S=A[0].inst,C=A[1];return s(function(){S.value=x,S.getSnapshot=y,d(S)&&C({inst:S})},[v,x,y]),r(function(){return d(S)&&C({inst:S}),v(function(){d(S)&&C({inst:S})})},[v]),l(x),x}function d(v){var y=v.getSnapshot;v=v.value;try{var x=y();return!e(v,x)}catch{return!0}}function f(v,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return eb.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,eb}var vE;function AB(){return vE||(vE=1,tb.exports=SB()),tb.exports}var yE;function TB(){if(yE)return J0;yE=1;var n=gu(),t=AB();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=n.useRef,l=n.useEffect,u=n.useMemo,d=n.useDebugValue;return J0.useSyncExternalStoreWithSelector=function(f,p,v,y,x){var A=s(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=u(function(){function O(R){if(!N){if(N=!0,k=R,R=y(R),x!==void 0&&S.hasValue){var F=S.value;if(x(F,R))return j=F}return j=R}if(F=j,i(k,R))return F;var q=y(R);return x!==void 0&&x(F,q)?(k=R,F):(k=R,j=q)}var N=!1,k,j,z=v===void 0?null:v;return[function(){return O(p())},z===null?void 0:function(){return O(z())}]},[p,v,y,x]);var C=r(f,A[0],A[1]);return l(function(){S.hasValue=!0,S.value=C},[C]),d(C),C},J0}var bE;function EB(){return bE||(bE=1,Q0.exports=TB()),Q0.exports}var CB=EB(),Ox=D.createContext(null),OB=n=>n,sn=()=>{var n=D.useContext(Ox);return n?n.store.dispatch:OB},Yp=()=>{},MB=()=>Yp,PB=(n,t)=>n===t;function $t(n){var t=D.useContext(Ox),e=D.useMemo(()=>t?i=>{if(i!=null)return n(i)}:Yp,[t,n]);return CB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:MB,t?t.store.getState:Yp,t?t.store.getState:Yp,e,PB)}function DB(n,t=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(t)}function kB(n,t=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(t)}function LB(n,t="expected all items to be functions, instead received the following types: "){if(!n.every(e=>typeof e=="function")){const e=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${e}]`)}}var _E=n=>Array.isArray(n)?n:[n];function NB(n){const t=Array.isArray(n[0])?n[0]:n;return LB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function jB(n,t){const e=[],{length:i}=n;for(let r=0;r<i;r++)e.push(n[r].apply(null,t));return e}var RB=class{constructor(n){this.value=n}deref(){return this.value}},IB=typeof WeakRef<"u"?WeakRef:RB,zB=0,xE=1;function xp(){return{s:zB,v:void 0,o:null,p:null}}function PP(n,t={}){let e=xp();const{resultEqualityCheck:i}=t;let r,s=0;function l(){let u=e;const{length:d}=arguments;for(let v=0,y=d;v<y;v++){const x=arguments[v];if(typeof x=="function"||typeof x=="object"&&x!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const S=A.get(x);S===void 0?(u=xp(),A.set(x,u)):u=S}else{let A=u.p;A===null&&(u.p=A=new Map);const S=A.get(x);S===void 0?(u=xp(),A.set(x,u)):u=S}}const f=u;let p;if(u.s===xE)p=u.v;else if(p=n.apply(null,arguments),s++,i){const v=r?.deref?.()??r;v!=null&&i(v,p)&&(p=v,s!==0&&s--),r=typeof p=="object"&&p!==null||typeof p=="function"?new IB(p):p}return f.s=xE,f.v=p,p}return l.clearCache=()=>{e=xp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function BB(n,...t){const e=typeof n=="function"?{memoize:n,memoizeOptions:t}:n,i=(...r)=>{let s=0,l=0,u,d={},f=r.pop();typeof f=="object"&&(d=f,f=r.pop()),DB(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...e,...d},{memoize:v,memoizeOptions:y=[],argsMemoize:x=PP,argsMemoizeOptions:A=[]}=p,S=_E(y),C=_E(A),O=NB(r),N=v(function(){return s++,f.apply(null,arguments)},...S),k=x(function(){l++;const z=jB(O,arguments);return u=N.apply(null,z),u},...C);return Object.assign(k,{resultFunc:f,memoizedResultFunc:N,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:x})};return Object.assign(i,{withTypes:()=>i}),i}var lt=BB(PP),FB=Object.assign((n,t=lt)=>{kB(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const e=Object.keys(n),i=e.map(s=>n[s]);return t(i,(...s)=>s.reduce((l,u,d)=>(l[e[d]]=u,l),{}))},{withTypes:()=>FB}),nb={},ib={},rb={},wE;function UB(){return wE||(wE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const e=(i,r,s)=>{if(i!==r){const l=t(i),u=t(r);if(l===u&&l===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};n.compareValues=e})(rb)),rb}var ab={},sb={},SE;function DP(){return SE||(SE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="symbol"||e instanceof Symbol}n.isSymbol=t})(sb)),sb}var AE;function HB(){return AE||(AE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=DP(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!e.test(s))||l!=null&&Object.hasOwn(l,s)}n.isKey=r})(ab)),ab}var TE;function $B(){return TE||(TE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=UB(),e=HB(),i=Sx();function r(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const f=(x,A)=>{let S=x;for(let C=0;C<A.length&&S!=null;++C)S=S[A[C]];return S},p=(x,A)=>A==null||x==null?A:typeof x=="object"&&"key"in x?Object.hasOwn(A,x.key)?A[x.key]:f(A,x.path):typeof x=="function"?x(A):Array.isArray(x)?f(A,x):typeof A=="object"?A[x]:A,v=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||e.isKey(x)?x:{key:x,path:i.toPath(x)}));return s.map(x=>({original:x,criteria:v.map(A=>p(A,x))})).slice().sort((x,A)=>{for(let S=0;S<v.length;S++){const C=t.compareValues(x.criteria[S],A.criteria[S],u[S]);if(C!==0)return C}return 0}).map(x=>x.original)}n.orderBy=r})(ib)),ib}var ob={},EE;function qB(){return EE||(EE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i=1){const r=[],s=Math.floor(i),l=(u,d)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&d<s?l(p,d+1):r.push(p)}};return l(e,0),r}n.flatten=t})(ob)),ob}var lb={},CE;function kP(){return CE||(CE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=OP(),e=Ex(),i=wP(),r=AP();function s(l,u,d){return i.isObject(d)&&(typeof u=="number"&&e.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?r.isEqualsSameValueZero(d[u],l):!1}n.isIterateeCall=s})(lb)),lb}var OE;function GB(){return OE||(OE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=$B(),e=qB(),i=kP();function r(s,...l){const u=l.length;return u>1&&i.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&i.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,e.flatten(l),["asc"])}n.sortBy=r})(nb)),nb}var cb,ME;function WB(){return ME||(ME=1,cb=GB().sortBy),cb}var VB=WB();const cg=Ra(VB);var LP=n=>n.legend.settings,YB=n=>n.legend.size,XB=n=>n.legend.payload,ZB=lt([XB,LP],(n,t)=>{var{itemSorter:e}=t,i=n.flat(1);return e?cg(i,e):i});function KB(){return $t(ZB)}var wp=1;function NP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,e]=D.useState({height:0,left:0,top:0,width:0}),i=D.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>wp||Math.abs(l.left-t.left)>wp||Math.abs(l.top-t.top)>wp||Math.abs(l.width-t.width)>wp)&&e({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...n]);return[t,i]}function ii(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var QB=typeof Symbol=="function"&&Symbol.observable||"@@observable",PE=QB,ub=()=>Math.random().toString(36).substring(7).split("").join("."),JB={INIT:`@@redux/INIT${ub()}`,REPLACE:`@@redux/REPLACE${ub()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ub()}`},cm=JB;function Mx(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function jP(n,t,e){if(typeof n!="function")throw new Error(ii(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(ii(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(ii(1));return e(jP)(n,t)}let i=n,r=t,s=new Map,l=s,u=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((C,O)=>{l.set(O,C)}))}function p(){if(d)throw new Error(ii(3));return r}function v(C){if(typeof C!="function")throw new Error(ii(4));if(d)throw new Error(ii(5));let O=!0;f();const N=u++;return l.set(N,C),function(){if(O){if(d)throw new Error(ii(6));O=!1,f(),l.delete(N),s=null}}}function y(C){if(!Mx(C))throw new Error(ii(7));if(typeof C.type>"u")throw new Error(ii(8));if(typeof C.type!="string")throw new Error(ii(17));if(d)throw new Error(ii(9));try{d=!0,r=i(r,C)}finally{d=!1}return(s=l).forEach(N=>{N()}),C}function x(C){if(typeof C!="function")throw new Error(ii(10));i=C,y({type:cm.REPLACE})}function A(){const C=v;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ii(11));function N(){const j=O;j.next&&j.next(p())}return N(),{unsubscribe:C(N)}},[PE](){return this}}}return y({type:cm.INIT}),{dispatch:y,subscribe:v,getState:p,replaceReducer:x,[PE]:A}}function t3(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:cm.INIT})>"u")throw new Error(ii(12));if(typeof e(void 0,{type:cm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ii(13))})}function RP(n){const t=Object.keys(n),e={};for(let s=0;s<t.length;s++){const l=t[s];typeof n[l]=="function"&&(e[l]=n[l])}const i=Object.keys(e);let r;try{t3(e)}catch(s){r=s}return function(l={},u){if(r)throw r;let d=!1;const f={};for(let p=0;p<i.length;p++){const v=i[p],y=e[v],x=l[v],A=y(x,u);if(typeof A>"u")throw u&&u.type,new Error(ii(14));f[v]=A,d=d||A!==x}return d=d||i.length!==Object.keys(l).length,d?f:l}}function um(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function e3(...n){return t=>(e,i)=>{const r=t(e,i);let s=()=>{throw new Error(ii(15))};const l={getState:r.getState,dispatch:(d,...f)=>s(d,...f)},u=n.map(d=>d(l));return s=um(...u)(r.dispatch),{...r,dispatch:s}}}function IP(n){return Mx(n)&&"type"in n&&typeof n.type=="string"}var zP=Symbol.for("immer-nothing"),DE=Symbol.for("immer-draftable"),Ti=Symbol.for("immer-state");function Xr(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var cr=Object,su=cr.getPrototypeOf,hm="constructor",ug="prototype",c_="configurable",dm="enumerable",Xp="writable",sd="value",ys=n=>!!n&&!!n[Ti];function ta(n){return n?BP(n)||dg(n)||!!n[DE]||!!n[hm]?.[DE]||fg(n)||pg(n):!1}var n3=cr[ug][hm].toString(),kE=new WeakMap;function BP(n){if(!n||!Px(n))return!1;const t=su(n);if(t===null||t===cr[ug])return!0;const e=cr.hasOwnProperty.call(t,hm)&&t[hm];if(e===Object)return!0;if(!$c(e))return!1;let i=kE.get(e);return i===void 0&&(i=Function.toString.call(e),kE.set(e,i)),i===n3}function hg(n,t,e=!0){Ed(n)===0?(e?Reflect.ownKeys(n):cr.keys(n)).forEach(r=>{t(r,n[r],n)}):n.forEach((i,r)=>t(r,i,n))}function Ed(n){const t=n[Ti];return t?t.type_:dg(n)?1:fg(n)?2:pg(n)?3:0}var LE=(n,t,e=Ed(n))=>e===2?n.has(t):cr[ug].hasOwnProperty.call(n,t),u_=(n,t,e=Ed(n))=>e===2?n.get(t):n[t],fm=(n,t,e,i=Ed(n))=>{i===2?n.set(t,e):i===3?n.add(e):n[t]=e};function i3(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}var dg=Array.isArray,fg=n=>n instanceof Map,pg=n=>n instanceof Set,Px=n=>typeof n=="object",$c=n=>typeof n=="function",hb=n=>typeof n=="boolean";function r3(n){const t=+n;return Number.isInteger(t)&&String(t)===n}var cs=n=>n.copy_||n.base_,Dx=n=>n.modified_?n.copy_:n.base_;function h_(n,t){if(fg(n))return new Map(n);if(pg(n))return new Set(n);if(dg(n))return Array[ug].slice.call(n);const e=BP(n);if(t===!0||t==="class_only"&&!e){const i=cr.getOwnPropertyDescriptors(n);delete i[Ti];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const l=r[s],u=i[l];u[Xp]===!1&&(u[Xp]=!0,u[c_]=!0),(u.get||u.set)&&(i[l]={[c_]:!0,[Xp]:!0,[dm]:u[dm],[sd]:n[l]})}return cr.create(su(n),i)}else{const i=su(n);if(i!==null&&e)return{...n};const r=cr.create(i);return cr.assign(r,n)}}function kx(n,t=!1){return mg(n)||ys(n)||!ta(n)||(Ed(n)>1&&cr.defineProperties(n,{set:Sp,add:Sp,clear:Sp,delete:Sp}),cr.freeze(n),t&&hg(n,(e,i)=>{kx(i,!0)},!1)),n}function a3(){Xr(2)}var Sp={[sd]:a3};function mg(n){return n===null||!Px(n)?!0:cr.isFrozen(n)}var pm="MapSet",d_="Patches",NE="ArrayMethods",FP={};function Il(n){const t=FP[n];return t||Xr(0,n),t}var jE=n=>!!FP[n],od,UP=()=>od,s3=(n,t)=>({drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:jE(pm)?Il(pm):void 0,arrayMethodsPlugin_:jE(NE)?Il(NE):void 0});function RE(n,t){t&&(n.patchPlugin_=Il(d_),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function f_(n){p_(n),n.drafts_.forEach(o3),n.drafts_=null}function p_(n){n===od&&(od=n.parent_)}var IE=n=>od=s3(od,n);function o3(n){const t=n[Ti];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zE(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];if(n!==void 0&&n!==e){e[Ti].modified_&&(f_(t),Xr(4)),ta(n)&&(n=BE(t,n));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(e[Ti].base_,n,t)}else n=BE(t,e);return l3(t,n,!0),f_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==zP?n:void 0}function BE(n,t){if(mg(t))return t;const e=t[Ti];if(!e)return mm(t,n.handledSet_,n);if(!gg(e,n))return t;if(!e.modified_)return e.base_;if(!e.finalized_){const{callbacks_:i}=e;if(i)for(;i.length>0;)i.pop()(n);qP(e,n)}return e.copy_}function l3(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&kx(t,e)}function HP(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var gg=(n,t)=>n.scope_===t,c3=[];function $P(n,t,e,i){const r=cs(n),s=n.type_;if(i!==void 0&&u_(r,i,s)===t){fm(r,i,e,s);return}if(!n.draftLocations_){const u=n.draftLocations_=new Map;hg(r,(d,f)=>{if(ys(f)){const p=u.get(f)||[];p.push(d),u.set(f,p)}})}const l=n.draftLocations_.get(t)??c3;for(const u of l)fm(r,u,e,s)}function u3(n,t,e){n.callbacks_.push(function(r){const s=t;if(!s||!gg(s,r))return;r.mapSetPlugin_?.fixSetContents(s);const l=Dx(s);$P(n,s.draft_??s,l,e),qP(s,r)})}function qP(n,t){if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(n.assigned_?.size??0)>0)){const{patchPlugin_:i}=t;if(i){const r=i.getPath(n);r&&i.generatePatches_(n,r,t)}HP(n)}}function h3(n,t,e){const{scope_:i}=n;if(ys(e)){const r=e[Ti];gg(r,i)&&r.callbacks_.push(function(){Zp(n);const l=Dx(r);$P(n,e,l,t)})}else ta(e)&&n.callbacks_.push(function(){const s=cs(n);n.type_===3?s.has(e)&&mm(e,i.handledSet_,i):u_(s,t,n.type_)===e&&i.drafts_.length>1&&(n.assigned_.get(t)??!1)===!0&&n.copy_&&mm(u_(n.copy_,t,n.type_),i.handledSet_,i)})}function mm(n,t,e){return!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||ys(n)||t.has(n)||!ta(n)||mg(n)||(t.add(n),hg(n,(i,r)=>{if(ys(r)){const s=r[Ti];if(gg(s,e)){const l=Dx(s);fm(n,i,l,n.type_),HP(s)}}else ta(r)&&mm(r,t,e)})),n}function d3(n,t){const e=dg(n),i={type_:e?1:0,scope_:t?t.scope_:UP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=gm;e&&(r=[i],s=ld);const{revoke:l,proxy:u}=Proxy.revocable(r,s);return i.draft_=u,i.revoke_=l,[u,i]}var gm={get(n,t){if(t===Ti)return n;let e=n.scope_.arrayMethodsPlugin_;const i=n.type_===1&&typeof t=="string";if(i&&e?.isArrayOperationMethod(t))return e.createMethodInterceptor(n,t);const r=cs(n);if(!LE(r,t,n.type_))return f3(n,r,t);const s=r[t];if(n.finalized_||!ta(s)||i&&n.operationMethod&&e?.isMutatingArrayMethod(n.operationMethod)&&r3(t))return s;if(s===db(n.base_,t)){Zp(n);const l=n.type_===1?+t:t,u=g_(n.scope_,s,n,l);return n.copy_[l]=u}return s},has(n,t){return t in cs(n)},ownKeys(n){return Reflect.ownKeys(cs(n))},set(n,t,e){const i=GP(cs(n),t);if(i?.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=db(cs(n),t),s=r?.[Ti];if(s&&s.base_===e)return n.copy_[t]=e,n.assigned_.set(t,!1),!0;if(i3(e,r)&&(e!==void 0||LE(n.base_,t,n.type_)))return!0;Zp(n),m_(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_.set(t,!0),h3(n,t,e)),!0},deleteProperty(n,t){return Zp(n),db(n.base_,t)!==void 0||t in n.base_?(n.assigned_.set(t,!1),m_(n)):n.assigned_.delete(t),n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=cs(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{[Xp]:!0,[c_]:n.type_!==1||t!=="length",[dm]:i[dm],[sd]:e[t]}},defineProperty(){Xr(11)},getPrototypeOf(n){return su(n.base_)},setPrototypeOf(){Xr(12)}},ld={};for(let n in gm){let t=gm[n];ld[n]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}ld.deleteProperty=function(n,t){return ld.set.call(this,n,t,void 0)};ld.set=function(n,t,e){return gm.set.call(this,n[0],t,e,n[0])};function db(n,t){const e=n[Ti];return(e?cs(e):n)[t]}function f3(n,t,e){const i=GP(t,e);return i?sd in i?i[sd]:i.get?.call(n.draft_):void 0}function GP(n,t){if(!(t in n))return;let e=su(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=su(e)}}function m_(n){n.modified_||(n.modified_=!0,n.parent_&&m_(n.parent_))}function Zp(n){n.copy_||(n.assigned_=new Map,n.copy_=h_(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var p3=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,i,r)=>{if($c(e)&&!$c(i)){const l=i;i=e;const u=this;return function(f=l,...p){return u.produce(f,v=>i.call(this,v,...p))}}$c(i)||Xr(6),r!==void 0&&!$c(r)&&Xr(7);let s;if(ta(e)){const l=IE(this),u=g_(l,e,void 0);let d=!0;try{s=i(u),d=!1}finally{d?f_(l):p_(l)}return RE(l,r),zE(s,l)}else if(!e||!Px(e)){if(s=i(e),s===void 0&&(s=e),s===zP&&(s=void 0),this.autoFreeze_&&kx(s,!0),r){const l=[],u=[];Il(d_).generateReplacementPatches_(e,s,{patches_:l,inversePatches_:u}),r(l,u)}return s}else Xr(1,e)},this.produceWithPatches=(e,i)=>{if($c(e))return(u,...d)=>this.produceWithPatches(u,f=>e(f,...d));let r,s;return[this.produce(e,i,(u,d)=>{r=u,s=d}),r,s]},hb(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),hb(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),hb(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ta(t)||Xr(8),ys(t)&&(t=Qr(t));const e=IE(this),i=g_(e,t,void 0);return i[Ti].isManual_=!0,p_(e),i}finishDraft(t,e){const i=t&&t[Ti];(!i||!i.isManual_)&&Xr(9);const{scope_:r}=i;return RE(r,e),zE(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let i;for(i=e.length-1;i>=0;i--){const s=e[i];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}i>-1&&(e=e.slice(i+1));const r=Il(d_).applyPatches_;return ys(t)?r(t,e):this.produce(t,s=>r(s,e))}};function g_(n,t,e,i){const[r,s]=fg(t)?Il(pm).proxyMap_(t,e):pg(t)?Il(pm).proxySet_(t,e):d3(t,e);return(e?.scope_??UP()).drafts_.push(r),s.callbacks_=e?.callbacks_??[],s.key_=i,e&&i!==void 0?u3(e,s,i):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),r}function Qr(n){return ys(n)||Xr(10,n),WP(n)}function WP(n){if(!ta(n)||mg(n))return n;const t=n[Ti];let e,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=h_(n,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else e=h_(n,!0);return hg(e,(r,s)=>{fm(e,r,WP(s))},i),t&&(t.finalized_=!1),e}var m3=new p3,VP=m3.produce;function YP(n){return({dispatch:e,getState:i})=>r=>s=>typeof s=="function"?s(e,i,n):r(s)}var g3=YP(),v3=YP,y3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?um:um.apply(null,arguments)};function kr(n,t){function e(...i){if(t){let r=t(...i);if(!r)throw new Error(ur(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=i=>IP(i)&&i.type===n,e}var XP=class Xh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Xh.prototype)}static get[Symbol.species](){return Xh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Xh(...t[0].concat(this)):new Xh(...t.concat(this))}};function FE(n){return ta(n)?VP(n,()=>{}):n}function Ap(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function b3(n){return typeof n=="boolean"}var _3=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=t??{};let l=new XP;return e&&(b3(e)?l.push(g3):l.push(v3(e.extraArgument))),l},ZP="RTK_autoBatch",tn=()=>n=>({payload:n,meta:{[ZP]:!0}}),UE=n=>t=>{setTimeout(t,n)},KP=(n={type:"raf"})=>t=>(...e)=>{const i=t(...e);let r=!0,s=!1,l=!1;const u=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UE(10):n.type==="callback"?n.queueNotification:UE(n.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},i,{subscribe(p){const v=()=>r&&p(),y=i.subscribe(v);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return r=!p?.meta?.[ZP],s=!r,s&&(l||(l=!0,d(f))),i.dispatch(p)}finally{r=!0}}})},x3=n=>function(e){const{autoBatch:i=!0}=e??{};let r=new XP(n);return i&&r.push(KP(typeof i=="object"?i:void 0)),r};function w3(n){const t=_3(),{reducer:e=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:l=void 0}=n||{};let u;if(typeof e=="function")u=e;else if(Mx(e))u=RP(e);else throw new Error(ur(1));let d;typeof i=="function"?d=i(t):d=t();let f=um;r&&(f=y3({trace:!1,...typeof r=="object"&&r}));const p=e3(...d),v=x3(p);let y=typeof l=="function"?l(v):v();const x=f(...y);return jP(u,s,x)}function QP(n){const t={},e=[];let i;const r={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(ur(28));if(u in t)throw new Error(ur(29));return t[u]=l,r},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&e.push({matcher:s.settled,reducer:l.settled}),r},addMatcher(s,l){return e.push({matcher:s,reducer:l}),r},addDefaultCase(s){return i=s,r}};return n(r),[t,e,i]}function S3(n){return typeof n=="function"}function A3(n,t){let[e,i,r]=QP(t),s;if(S3(n))s=()=>FE(n());else{const u=FE(n);s=()=>u}function l(u=s(),d){let f=[e[d.type],...i.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[r]),f.reduce((p,v)=>{if(v)if(ys(p)){const x=v(p,d);return x===void 0?p:x}else{if(ta(p))return VP(p,y=>v(y,d));{const y=v(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return l.getInitialState=s,l}var T3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E3=(n=21)=>{let t="",e=n;for(;e--;)t+=T3[Math.random()*64|0];return t},C3=Symbol.for("rtk-slice-createasyncthunk");function O3(n,t){return`${n}/${t}`}function M3({creators:n}={}){const t=n?.asyncThunk?.[C3];return function(i){const{name:r,reducerPath:s=r}=i;if(!r)throw new Error(ur(11));const l=(typeof i.reducers=="function"?i.reducers(D3()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(k,j){const z=typeof k=="string"?k:k.type;if(!z)throw new Error(ur(12));if(z in d.sliceCaseReducersByType)throw new Error(ur(13));return d.sliceCaseReducersByType[z]=j,f},addMatcher(k,j){return d.sliceMatchers.push({matcher:k,reducer:j}),f},exposeAction(k,j){return d.actionCreators[k]=j,f},exposeCaseReducer(k,j){return d.sliceCaseReducersByName[k]=j,f}};u.forEach(k=>{const j=l[k],z={reducerName:k,type:O3(r,k),createNotation:typeof i.reducers=="function"};L3(j)?j3(z,j,f,t):k3(z,j,f)});function p(){const[k={},j=[],z=void 0]=typeof i.extraReducers=="function"?QP(i.extraReducers):[i.extraReducers],R={...k,...d.sliceCaseReducersByType};return A3(i.initialState,F=>{for(let q in R)F.addCase(q,R[q]);for(let q of d.sliceMatchers)F.addMatcher(q.matcher,q.reducer);for(let q of j)F.addMatcher(q.matcher,q.reducer);z&&F.addDefaultCase(z)})}const v=k=>k,y=new Map,x=new WeakMap;let A;function S(k,j){return A||(A=p()),A(k,j)}function C(){return A||(A=p()),A.getInitialState()}function O(k,j=!1){function z(F){let q=F[k];return typeof q>"u"&&j&&(q=Ap(x,z,C)),q}function R(F=v){const q=Ap(y,j,()=>new WeakMap);return Ap(q,F,()=>{const J={};for(const[ct,et]of Object.entries(i.selectors??{}))J[ct]=P3(et,F,()=>Ap(x,F,C),j);return J})}return{reducerPath:k,getSelectors:R,get selectors(){return R(z)},selectSlice:z}}const N={name:r,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...O(s),injectInto(k,{reducerPath:j,...z}={}){const R=j??s;return k.inject({reducerPath:R,reducer:S},z),{...N,...O(R,!0)}}};return N}}function P3(n,t,e,i){function r(s,...l){let u=t(s);return typeof u>"u"&&i&&(u=e()),n(u,...l)}return r.unwrapped=n,r}var Wi=M3();function D3(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function k3({type:n,reducerName:t,createNotation:e},i,r){let s,l;if("reducer"in i){if(e&&!N3(i))throw new Error(ur(17));s=i.reducer,l=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(t,s).exposeAction(t,l?kr(n,l):kr(n))}function L3(n){return n._reducerDefinitionType==="asyncThunk"}function N3(n){return n._reducerDefinitionType==="reducerWithPrepare"}function j3({type:n,reducerName:t},e,i,r){if(!r)throw new Error(ur(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=e,v=r(n,s,p);i.exposeAction(t,v),l&&i.addCase(v.fulfilled,l),u&&i.addCase(v.pending,u),d&&i.addCase(v.rejected,d),f&&i.addMatcher(v.settled,f),i.exposeCaseReducer(t,{fulfilled:l||Tp,pending:u||Tp,rejected:d||Tp,settled:f||Tp})}function Tp(){}var R3="task",JP="listener",tD="completed",Lx="cancelled",I3=`task-${Lx}`,z3=`task-${tD}`,v_=`${JP}-${Lx}`,B3=`${JP}-${tD}`,vg=class{constructor(n){this.code=n,this.message=`${R3} ${Lx} (reason: ${n})`}name="TaskAbortError";message},Nx=(n,t)=>{if(typeof n!="function")throw new TypeError(ur(32))},vm=()=>{},eD=(n,t=vm)=>(n.catch(t),n),nD=(n,t)=>(n.addEventListener("abort",t,{once:!0}),()=>n.removeEventListener("abort",t)),kl=n=>{if(n.aborted)throw new vg(n.reason)};function iD(n,t){let e=vm;return new Promise((i,r)=>{const s=()=>r(new vg(n.reason));if(n.aborted){s();return}e=nD(n,s),t.finally(()=>e()).then(i,r)}).finally(()=>{e=vm})}var F3=async(n,t)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(e){return{status:e instanceof vg?"cancelled":"rejected",error:e}}finally{t?.()}},ym=n=>t=>eD(iD(n,t).then(e=>(kl(n),e))),rD=n=>{const t=ym(n);return e=>t(new Promise(i=>setTimeout(i,e)))},{assign:Qc}=Object,HE={},yg="listenerMiddleware",U3=(n,t)=>{const e=i=>nD(n,()=>i.abort(n.reason));return(i,r)=>{Nx(i);const s=new AbortController;e(s);const l=F3(async()=>{kl(n),kl(s.signal);const u=await i({pause:ym(s.signal),delay:rD(s.signal),signal:s.signal});return kl(s.signal),u},()=>s.abort(z3));return r?.autoJoin&&t.push(l.catch(vm)),{result:ym(n)(l),cancel(){s.abort(I3)}}}},H3=(n,t)=>{const e=async(i,r)=>{kl(t);let s=()=>{};const u=[new Promise((d,f)=>{let p=n({predicate:i,effect:(v,y)=>{y.unsubscribe(),d([v,y.getState(),y.getOriginalState()])}});s=()=>{p(),f()}})];r!=null&&u.push(new Promise(d=>setTimeout(d,r,null)));try{const d=await iD(t,Promise.race(u));return kl(t),d}finally{s()}};return(i,r)=>eD(e(i,r))},aD=n=>{let{type:t,actionCreator:e,matcher:i,predicate:r,effect:s}=n;if(t)r=kr(t).match;else if(e)t=e.type,r=e.match;else if(i)r=i;else if(!r)throw new Error(ur(21));return Nx(s),{predicate:r,type:t,effect:s}},sD=Qc(n=>{const{type:t,predicate:e,effect:i}=aD(n);return{id:E3(),effect:i,type:t,predicate:e,pending:new Set,unsubscribe:()=>{throw new Error(ur(22))}}},{withTypes:()=>sD}),$E=(n,t)=>{const{type:e,effect:i,predicate:r}=aD(t);return Array.from(n.values()).find(s=>(typeof e=="string"?s.type===e:s.predicate===r)&&s.effect===i)},y_=n=>{n.pending.forEach(t=>{t.abort(v_)})},$3=(n,t)=>()=>{for(const e of t.keys())y_(e);n.clear()},qE=(n,t,e)=>{try{n(t,e)}catch(i){setTimeout(()=>{throw i},0)}},oD=Qc(kr(`${yg}/add`),{withTypes:()=>oD}),q3=kr(`${yg}/removeAll`),lD=Qc(kr(`${yg}/remove`),{withTypes:()=>lD}),G3=(...n)=>{console.error(`${yg}/error`,...n)},Cd=(n={})=>{const t=new Map,e=new Map,i=x=>{const A=e.get(x)??0;e.set(x,A+1)},r=x=>{const A=e.get(x)??1;A===1?e.delete(x):e.set(x,A-1)},{extra:s,onError:l=G3}=n;Nx(l);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),A=>{x.unsubscribe(),A?.cancelActive&&y_(x)}),d=x=>{const A=$E(t,x)??sD(x);return u(A)};Qc(d,{withTypes:()=>d});const f=x=>{const A=$E(t,x);return A&&(A.unsubscribe(),x.cancelActive&&y_(A)),!!A};Qc(f,{withTypes:()=>f});const p=async(x,A,S,C)=>{const O=new AbortController,N=H3(d,O.signal),k=[];try{x.pending.add(O),i(x),await Promise.resolve(x.effect(A,Qc({},S,{getOriginalState:C,condition:(j,z)=>N(j,z).then(Boolean),take:N,delay:rD(O.signal),pause:ym(O.signal),extra:s,signal:O.signal,fork:U3(O.signal,k),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((j,z,R)=>{j!==O&&(j.abort(v_),R.delete(j))})},cancel:()=>{O.abort(v_),x.pending.delete(O)},throwIfCancelled:()=>{kl(O.signal)}})))}catch(j){j instanceof vg||qE(l,j,{raisedBy:"effect"})}finally{await Promise.all(k),O.abort(B3),r(x),x.pending.delete(O)}},v=$3(t,e);return{middleware:x=>A=>S=>{if(!IP(S))return A(S);if(oD.match(S))return d(S.payload);if(q3.match(S)){v();return}if(lD.match(S))return f(S.payload);let C=x.getState();const O=()=>{if(C===HE)throw new Error(ur(23));return C};let N;try{if(N=A(S),t.size>0){const k=x.getState(),j=Array.from(t.values());for(const z of j){let R=!1;try{R=z.predicate(S,k,C)}catch(F){R=!1,qE(l,F,{raisedBy:"predicate"})}R&&p(z,S,x,O)}}}finally{C=HE}return N},startListening:d,stopListening:f,clearListeners:v}};function ur(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var W3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},cD=Wi({name:"chartLayout",initialState:W3,reducers:{setLayout(n,t){n.layoutType=t.payload},setChartSize(n,t){n.width=t.payload.width,n.height=t.payload.height},setMargin(n,t){var e,i,r,s;n.margin.top=(e=t.payload.top)!==null&&e!==void 0?e:0,n.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=t.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(n,t){n.scale=t.payload}}}),{setMargin:V3,setLayout:Y3,setChartSize:X3,setScale:Z3}=cD.actions,K3=cD.reducer;function uD(n,t,e){return Array.isArray(n)&&n&&t+e!==0?n.slice(t,e+1):n}function ye(n){return Number.isFinite(n)}function La(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function GE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Vc(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(e),!0).forEach(function(i){Q3(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):GE(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Q3(n,t,e){return(t=J3(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function J3(n){var t=t5(n,"string");return typeof t=="symbol"?t:t+""}function t5(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ci(n,t,e){return Gn(n)||Gn(t)?e:ka(t)?au(n,t,e):typeof t=="function"?t(n):e}var e5=(n,t,e)=>{if(t&&e){var{width:i,height:r}=e,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Bt(n[s]))return Vc(Vc({},n),{},{[s]:n[s]+(i||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Bt(n[l]))return Vc(Vc({},n),{},{[l]:n[l]+(r||0)})}return n},Oo=(n,t)=>n==="horizontal"&&t==="xAxis"||n==="vertical"&&t==="yAxis"||n==="centric"&&t==="angleAxis"||n==="radial"&&t==="radiusAxis",hD=(n,t,e,i)=>{if(i)return n.map(u=>u.coordinate);var r,s,l=n.map(u=>(u.coordinate===t&&(r=!0),u.coordinate===e&&(s=!0),u.coordinate));return r||l.push(t),s||l.push(e),l},dD=(n,t,e)=>{if(!n)return null;var{duplicateDomain:i,type:r,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:v,niceTicks:y,axisType:x}=n;if(!l)return null;var A=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=r==="category"&&l.bandwidth?l.bandwidth()/A:0;if(S=x==="angleAxis"&&s&&s.length>=2?$i(s[0]-s[1])*2*S:S,v||y){var C=(v||y||[]).map((O,N)=>{var k=i?i.indexOf(O):O,j=l.map(k);return ye(j)?{coordinate:j+S,value:O,offset:S,index:N}:null}).filter(qi);return C}return d&&f?f.map((O,N)=>{var k=l.map(O);return ye(k)?{coordinate:k+S,value:O,index:N,offset:S}:null}).filter(qi):l.ticks&&p!=null?l.ticks(p).map((O,N)=>{var k=l.map(O);return ye(k)?{coordinate:k+S,value:O,index:N,offset:S}:null}).filter(qi):l.domain().map((O,N)=>{var k=l.map(O);return ye(k)?{coordinate:k+S,value:i?i[O]:O,index:N,offset:S}:null}).filter(qi)},n5=(n,t)=>{if(!t||t.length!==2||!Bt(t[0])||!Bt(t[1]))return n;var e=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),r=[n[0],n[1]];return(!Bt(n[0])||n[0]<e)&&(r[0]=e),(!Bt(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<e&&(r[1]=e),r},i5=n=>{var t,e=n.length;if(!(e<=0)){var i=(t=n[0])===null||t===void 0?void 0:t.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var s=0,l=0,u=0;u<e;++u){var d=n[u],f=d?.[r];if(f!=null){var p=f[1],v=f[0],y=Da(p)?v:p;y>=0?(f[0]=s,s+=y,f[1]=s):(f[0]=l,l+=y,f[1]=l)}}}},r5=n=>{var t,e=n.length;if(!(e<=0)){var i=(t=n[0])===null||t===void 0?void 0:t.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var s=0,l=0;l<e;++l){var u=n[l],d=u?.[r];if(d!=null){var f=Da(d[1])?d[0]:d[1];f>=0?(d[0]=s,s+=f,d[1]=s):(d[0]=0,d[1]=0)}}}},a5={sign:i5,expand:Sz,none:jl,silhouette:Az,wiggle:Tz,positive:r5},s5=(n,t,e)=>{var i,r=(i=a5[e])!==null&&i!==void 0?i:jl,s=wz().keys(t).value((u,d)=>Number(ci(u,d,0))).order(o_).offset(r),l=s(n);return l.forEach((u,d)=>{u.forEach((f,p)=>{var v=ci(n[p],t[d],0);Array.isArray(v)&&v.length===2&&Bt(v[0])&&Bt(v[1])&&(f[0]=v[0],f[1]=v[1])})}),l};function o5(n){return n==null?void 0:String(n)}var WE=n=>{var{axis:t,ticks:e,offset:i,bandSize:r,entry:s,index:l}=n;if(t.type==="category")return e[l]?e[l].coordinate+i:null;var u=ci(s,t.dataKey,t.scale.domain()[l]);if(Gn(u))return null;var d=t.scale.map(u);return Bt(d)?d-r/2+i:null},l5=n=>{var{numericAxis:t}=n,e=t.scale.domain();if(t.type==="number"){var i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return i<=0&&r>=0?0:r<0?r:i}return e[0]},c5=n=>{var t=n.flat(2).filter(Bt);return[Math.min(...t),Math.max(...t)]},u5=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],h5=(n,t,e)=>{if(n!=null)return u5(Object.keys(n).reduce((i,r)=>{var s=n[r];if(!s)return i;var{stackedData:l}=s,u=l.reduce((d,f)=>{var p=uD(f,t,e),v=c5(p);return!ye(v[0])||!ye(v[1])?d:[Math.min(d[0],v[0]),Math.max(d[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]))},VE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bm=(n,t,e)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!e||i>0)return i}if(n&&t&&t.length>=2){for(var r=cg(t,p=>p.coordinate),s=1/0,l=1,u=r.length;l<u;l++){var d=r[l],f=r[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return e?void 0:0};function XE(n){var{tooltipEntrySettings:t,dataKey:e,payload:i,value:r,name:s}=n;return Vc(Vc({},t),{},{dataKey:e,payload:i,value:r,name:s})}function fD(n,t){if(n)return String(n);if(typeof t=="string")return t}var d5=(n,t)=>{if(t==="horizontal")return n.chartX;if(t==="vertical")return n.chartY},f5=(n,t)=>t==="centric"?n.angle:n.radius,Ts=n=>n.layout.width,Es=n=>n.layout.height,p5=n=>n.layout.scale,pD=n=>n.layout.margin,bg=lt(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),_g=lt(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),m5="data-recharts-item-index",g5="data-recharts-item-id",Od=60;function ZE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ep(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(e),!0).forEach(function(i){v5(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ZE(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function v5(n,t,e){return(t=y5(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function y5(n){var t=b5(n,"string");return typeof t=="symbol"?t:t+""}function b5(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var _5=n=>n.brush.height;function x5(n){var t=_g(n);return t.reduce((e,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Od;return e+r}return e},0)}function w5(n){var t=_g(n);return t.reduce((e,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Od;return e+r}return e},0)}function S5(n){var t=bg(n);return t.reduce((e,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?e+i.height:e,0)}function A5(n){var t=bg(n);return t.reduce((e,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?e+i.height:e,0)}var Vn=lt([Ts,Es,pD,_5,x5,w5,S5,A5,LP,YB],(n,t,e,i,r,s,l,u,d,f)=>{var p={left:(e.left||0)+r,right:(e.right||0)+s},v={top:(e.top||0)+l,bottom:(e.bottom||0)+u},y=Ep(Ep({},v),p),x=y.bottom;y.bottom+=i,y=e5(y,d,f);var A=n-y.left-y.right,S=t-y.top-y.bottom;return Ep(Ep({brushBottom:x},y),{},{width:Math.max(A,0),height:Math.max(S,0)})}),T5=lt(Vn,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),jx=lt(Ts,Es,(n,t)=>({x:0,y:0,width:n,height:t})),E5=D.createContext(null),Vi=()=>D.useContext(E5)!=null,xg=n=>n.brush,wg=lt([xg,Vn,pD],(n,t,e)=>({height:n.height,x:Bt(n.x)?n.x:t.left,y:Bt(n.y)?n.y:t.top+t.height+t.brushBottom-(e?.bottom||0),width:Bt(n.width)?n.width:t.width})),fb={},pb={},mb={},KE;function C5(){return KE||(KE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i,{signal:r,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),p=()=>{u!==null&&(e.apply(l,u),l=void 0,u=null)},v=()=>{f&&p(),S()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,v()},i)},A=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{A(),l=void 0,u=null},C=()=>{p()},O=function(...N){if(r?.aborted)return;l=this,u=N;const k=y==null;x(),d&&k&&p()};return O.schedule=x,O.cancel=S,O.flush=C,r?.addEventListener("abort",S,{once:!0}),O}n.debounce=t})(mb)),mb}var QE;function O5(){return QE||(QE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=C5();function e(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,v=null;const y=t.debounce(function(...S){p=i.apply(this,S),v=null},r,{edges:f}),x=function(...S){return d!=null&&(v===null&&(v=Date.now()),Date.now()-v>=d)?(p=i.apply(this,S),v=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,S),p)},A=()=>(y.flush(),p);return x.cancel=y.cancel,x.flush=A,x}n.debounce=e})(pb)),pb}var JE;function M5(){return JE||(JE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=O5();function e(i,r=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(i,r,{leading:l,maxWait:r,trailing:u})}n.throttle=e})(fb)),fb}var gb,tC;function P5(){return tC||(tC=1,gb=M5().throttle),gb}var D5=P5();const k5=Ra(D5);var _m=function(t,e){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(e===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(e===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(e.replace(/%s/g,()=>r[l++]))}},Oa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},mD=(n,t,e)=>{var{width:i=Oa.width,height:r=Oa.height,aspect:s,maxHeight:l}=e,u=Rl(i)?n:Number(i),d=Rl(r)?t:Number(r);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},L5={width:0,height:0,overflow:"visible"},N5={width:0,overflowX:"visible"},j5={height:0,overflowY:"visible"},R5={},I5=n=>{var{width:t,height:e}=n,i=Rl(t),r=Rl(e);return i&&r?L5:i?N5:r?j5:R5};function z5(n){var{width:t,height:e,aspect:i}=n,r=t,s=e;return r===void 0&&s===void 0?(r=Oa.width,s=Oa.height):r===void 0?r=i&&i>0?void 0:Oa.width:s===void 0&&(s=i&&i>0?void 0:Oa.height),{width:r,height:s}}function b_(){return b_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},b_.apply(null,arguments)}function eC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function nC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(e),!0).forEach(function(i){B5(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):eC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function B5(n,t,e){return(t=F5(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function F5(n){var t=U5(n,"string");return typeof t=="symbol"?t:t+""}function U5(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var gD=D.createContext(Oa.initialDimension);function H5(n){return La(n.width)&&La(n.height)}function vD(n){var{children:t,width:e,height:i}=n,r=D.useMemo(()=>({width:e,height:i}),[e,i]);return H5(r)?D.createElement(gD.Provider,{value:r},t):null}var Rx=()=>D.useContext(gD),$5=D.forwardRef((n,t)=>{var{aspect:e,initialDimension:i=Oa.initialDimension,width:r,height:s,minWidth:l=Oa.minWidth,minHeight:u,maxHeight:d,children:f,debounce:p=Oa.debounce,id:v,className:y,onResize:x,style:A={}}=n,S=D.useRef(null),C=D.useRef();C.current=x,D.useImperativeHandle(t,()=>S.current);var[O,N]=D.useState({containerWidth:i.width,containerHeight:i.height}),k=D.useCallback((q,J)=>{N(ct=>{var et=Math.round(q),Z=Math.round(J);return ct.containerWidth===et&&ct.containerHeight===Z?ct:{containerWidth:et,containerHeight:Z}})},[]);D.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return vu;var q=Z=>{var Ct,_t=Z[0];if(_t!=null){var{width:kt,height:G}=_t.contentRect;k(kt,G),(Ct=C.current)===null||Ct===void 0||Ct.call(C,kt,G)}};p>0&&(q=k5(q,p,{trailing:!0,leading:!1}));var J=new ResizeObserver(q),{width:ct,height:et}=S.current.getBoundingClientRect();return k(ct,et),J.observe(S.current),()=>{J.disconnect()}},[k,p]);var{containerWidth:j,containerHeight:z}=O;_m(!e||e>0,"The aspect(%s) must be greater than zero.",e);var{calculatedWidth:R,calculatedHeight:F}=mD(j,z,{width:r,height:s,aspect:e,maxHeight:d});return _m(R!=null&&R>0||F!=null&&F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,F,r,s,l,u,e),D.createElement("div",{id:v?"".concat(v):void 0,className:Ge("recharts-responsive-container",y),style:nC(nC({},A),{},{width:r,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:S},D.createElement("div",{style:I5({width:r,height:s})},D.createElement(vD,{width:R,height:F},f)))}),q5=D.forwardRef((n,t)=>{var e=Rx();if(La(e.width)&&La(e.height))return n.children;var{width:i,height:r}=z5({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:l}=mD(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return Bt(s)&&Bt(l)?D.createElement(vD,{width:s,height:l},n.children):D.createElement($5,b_({},n,{width:i,height:r,ref:t}))});function Ix(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var Sg=()=>{var n,t=Vi(),e=$t(T5),i=$t(wg),r=(n=$t(xg))===null||n===void 0?void 0:n.padding;return!t||!i||!r?e:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},G5={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yD=()=>{var n;return(n=$t(Vn))!==null&&n!==void 0?n:G5},zx=()=>$t(Ts),Bx=()=>$t(Es),W5=()=>$t(n=>n.layout.margin),$e=n=>n.layout.layoutType,yu=()=>$t($e),bD=()=>{var n=yu();if(n==="horizontal"||n==="vertical")return n},_D=n=>{var t=n.layout.layoutType;if(t==="centric"||t==="radial")return t},V5=()=>{var n=yu();return n!==void 0},Md=n=>{var t=sn(),e=Vi(),{width:i,height:r}=n,s=Rx(),l=i,u=r;return s&&(l=s.width>0?s.width:i,u=s.height>0?s.height:r),D.useEffect(()=>{!e&&La(l)&&La(u)&&t(X3({width:l,height:u}))},[t,e,l,u]),null},xD=Symbol.for("immer-nothing"),iC=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Zr(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var cd=Object.getPrototypeOf;function ou(n){return!!n&&!!n[hr]}function zl(n){return n?wD(n)||Array.isArray(n)||!!n[iC]||!!n.constructor?.[iC]||Pd(n)||Tg(n):!1}var Y5=Object.prototype.constructor.toString(),rC=new WeakMap;function wD(n){if(!n||typeof n!="object")return!1;const t=Object.getPrototypeOf(n);if(t===null||t===Object.prototype)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(e===Object)return!0;if(typeof e!="function")return!1;let i=rC.get(e);return i===void 0&&(i=Function.toString.call(e),rC.set(e,i)),i===Y5}function xm(n,t,e=!0){Ag(n)===0?(e?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{t(r,n[r],n)}):n.forEach((i,r)=>t(r,i,n))}function Ag(n){const t=n[hr];return t?t.type_:Array.isArray(n)?1:Pd(n)?2:Tg(n)?3:0}function __(n,t){return Ag(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function SD(n,t,e){const i=Ag(n);i===2?n.set(t,e):i===3?n.add(e):n[t]=e}function X5(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function Pd(n){return n instanceof Map}function Tg(n){return n instanceof Set}function xl(n){return n.copy_||n.base_}function x_(n,t){if(Pd(n))return new Map(n);if(Tg(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=wD(n);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(n);delete i[hr];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const l=r[s],u=i[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(i[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[l]})}return Object.create(cd(n),i)}else{const i=cd(n);if(i!==null&&e)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function Fx(n,t=!1){return Eg(n)||ou(n)||!zl(n)||(Ag(n)>1&&Object.defineProperties(n,{set:Cp,add:Cp,clear:Cp,delete:Cp}),Object.freeze(n),t&&Object.values(n).forEach(e=>Fx(e,!0))),n}function Z5(){Zr(2)}var Cp={value:Z5};function Eg(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var K5={};function Bl(n){const t=K5[n];return t||Zr(0,n),t}var ud;function AD(){return ud}function Q5(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aC(n,t){t&&(Bl("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function w_(n){S_(n),n.drafts_.forEach(J5),n.drafts_=null}function S_(n){n===ud&&(ud=n.parent_)}function sC(n){return ud=Q5(ud,n)}function J5(n){const t=n[hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oC(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[hr].modified_&&(w_(t),Zr(4)),zl(n)&&(n=wm(t,n),t.parent_||Sm(t,n)),t.patches_&&Bl("Patches").generateReplacementPatches_(e[hr].base_,n,t.patches_,t.inversePatches_)):n=wm(t,e,[]),w_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==xD?n:void 0}function wm(n,t,e){if(Eg(t))return t;const i=n.immer_.shouldUseStrictIteration(),r=t[hr];if(!r)return xm(t,(s,l)=>lC(n,r,t,s,l,e),i),t;if(r.scope_!==n)return t;if(!r.modified_)return Sm(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,u=!1;r.type_===3&&(l=new Set(s),s.clear(),u=!0),xm(l,(d,f)=>lC(n,r,s,d,f,e,u),i),Sm(n,s,!1),e&&n.patches_&&Bl("Patches").generatePatches_(r,e,n.patches_,n.inversePatches_)}return r.copy_}function lC(n,t,e,i,r,s,l){if(r==null||typeof r!="object"&&!l)return;const u=Eg(r);if(!(u&&!l)){if(ou(r)){const d=s&&t&&t.type_!==3&&!__(t.assigned_,i)?s.concat(i):void 0,f=wm(n,r,d);if(SD(e,i,f),ou(f))n.canAutoFreeze_=!1;else return}else l&&e.add(r);if(zl(r)&&!u){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||t&&t.base_&&t.base_[i]===r&&u)return;wm(n,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(Pd(e)?e.has(i):Object.prototype.propertyIsEnumerable.call(e,i))&&Sm(n,r)}}}function Sm(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Fx(t,e)}function tF(n,t){const e=Array.isArray(n),i={type_:e?1:0,scope_:t?t.scope_:AD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Ux;e&&(r=[i],s=hd);const{revoke:l,proxy:u}=Proxy.revocable(r,s);return i.draft_=u,i.revoke_=l,u}var Ux={get(n,t){if(t===hr)return n;const e=xl(n);if(!__(e,t))return eF(n,e,t);const i=e[t];return n.finalized_||!zl(i)?i:i===vb(n.base_,t)?(yb(n),n.copy_[t]=T_(i,n)):i},has(n,t){return t in xl(n)},ownKeys(n){return Reflect.ownKeys(xl(n))},set(n,t,e){const i=TD(xl(n),t);if(i?.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=vb(xl(n),t),s=r?.[hr];if(s&&s.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(X5(e,r)&&(e!==void 0||__(n.base_,t)))return!0;yb(n),A_(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return vb(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,yb(n),A_(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=xl(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){Zr(11)},getPrototypeOf(n){return cd(n.base_)},setPrototypeOf(){Zr(12)}},hd={};xm(Ux,(n,t)=>{hd[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hd.deleteProperty=function(n,t){return hd.set.call(this,n,t,void 0)};hd.set=function(n,t,e){return Ux.set.call(this,n[0],t,e,n[0])};function vb(n,t){const e=n[hr];return(e?xl(e):n)[t]}function eF(n,t,e){const i=TD(t,e);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function TD(n,t){if(!(t in n))return;let e=cd(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=cd(e)}}function A_(n){n.modified_||(n.modified_=!0,n.parent_&&A_(n.parent_))}function yb(n){n.copy_||(n.copy_=x_(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var nF=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const s=e;e=t;const l=this;return function(d=s,...f){return l.produce(d,p=>e.call(this,p,...f))}}typeof e!="function"&&Zr(6),i!==void 0&&typeof i!="function"&&Zr(7);let r;if(zl(t)){const s=sC(this),l=T_(t,void 0);let u=!0;try{r=e(l),u=!1}finally{u?w_(s):S_(s)}return aC(s,i),oC(r,s)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===xD&&(r=void 0),this.autoFreeze_&&Fx(r,!0),i){const s=[],l=[];Bl("Patches").generateReplacementPatches_(t,r,s,l),i(s,l)}return r}else Zr(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let i,r;return[this.produce(t,e,(l,u)=>{i=l,r=u}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){zl(n)||Zr(8),ou(n)&&(n=iF(n));const t=sC(this),e=T_(n,void 0);return e[hr].isManual_=!0,S_(t),e}finishDraft(n,t){const e=n&&n[hr];(!e||!e.isManual_)&&Zr(9);const{scope_:i}=e;return aC(i,t),oC(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}e>-1&&(t=t.slice(e+1));const i=Bl("Patches").applyPatches_;return ou(n)?i(n,t):this.produce(n,r=>i(r,t))}};function T_(n,t){const e=Pd(n)?Bl("MapSet").proxyMap_(n,t):Tg(n)?Bl("MapSet").proxySet_(n,t):tF(n,t);return(t?t.scope_:AD()).drafts_.push(e),e}function iF(n){return ou(n)||Zr(10,n),ED(n)}function ED(n){if(!zl(n)||Eg(n))return n;const t=n[hr];let e,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=x_(n,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else e=x_(n,!0);return xm(e,(r,s)=>{SD(e,r,ED(s))},i),t&&(t.finalized_=!1),e}var rF=new nF;rF.produce;var aF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},CD=Wi({name:"legend",initialState:aF,reducers:{setLegendSize(n,t){n.size.width=t.payload.width,n.size.height=t.payload.height},setLegendSettings(n,t){n.settings.align=t.payload.align,n.settings.layout=t.payload.layout,n.settings.verticalAlign=t.payload.verticalAlign,n.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(n,t){n.payload.push(t.payload)},prepare:tn()},replaceLegendPayload:{reducer(n,t){var{prev:e,next:i}=t.payload,r=Qr(n).payload.indexOf(e);r>-1&&(n.payload[r]=i)},prepare:tn()},removeLegendPayload:{reducer(n,t){var e=Qr(n).payload.indexOf(t.payload);e>-1&&n.payload.splice(e,1)},prepare:tn()}}}),{setLegendSize:cC,setLegendSettings:sF,addLegendPayload:oF,replaceLegendPayload:lF,removeLegendPayload:cF}=CD.actions,uF=CD.reducer,hF=["contextPayload"];function E_(){return E_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},E_.apply(null,arguments)}function uC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function lu(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(e),!0).forEach(function(i){dF(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):uC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function dF(n,t,e){return(t=fF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function fF(n){var t=pF(n,"string");return typeof t=="symbol"?t:t+""}function pF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function mF(n,t){if(n==null)return{};var e,i,r=gF(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function gF(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function vF(n){return n.value}function yF(n){var{contextPayload:t}=n,e=mF(n,hF),i=MP(t,n.payloadUniqBy,vF),r=lu(lu({},e),{},{payload:i});return D.isValidElement(n.content)?D.cloneElement(n.content,r):typeof n.content=="function"?D.createElement(n.content,r):D.createElement(nB,r)}function bF(n,t,e,i,r,s){var{layout:l,align:u,verticalAlign:d}=t,f,p;return(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))&&(u==="center"&&l==="vertical"?f={left:((i||0)-s.width)/2}:f=u==="right"?{right:e&&e.right||0}:{left:e&&e.left||0}),(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))&&(d==="middle"?p={top:((r||0)-s.height)/2}:p=d==="bottom"?{bottom:e&&e.bottom||0}:{top:e&&e.top||0}),lu(lu({},f),p)}function _F(n){var t=sn();return D.useEffect(()=>{t(sF(n))},[t,n]),null}function xF(n){var t=sn();return D.useEffect(()=>(t(cC(n)),()=>{t(cC({width:0,height:0}))}),[t,n]),null}function wF(n,t,e,i){return n==="vertical"&&t!=null?{height:t}:n==="horizontal"?{width:e||i}:null}var SF={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function OD(n){var t=Ei(n,SF),e=KB(),i=WI(),r=W5(),{width:s,height:l,wrapperStyle:u,portal:d}=t,[f,p]=NP([e]),v=zx(),y=Bx();if(v==null||y==null)return null;var x=v-(r?.left||0)-(r?.right||0),A=wF(t.layout,l,s,x),S=d?u:lu(lu({position:"absolute",width:A?.width||s||"auto",height:A?.height||l||"auto"},bF(u,t,r,v,y,f)),u),C=d??i;if(C==null||e==null)return null;var O=D.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},D.createElement(_F,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&D.createElement(xF,{width:f.width,height:f.height}),D.createElement(yF,E_({},t,A,{margin:r,chartWidth:v,chartHeight:y,contextPayload:e})));return rg.createPortal(O,C)}OD.displayName="Legend";function C_(){return C_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},C_.apply(null,arguments)}function hC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Nh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(e),!0).forEach(function(i){AF(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function AF(n,t,e){return(t=TF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function TF(n){var t=EF(n,"string");return typeof t=="symbol"?t:t+""}function EF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function CF(n){return Array.isArray(n)&&ka(n[0])&&ka(n[1])?n.join(" ~ "):n}var zc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},OF=n=>{var{separator:t=zc.separator,contentStyle:e,itemStyle:i,labelStyle:r=zc.labelStyle,payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:v,accessibilityLayer:y=zc.accessibilityLayer}=n,x=()=>{if(s&&s.length){var z={padding:0,margin:0},R=(u?cg(s,u):s).map((F,q)=>{if(F.type==="none")return null;var J=F.formatter||l||CF,{value:ct,name:et}=F,Z=ct,Ct=et;if(J){var _t=J(ct,et,F,q,s);if(Array.isArray(_t))[Z,Ct]=_t;else if(_t!=null)Z=_t;else return null}var kt=Nh(Nh({},zc.itemStyle),{},{color:F.color||zc.itemStyle.color},i);return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:kt},ka(Ct)?D.createElement("span",{className:"recharts-tooltip-item-name"},Ct):null,ka(Ct)?D.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Z),D.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:z},R)}return null},A=Nh(Nh({},zc.contentStyle),e),S=Nh({margin:0},r),C=!Gn(p),O=C?p:"",N=Ge("recharts-default-tooltip",d),k=Ge("recharts-tooltip-label",f);C&&v&&s!==void 0&&s!==null&&(O=v(p,s));var j=y?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",C_({className:N,style:A},j),D.createElement("p",{className:k,style:S},D.isValidElement(O)?O:"".concat(O)),x())},jh="recharts-tooltip-wrapper",MF={visibility:"hidden"};function PF(n){var{coordinate:t,translateX:e,translateY:i}=n;return Ge(jh,{["".concat(jh,"-right")]:Bt(e)&&t&&Bt(t.x)&&e>=t.x,["".concat(jh,"-left")]:Bt(e)&&t&&Bt(t.x)&&e<t.x,["".concat(jh,"-bottom")]:Bt(i)&&t&&Bt(t.y)&&i>=t.y,["".concat(jh,"-top")]:Bt(i)&&t&&Bt(t.y)&&i<t.y})}function dC(n){var{allowEscapeViewBox:t,coordinate:e,key:i,offset:r,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=n;if(s&&Bt(s[i]))return s[i];var p=e[i]-u-(r>0?r:0),v=e[i]+r;if(t[i])return l[i]?p:v;var y=d[i];if(y==null)return 0;if(l[i]){var x=p,A=y;return x<A?Math.max(v,y):Math.max(p,y)}if(f==null)return 0;var S=v+u,C=y+f;return S>C?Math.max(p,y):Math.max(v,y)}function DF(n){var{translateX:t,translateY:e,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function kF(n){var{allowEscapeViewBox:t,coordinate:e,offsetTop:i,offsetLeft:r,position:s,reverseDirection:l,tooltipBox:u,useTranslate3d:d,viewBox:f}=n,p,v,y;return u.height>0&&u.width>0&&e?(v=dC({allowEscapeViewBox:t,coordinate:e,key:"x",offset:r,position:s,reverseDirection:l,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),y=dC({allowEscapeViewBox:t,coordinate:e,key:"y",offset:i,position:s,reverseDirection:l,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),p=DF({translateX:v,translateY:y,useTranslate3d:d})):p=MF,{cssProperties:p,cssClasses:PF({translateX:v,translateY:y,coordinate:e})}}function fC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Op(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(e),!0).forEach(function(i){O_(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):fC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function O_(n,t,e){return(t=LF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function LF(n){var t=NF(n,"string");return typeof t=="symbol"?t:t+""}function NF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class jF extends D.PureComponent{constructor(){super(...arguments),O_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),O_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var e,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(e=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&e!==void 0?e:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,e;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((e=this.props.coordinate)===null||e===void 0?void 0:e.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:e,animationDuration:i,animationEasing:r,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:p,reverseDirection:v,useTranslate3d:y,viewBox:x,wrapperStyle:A,lastBoundingBox:S,innerRef:C,hasPortalFromProps:O}=this.props,N=typeof f=="number"?f:f.x,k=typeof f=="number"?f:f.y,{cssClasses:j,cssProperties:z}=kF({allowEscapeViewBox:e,coordinate:l,offsetLeft:N,offsetTop:k,position:p,reverseDirection:v,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:x}),R=O?{}:Op(Op({transition:d&&t?"transform ".concat(i,"ms ").concat(r):void 0},z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),F=Op(Op({},R),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},A);return D.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:F,ref:C},s)}}var MD=()=>{var n;return(n=$t(t=>t.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function M_(){return M_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},M_.apply(null,arguments)}function pC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function mC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(e),!0).forEach(function(i){RF(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function RF(n,t,e){return(t=IF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function IF(n){var t=zF(n,"string");return typeof t=="symbol"?t:t+""}function zF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var gC={curveBasisClosed:hz,curveBasisOpen:dz,curveBasis:uz,curveBumpX:ZI,curveBumpY:KI,curveLinearClosed:fz,curveLinear:sg,curveMonotoneX:pz,curveMonotoneY:mz,curveNatural:gz,curveStep:vz,curveStepAfter:bz,curveStepBefore:yz},Am=n=>ye(n.x)&&ye(n.y),vC=n=>n.base!=null&&Am(n.base)&&Am(n),Rh=n=>n.x,Ih=n=>n.y,BF=(n,t)=>{if(typeof n=="function")return n;var e="curve".concat(Td(n));if((e==="curveMonotone"||e==="curveBump")&&t){var i=gC["".concat(e).concat(t==="vertical"?"Y":"X")];if(i)return i}return gC[e]||sg},yC={connectNulls:!1,type:"linear"},FF=n=>{var{type:t=yC.type,points:e=[],baseLine:i,layout:r,connectNulls:s=yC.connectNulls}=n,l=BF(t,r),u=s?e.filter(Am):e;if(Array.isArray(i)){var d,f=e.map((A,S)=>mC(mC({},A),{},{base:i[S]}));r==="vertical"?d=_p().y(Ih).x1(Rh).x0(A=>A.base.x):d=_p().x(Rh).y1(Ih).y0(A=>A.base.y);var p=d.defined(vC).curve(l),v=s?f.filter(vC):f;return p(v)}var y;r==="vertical"&&Bt(i)?y=_p().y(Ih).x1(Rh).x0(i):Bt(i)?y=_p().x(Rh).y1(Ih).y0(i):y=sP().x(Rh).y(Ih);var x=y.defined(Am).curve(l);return x(u)},PD=n=>{var{className:t,points:e,path:i,pathRef:r}=n,s=yu();if((!e||!e.length)&&!i)return null;var l={type:n.type,points:n.points,baseLine:n.baseLine,layout:n.layout||s,connectNulls:n.connectNulls},u=e&&e.length?FF(l):i;return D.createElement("path",M_({},gs(n),$z(n),{className:Ge("recharts-curve",t),d:u===null?void 0:u,ref:r}))},UF=["x","y","top","left","width","height","className"];function P_(){return P_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},P_.apply(null,arguments)}function bC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function HF(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(e),!0).forEach(function(i){$F(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):bC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function $F(n,t,e){return(t=qF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function qF(n){var t=GF(n,"string");return typeof t=="symbol"?t:t+""}function GF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function WF(n,t){if(n==null)return{};var e,i,r=VF(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function VF(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var YF=(n,t,e,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(t,"h").concat(e),XF=n=>{var{x:t=0,y:e=0,top:i=0,left:r=0,width:s=0,height:l=0,className:u}=n,d=WF(n,UF),f=HF({x:t,y:e,top:i,left:r,width:s,height:l},d);return!Bt(t)||!Bt(e)||!Bt(s)||!Bt(l)||!Bt(i)||!Bt(r)?null:D.createElement("path",P_({},Dr(f),{className:Ge("recharts-cross",u),d:YF(t,e,s,l,i,r)}))};function ZF(n,t,e,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?t.x-r:e.left+.5,y:n==="horizontal"?e.top+.5:t.y-r,width:n==="horizontal"?i:e.width-1,height:n==="horizontal"?e.height-1:i}}function _C(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function xC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(e),!0).forEach(function(i){KF(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_C(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function KF(n,t,e){return(t=QF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function QF(n){var t=JF(n,"string");return typeof t=="symbol"?t:t+""}function JF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var t6=n=>n.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DD=(n,t,e)=>n.map(i=>"".concat(t6(i)," ").concat(t,"ms ").concat(e)).join(","),e6=(n,t)=>[Object.keys(n),Object.keys(t)].reduce((e,i)=>e.filter(r=>i.includes(r))),dd=(n,t)=>Object.keys(t).reduce((e,i)=>xC(xC({},e),{},{[i]:n(i,t[i])}),{});function wC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function kn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(e),!0).forEach(function(i){n6(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function n6(n,t,e){return(t=i6(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i6(n){var t=r6(n,"string");return typeof t=="symbol"?t:t+""}function r6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Tm=(n,t,e)=>n+(t-n)*e,D_=n=>{var{from:t,to:e}=n;return t!==e},kD=(n,t,e)=>{var i=dd((r,s)=>{if(D_(s)){var[l,u]=n(s.from,s.to,s.velocity);return kn(kn({},s),{},{from:l,velocity:u})}return s},t);return e<1?dd((r,s)=>D_(s)&&i[r]!=null?kn(kn({},s),{},{velocity:Tm(s.velocity,i[r].velocity,e),from:Tm(s.from,i[r].from,e)}):s,t):kD(n,i,e-1)};function a6(n,t,e,i,r,s){var l,u=i.reduce((y,x)=>kn(kn({},y),{},{[x]:{from:n[x],velocity:0,to:t[x]}}),{}),d=()=>dd((y,x)=>x.from,u),f=()=>!Object.values(u).filter(D_).length,p=null,v=y=>{l||(l=y);var x=y-l,A=x/e.dt;u=kD(e,u,A),r(kn(kn(kn({},n),t),d())),l=y,f()||(p=s.setTimeout(v))};return()=>(p=s.setTimeout(v),()=>{var y;(y=p)===null||y===void 0||y()})}function s6(n,t,e,i,r,s,l){var u=null,d=r.reduce((v,y)=>{var x=n[y],A=t[y];return x==null||A==null?v:kn(kn({},v),{},{[y]:[x,A]})},{}),f,p=v=>{f||(f=v);var y=(v-f)/i,x=dd((S,C)=>Tm(...C,e(y)),d);if(s(kn(kn(kn({},n),t),x)),y<1)u=l.setTimeout(p);else{var A=dd((S,C)=>Tm(...C,e(1)),d);s(kn(kn(kn({},n),t),A))}};return()=>(u=l.setTimeout(p),()=>{var v;(v=u)===null||v===void 0||v()})}const o6=(n,t,e,i,r,s)=>{var l=e6(n,t);return e==null?()=>(r(kn(kn({},n),t)),()=>{}):e.isStepper===!0?a6(n,t,e,l,r,s):s6(n,t,e,i,l,r,s)};var Em=1e-4,LD=(n,t)=>[0,3*n,3*t-6*n,3*n-3*t+1],ND=(n,t)=>n.map((e,i)=>e*t**i).reduce((e,i)=>e+i),SC=(n,t)=>e=>{var i=LD(n,t);return ND(i,e)},l6=(n,t)=>e=>{var i=LD(n,t),r=[...i.map((s,l)=>s*l).slice(1),0];return ND(r,e)},c6=n=>{var t,e=n.split("(");if(e.length!==2||e[0]!=="cubic-bezier")return null;var i=(t=e[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(i==null||i.length!==4)return null;var r=i.map(s=>parseFloat(s));return[r[0],r[1],r[2],r[3]]},u6=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length===1)switch(e[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=c6(e[0]);if(r)return r}}return e.length===4?e:[0,0,1,1]},h6=(n,t,e,i)=>{var r=SC(n,e),s=SC(t,i),l=l6(n,e),u=f=>f>1?1:f<0?0:f,d=f=>{for(var p=f>1?1:f,v=p,y=0;y<8;++y){var x=r(v)-p,A=l(v);if(Math.abs(x-p)<Em||A<Em)return s(v);v=u(v-x/A)}return s(v)};return d.isStepper=!1,d},AC=function(){return h6(...u6(...arguments))},d6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:e=100,damping:i=8,dt:r=17}=t,s=(l,u,d)=>{var f=-(l-u)*e,p=d*i,v=d+(f-p)*r/1e3,y=d*r/1e3+l;return Math.abs(y-u)<Em&&Math.abs(v)<Em?[u,0]:[y,v]};return s.isStepper=!0,s.dt=r,s},f6=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AC(n);case"spring":return d6();default:if(n.split("(")[0]==="cubic-bezier")return AC(n)}return typeof n=="function"?n:null};function p6(n){var t,e=()=>null,i=!1,r=null,s=l=>{if(!i){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){r=n.setTimeout(s.bind(null,f),d);return}s(d),r=n.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,e(t)),typeof l=="object"&&(t=l,e(t)),typeof l=="function"&&l()}};return{stop:()=>{i=!0},start:l=>{i=!1,r&&(r(),r=null),s(l)},subscribe:l=>(e=l,()=>{e=()=>null}),getTimeoutController:()=>n}}class m6{setTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=l=>{l-i>=e?t(l):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function g6(){return p6(new m6)}var v6=D.createContext(g6);function y6(n,t){var e=D.useContext(v6);return D.useMemo(()=>t??e(n),[n,t,e])}var b6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cg={isSsr:b6()},_6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TC={t:0},bb={t:1};function Hx(n){var t=Ei(n,_6),{isActive:e,canBegin:i,duration:r,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,p=e==="auto"?!Cg.isSsr:e,v=y6(t.animationId,t.animationManager),[y,x]=D.useState(p?TC:bb),A=D.useRef(null);return D.useEffect(()=>{p||x(bb)},[p]),D.useEffect(()=>{if(!p||!i)return vu;var S=o6(TC,bb,f6(s),r,x,v.getTimeoutController()),C=()=>{A.current=S()};return v.start([d,l,C,r,u]),()=>{v.stop(),A.current&&A.current(),u()}},[p,i,r,s,l,d,u,v]),f(y.t)}function $x(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",e=D.useRef(ad(t)),i=D.useRef(n);return i.current!==n&&(e.current=ad(t),i.current=n),e.current}var x6=["radius"],w6=["radius"],EC,CC,OC,MC,PC,DC,kC,LC,NC,jC;function RC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function IC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(e),!0).forEach(function(i){S6(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):RC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function S6(n,t,e){return(t=A6(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function A6(n){var t=T6(n,"string");return typeof t=="symbol"?t:t+""}function T6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Cm.apply(null,arguments)}function zC(n,t){if(n==null)return{};var e,i,r=E6(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function E6(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function xa(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var BC=(n,t,e,i,r)=>{var s=So(e),l=So(i),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,v;if(u>0&&Array.isArray(r)){for(var y=[0,0,0,0],x=0,A=4;x<A;x++){var S,C=(S=r[x])!==null&&S!==void 0?S:0;y[x]=C>u?u:C}v=dn(EC||(EC=xa(["M",",",""])),n,t+d*y[0]),y[0]>0&&(v+=dn(CC||(CC=xa(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,n+f*y[0],t)),v+=dn(OC||(OC=xa(["L ",",",""])),n+e-f*y[1],t),y[1]>0&&(v+=dn(MC||(MC=xa(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,n+e,t+d*y[1])),v+=dn(PC||(PC=xa(["L ",",",""])),n+e,t+i-d*y[2]),y[2]>0&&(v+=dn(DC||(DC=xa(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,n+e-f*y[2],t+i)),v+=dn(kC||(kC=xa(["L ",",",""])),n+f*y[3],t+i),y[3]>0&&(v+=dn(LC||(LC=xa(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,n,t+i-d*y[3])),v+="Z"}else if(u>0&&r===+r&&r>0){var O=Math.min(u,r);v=dn(NC||(NC=xa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),n,t+d*O,O,O,p,n+f*O,t,n+e-f*O,t,O,O,p,n+e,t+d*O,n+e,t+i-d*O,O,O,p,n+e-f*O,t+i,n+f*O,t+i,O,O,p,n,t+i-d*O)}else v=dn(jC||(jC=xa(["M ",","," h "," v "," h "," Z"])),n,t,e,i,-e);return v},FC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jD=n=>{var t=Ei(n,FC),e=D.useRef(null),[i,r]=D.useState(-1);D.useEffect(()=>{if(e.current&&e.current.getTotalLength)try{var K=e.current.getTotalLength();K&&r(K)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:f,className:p}=t,{animationEasing:v,animationDuration:y,animationBegin:x,isAnimationActive:A,isUpdateAnimationActive:S}=t,C=D.useRef(u),O=D.useRef(d),N=D.useRef(s),k=D.useRef(l),j=D.useMemo(()=>({x:s,y:l,width:u,height:d,radius:f}),[s,l,u,d,f]),z=$x(j,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var R=Ge("recharts-rectangle",p);if(!S){var F=Dr(t),{radius:q}=F,J=zC(F,x6);return D.createElement("path",Cm({},J,{x:So(s),y:So(l),width:So(u),height:So(d),radius:typeof f=="number"?f:void 0,className:R,d:BC(s,l,u,d,f)}))}var ct=C.current,et=O.current,Z=N.current,Ct=k.current,_t="0px ".concat(i===-1?1:i,"px"),kt="".concat(i,"px 0px"),G=DD(["strokeDasharray"],y,typeof v=="string"?v:FC.animationEasing);return D.createElement(Hx,{animationId:z,key:z,canBegin:i>0,duration:y,easing:v,isActive:S,begin:x},K=>{var V=si(ct,u,K),Pt=si(et,d,K),yt=si(Z,s,K),H=si(Ct,l,K);e.current&&(C.current=V,O.current=Pt,N.current=yt,k.current=H);var it;A?K>0?it={transition:G,strokeDasharray:kt}:it={strokeDasharray:_t}:it={strokeDasharray:kt};var dt=Dr(t),{radius:bt}=dt,Q=zC(dt,w6);return D.createElement("path",Cm({},Q,{radius:typeof f=="number"?f:void 0,className:R,d:BC(yt,H,V,Pt,f),ref:e,style:IC(IC({},it),t.style)}))})};function UC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function HC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(e),!0).forEach(function(i){C6(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):UC(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function C6(n,t,e){return(t=O6(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function O6(n){var t=M6(n,"string");return typeof t=="symbol"?t:t+""}function M6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Om=Math.PI/180,P6=n=>n*180/Math.PI,li=(n,t,e,i)=>({x:n+Math.cos(-Om*i)*e,y:t+Math.sin(-Om*i)*e}),D6=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(e-(i.top||0)-(i.bottom||0)))/2},k6=(n,t)=>{var{x:e,y:i}=n,{x:r,y:s}=t;return Math.sqrt((e-r)**2+(i-s)**2)},L6=(n,t)=>{var{x:e,y:i}=n,{cx:r,cy:s}=t,l=k6({x:e,y:i},{x:r,y:s});if(l<=0)return{radius:l,angle:0};var u=(e-r)/l,d=Math.acos(u);return i>s&&(d=2*Math.PI-d),{radius:l,angle:P6(d),angleInRadian:d}},N6=n=>{var{startAngle:t,endAngle:e}=n,i=Math.floor(t/360),r=Math.floor(e/360),s=Math.min(i,r);return{startAngle:t-s*360,endAngle:e-s*360}},j6=(n,t)=>{var{startAngle:e,endAngle:i}=t,r=Math.floor(e/360),s=Math.floor(i/360),l=Math.min(r,s);return n+l*360},R6=(n,t)=>{var{chartX:e,chartY:i}=n,{radius:r,angle:s}=L6({x:e,y:i},t),{innerRadius:l,outerRadius:u}=t;if(r<l||r>u||r===0)return null;var{startAngle:d,endAngle:f}=N6(t),p=s,v;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=d}return v?HC(HC({},t),{},{radius:r,angle:j6(p,t)}):null};function RD(n){var{cx:t,cy:e,radius:i,startAngle:r,endAngle:s}=n,l=li(t,e,i,r),u=li(t,e,i,s);return{points:[l,u],cx:t,cy:e,radius:i,startAngle:r,endAngle:s}}var $C,qC,GC,WC,VC,YC,XC;function k_(){return k_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},k_.apply(null,arguments)}function Al(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var I6=(n,t)=>{var e=$i(t-n),i=Math.min(Math.abs(t-n),359.999);return e*i},Mp=n=>{var{cx:t,cy:e,radius:i,angle:r,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=n,f=u*(l?1:-1)+i,p=Math.asin(u/f)/Om,v=d?r:r+s*p,y=li(t,e,f,v),x=li(t,e,i,v),A=d?r-s*p:r,S=li(t,e,f*Math.cos(p*Om),A);return{center:y,circleTangency:x,lineTangency:S,theta:p}},ID=n=>{var{cx:t,cy:e,innerRadius:i,outerRadius:r,startAngle:s,endAngle:l}=n,u=I6(s,l),d=s+u,f=li(t,e,r,s),p=li(t,e,r,d),v=dn($C||($C=Al(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,r,r,+(Math.abs(u)>180),+(s>d),p.x,p.y);if(i>0){var y=li(t,e,i,s),x=li(t,e,i,d);v+=dn(qC||(qC=Al(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,i,i,+(Math.abs(u)>180),+(s<=d),y.x,y.y)}else v+=dn(GC||(GC=Al(["L ",","," Z"])),t,e);return v},z6=n=>{var{cx:t,cy:e,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=n,p=$i(f-d),{circleTangency:v,lineTangency:y,theta:x}=Mp({cx:t,cy:e,radius:r,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:A,lineTangency:S,theta:C}=Mp({cx:t,cy:e,radius:r,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:u}),O=u?Math.abs(d-f):Math.abs(d-f)-x-C;if(O<0)return l?dn(WC||(WC=Al(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):ID({cx:t,cy:e,innerRadius:i,outerRadius:r,startAngle:d,endAngle:f});var N=dn(VC||(VC=Al(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),v.x,v.y,r,r,+(O>180),+(p<0),A.x,A.y,s,s,+(p<0),S.x,S.y);if(i>0){var{circleTangency:k,lineTangency:j,theta:z}=Mp({cx:t,cy:e,radius:i,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:R,lineTangency:F,theta:q}=Mp({cx:t,cy:e,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),J=u?Math.abs(d-f):Math.abs(d-f)-z-q;if(J<0&&s===0)return"".concat(N,"L").concat(t,",").concat(e,"Z");N+=dn(YC||(YC=Al(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),F.x,F.y,s,s,+(p<0),R.x,R.y,i,i,+(J>180),+(p>0),k.x,k.y,s,s,+(p<0),j.x,j.y)}else N+=dn(XC||(XC=Al(["L",",","Z"])),t,e);return N},B6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zD=n=>{var t=Ei(n,B6),{cx:e,cy:i,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p,className:v}=t;if(s<r||f===p)return null;var y=Ge("recharts-sector",v),x=s-r,A=Jr(l,x,0,!0),S;return A>0&&Math.abs(f-p)<360?S=z6({cx:e,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(A,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p}):S=ID({cx:e,cy:i,innerRadius:r,outerRadius:s,startAngle:f,endAngle:p}),D.createElement("path",k_({},Dr(t),{className:y,d:S}))};function F6(n,t,e){if(n==="horizontal")return[{x:t.x,y:e.top},{x:t.x,y:e.top+e.height}];if(n==="vertical")return[{x:e.left,y:t.y},{x:e.left+e.width,y:t.y}];if(_P(t)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:l,angle:u}=t,d=li(i,r,s,u),f=li(i,r,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return RD(t)}}var _b={},xb={},wb={},ZC;function U6(){return ZC||(ZC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=DP();function e(i){return t.isSymbol(i)?NaN:Number(i)}n.toNumber=e})(wb)),wb}var KC;function H6(){return KC||(KC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=U6();function e(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=e})(xb)),xb}var QC;function $6(){return QC||(QC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=kP(),e=H6();function i(r,s,l){l&&typeof l!="number"&&t.isIterateeCall(r,s,l)&&(s=l=void 0),r=e.toFinite(r),s===void 0?(s=r,r=0):s=e.toFinite(s),l=l===void 0?r<s?1:-1:e.toFinite(l);const u=Math.max(Math.ceil((s-r)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=r,r+=l;return d}n.range=i})(_b)),_b}var Sb,JC;function q6(){return JC||(JC=1,Sb=$6().range),Sb}var G6=q6();const BD=Ra(G6);function Ao(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function W6(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function qx(n){let t,e,i;n.length!==2?(t=Ao,e=(u,d)=>Ao(n(u),d),i=(u,d)=>n(u)-d):(t=n===Ao||n===W6?n:V6,e=n,i=n);function r(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const v=f+p>>>1;e(u[v],d)<0?f=v+1:p=v}while(f<p)}return f}function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const v=f+p>>>1;e(u[v],d)<=0?f=v+1:p=v}while(f<p)}return f}function l(u,d,f=0,p=u.length){const v=r(u,d,f,p-1);return v>f&&i(u[v-1],d)>-i(u[v],d)?v-1:v}return{left:r,center:l,right:s}}function V6(){return 0}function FD(n){return n===null?NaN:+n}function*Y6(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const X6=qx(Ao),Dd=X6.right;qx(FD).center;class tO extends Map{constructor(t,e=Q6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(eO(this,t))}has(t){return super.has(eO(this,t))}set(t,e){return super.set(Z6(this,t),e)}delete(t){return super.delete(K6(this,t))}}function eO({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function Z6({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function K6({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function Q6(n){return n!==null&&typeof n=="object"?n.valueOf():n}function J6(n=Ao){if(n===Ao)return UD;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const i=n(t,e);return i||i===0?i:(n(e,e)===0)-(n(t,t)===0)}}function UD(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const t8=Math.sqrt(50),e8=Math.sqrt(10),n8=Math.sqrt(2);function Mm(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),l=s>=t8?10:s>=e8?5:s>=n8?2:1;let u,d,f;return r<0?(f=Math.pow(10,-r)/l,u=Math.round(n*f),d=Math.round(t*f),u/f<n&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,r)*l,u=Math.round(n/f),d=Math.round(t/f),u*f<n&&++u,d*f>t&&--d),d<u&&.5<=e&&e<2?Mm(n,t,e*2):[u,d,f]}function L_(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const i=t<n,[r,s,l]=i?Mm(t,n,e):Mm(n,t,e);if(!(s>=r))return[];const u=s-r+1,d=new Array(u);if(i)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(r+f)/-l;else for(let f=0;f<u;++f)d[f]=(r+f)*l;return d}function N_(n,t,e){return t=+t,n=+n,e=+e,Mm(n,t,e)[2]}function j_(n,t,e){t=+t,n=+n,e=+e;const i=t<n,r=i?N_(t,n,e):N_(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}function nO(n,t){let e;for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);return e}function iO(n,t){let e;for(const i of n)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);return e}function HD(n,t,e=0,i=1/0,r){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),i=Math.floor(Math.min(n.length-1,i)),!(e<=t&&t<=i))return n;for(r=r===void 0?UD:J6(r);i>e;){if(i-e>600){const d=i-e+1,f=t-e+1,p=Math.log(d),v=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*v*(d-v)/d)*(f-d/2<0?-1:1),x=Math.max(e,Math.floor(t-f*v/d+y)),A=Math.min(i,Math.floor(t+(d-f)*v/d+y));HD(n,t,x,A,r)}const s=n[t];let l=e,u=i;for(zh(n,e,t),r(n[i],s)>0&&zh(n,e,i);l<u;){for(zh(n,l,u),++l,--u;r(n[l],s)<0;)++l;for(;r(n[u],s)>0;)--u}r(n[e],s)===0?zh(n,e,u):(++u,zh(n,u,i)),u<=t&&(e=u+1),t<=u&&(i=u-1)}return n}function zh(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function i8(n,t,e){if(n=Float64Array.from(Y6(n)),!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return iO(n);if(t>=1)return nO(n);var i,r=(i-1)*t,s=Math.floor(r),l=nO(HD(n,s).subarray(0,s+1)),u=iO(n.subarray(s+1));return l+(u-l)*(r-s)}}function r8(n,t,e=FD){if(!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return+e(n[0],0,n);if(t>=1)return+e(n[i-1],i-1,n);var i,r=(i-1)*t,s=Math.floor(r),l=+e(n[s],s,n),u=+e(n[s+1],s+1,n);return l+(u-l)*(r-s)}}function a8(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,s=new Array(r);++i<r;)s[i]=n+i*e;return s}function jr(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Cs(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const R_=Symbol("implicit");function Gx(){var n=new tO,t=[],e=[],i=R_;function r(s){let l=n.get(s);if(l===void 0){if(i!==R_)return i;n.set(s,l=t.push(s)-1)}return e[l%e.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],n=new tO;for(const l of s)n.has(l)||n.set(l,t.push(l)-1);return r},r.range=function(s){return arguments.length?(e=Array.from(s),r):e.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Gx(t,e).unknown(i)},jr.apply(r,arguments),r}function Wx(){var n=Gx().unknown(void 0),t=n.domain,e=n.range,i=0,r=1,s,l,u=!1,d=0,f=0,p=.5;delete n.unknown;function v(){var y=t().length,x=r<i,A=x?r:i,S=x?i:r;s=(S-A)/Math.max(1,y-d+f*2),u&&(s=Math.floor(s)),A+=(S-A-s*(y-d))*p,l=s*(1-d),u&&(A=Math.round(A),l=Math.round(l));var C=a8(y).map(function(O){return A+s*O});return e(x?C.reverse():C)}return n.domain=function(y){return arguments.length?(t(y),v()):t()},n.range=function(y){return arguments.length?([i,r]=y,i=+i,r=+r,v()):[i,r]},n.rangeRound=function(y){return[i,r]=y,i=+i,r=+r,u=!0,v()},n.bandwidth=function(){return l},n.step=function(){return s},n.round=function(y){return arguments.length?(u=!!y,v()):u},n.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),v()):d},n.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),v()):d},n.paddingOuter=function(y){return arguments.length?(f=+y,v()):f},n.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),v()):p},n.copy=function(){return Wx(t(),[i,r]).round(u).paddingInner(d).paddingOuter(f).align(p)},jr.apply(v(),arguments)}function $D(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return $D(t())},n}function s8(){return $D(Wx.apply(null,arguments).paddingInner(1))}function Vx(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function qD(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function kd(){}var fd=.7,Pm=1/fd,Jc="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o8=/^#([0-9a-f]{3,8})$/,l8=new RegExp(`^rgb\\(${Jc},${Jc},${Jc}\\)$`),c8=new RegExp(`^rgb\\(${Pa},${Pa},${Pa}\\)$`),u8=new RegExp(`^rgba\\(${Jc},${Jc},${Jc},${pd}\\)$`),h8=new RegExp(`^rgba\\(${Pa},${Pa},${Pa},${pd}\\)$`),d8=new RegExp(`^hsl\\(${pd},${Pa},${Pa}\\)$`),f8=new RegExp(`^hsla\\(${pd},${Pa},${Pa},${pd}\\)$`),rO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vx(kd,md,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:aO,formatHex:aO,formatHex8:p8,formatHsl:m8,formatRgb:sO,toString:sO});function aO(){return this.rgb().formatHex()}function p8(){return this.rgb().formatHex8()}function m8(){return GD(this).formatHsl()}function sO(){return this.rgb().formatRgb()}function md(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=o8.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?oO(t):e===3?new Gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Pp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Pp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=l8.exec(n))?new Gi(t[1],t[2],t[3],1):(t=c8.exec(n))?new Gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=u8.exec(n))?Pp(t[1],t[2],t[3],t[4]):(t=h8.exec(n))?Pp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=d8.exec(n))?uO(t[1],t[2]/100,t[3]/100,1):(t=f8.exec(n))?uO(t[1],t[2]/100,t[3]/100,t[4]):rO.hasOwnProperty(n)?oO(rO[n]):n==="transparent"?new Gi(NaN,NaN,NaN,0):null}function oO(n){return new Gi(n>>16&255,n>>8&255,n&255,1)}function Pp(n,t,e,i){return i<=0&&(n=t=e=NaN),new Gi(n,t,e,i)}function g8(n){return n instanceof kd||(n=md(n)),n?(n=n.rgb(),new Gi(n.r,n.g,n.b,n.opacity)):new Gi}function I_(n,t,e,i){return arguments.length===1?g8(n):new Gi(n,t,e,i??1)}function Gi(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}Vx(Gi,I_,qD(kd,{brighter(n){return n=n==null?Pm:Math.pow(Pm,n),new Gi(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?fd:Math.pow(fd,n),new Gi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Gi(Ll(this.r),Ll(this.g),Ll(this.b),Dm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lO,formatHex:lO,formatHex8:v8,formatRgb:cO,toString:cO}));function lO(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function v8(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function cO(){const n=Dm(this.opacity);return`${n===1?"rgb(":"rgba("}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${n===1?")":`, ${n})`}`}function Dm(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ll(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Tl(n){return n=Ll(n),(n<16?"0":"")+n.toString(16)}function uO(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Kr(n,t,e,i)}function GD(n){if(n instanceof Kr)return new Kr(n.h,n.s,n.l,n.opacity);if(n instanceof kd||(n=md(n)),!n)return new Kr;if(n instanceof Kr)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),l=NaN,u=s-r,d=(s+r)/2;return u?(t===s?l=(e-i)/u+(e<i)*6:e===s?l=(i-t)/u+2:l=(t-e)/u+4,u/=d<.5?s+r:2-s-r,l*=60):u=d>0&&d<1?0:l,new Kr(l,u,d,n.opacity)}function y8(n,t,e,i){return arguments.length===1?GD(n):new Kr(n,t,e,i??1)}function Kr(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}Vx(Kr,y8,qD(kd,{brighter(n){return n=n==null?Pm:Math.pow(Pm,n),new Kr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?fd:Math.pow(fd,n),new Kr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new Gi(Ab(n>=240?n-240:n+120,r,i),Ab(n,r,i),Ab(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Kr(hO(this.h),Dp(this.s),Dp(this.l),Dm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Dm(this.opacity);return`${n===1?"hsl(":"hsla("}${hO(this.h)}, ${Dp(this.s)*100}%, ${Dp(this.l)*100}%${n===1?")":`, ${n})`}`}}));function hO(n){return n=(n||0)%360,n<0?n+360:n}function Dp(n){return Math.max(0,Math.min(1,n||0))}function Ab(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Yx=n=>()=>n;function b8(n,t){return function(e){return n+e*t}}function _8(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function x8(n){return(n=+n)==1?WD:function(t,e){return e-t?_8(t,e,n):Yx(isNaN(t)?e:t)}}function WD(n,t){var e=t-n;return e?b8(n,e):Yx(isNaN(n)?t:n)}const dO=(function n(t){var e=x8(t);function i(r,s){var l=e((r=I_(r)).r,(s=I_(s)).r),u=e(r.g,s.g),d=e(r.b,s.b),f=WD(r.opacity,s.opacity);return function(p){return r.r=l(p),r.g=u(p),r.b=d(p),r.opacity=f(p),r+""}}return i.gamma=n,i})(1);function w8(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,i=t.slice(),r;return function(s){for(r=0;r<e;++r)i[r]=n[r]*(1-s)+t[r]*s;return i}}function S8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function A8(n,t){var e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),s=new Array(e),l;for(l=0;l<i;++l)r[l]=bu(n[l],t[l]);for(;l<e;++l)s[l]=t[l];return function(u){for(l=0;l<i;++l)s[l]=r[l](u);return s}}function T8(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function km(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function E8(n,t){var e={},i={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=bu(n[r],t[r]):i[r]=t[r];return function(s){for(r in e)i[r]=e[r](s);return i}}var z_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tb=new RegExp(z_.source,"g");function C8(n){return function(){return n}}function O8(n){return function(t){return n(t)+""}}function M8(n,t){var e=z_.lastIndex=Tb.lastIndex=0,i,r,s,l=-1,u=[],d=[];for(n=n+"",t=t+"";(i=z_.exec(n))&&(r=Tb.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),u[l]?u[l]+=s:u[++l]=s),(i=i[0])===(r=r[0])?u[l]?u[l]+=r:u[++l]=r:(u[++l]=null,d.push({i:l,x:km(i,r)})),e=Tb.lastIndex;return e<t.length&&(s=t.slice(e),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?O8(d[0].x):C8(t):(t=d.length,function(f){for(var p=0,v;p<t;++p)u[(v=d[p]).i]=v.x(f);return u.join("")})}function bu(n,t){var e=typeof t,i;return t==null||e==="boolean"?Yx(t):(e==="number"?km:e==="string"?(i=md(t))?(t=i,dO):M8:t instanceof md?dO:t instanceof Date?T8:S8(t)?w8:Array.isArray(t)?A8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?E8:km)(n,t)}function Xx(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function P8(n,t){t===void 0&&(t=n,n=bu);for(var e=0,i=t.length-1,r=t[0],s=new Array(i<0?0:i);e<i;)s[e]=n(r,r=t[++e]);return function(l){var u=Math.max(0,Math.min(i-1,Math.floor(l*=i)));return s[u](l-u)}}function D8(n){return function(){return n}}function Lm(n){return+n}var fO=[0,1];function wi(n){return n}function B_(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:D8(isNaN(t)?NaN:.5)}function k8(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}function L8(n,t,e){var i=n[0],r=n[1],s=t[0],l=t[1];return r<i?(i=B_(r,i),s=e(l,s)):(i=B_(i,r),s=e(s,l)),function(u){return s(i(u))}}function N8(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),s=new Array(i),l=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=B_(n[l],n[l+1]),s[l]=e(t[l],t[l+1]);return function(u){var d=Dd(n,u,1,i)-1;return s[d](r[d](u))}}function Ld(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Og(){var n=fO,t=fO,e=bu,i,r,s,l=wi,u,d,f;function p(){var y=Math.min(n.length,t.length);return l!==wi&&(l=k8(n[0],n[y-1])),u=y>2?N8:L8,d=f=null,v}function v(y){return y==null||isNaN(y=+y)?s:(d||(d=u(n.map(i),t,e)))(i(l(y)))}return v.invert=function(y){return l(r((f||(f=u(t,n.map(i),km)))(y)))},v.domain=function(y){return arguments.length?(n=Array.from(y,Lm),p()):n.slice()},v.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},v.rangeRound=function(y){return t=Array.from(y),e=Xx,p()},v.clamp=function(y){return arguments.length?(l=y?!0:wi,p()):l!==wi},v.interpolate=function(y){return arguments.length?(e=y,p()):e},v.unknown=function(y){return arguments.length?(s=y,v):s},function(y,x){return i=y,r=x,p()}}function Zx(){return Og()(wi,wi)}function j8(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Nm(n,t){if(!isFinite(n)||n===0)return null;var e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"),i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function cu(n){return n=Nm(Math.abs(n)),n?n[1]:NaN}function R8(n,t){return function(e,i){for(var r=e.length,s=[],l=0,u=n[0],d=0;r>0&&u>0&&(d+u+1>i&&(u=Math.max(1,i-d)),s.push(e.substring(r-=u,r+u)),!((d+=u+1)>i));)u=n[l=(l+1)%n.length];return s.reverse().join(t)}}function I8(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var z8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gd(n){if(!(t=z8.exec(n)))throw new Error("invalid format: "+n);var t;return new Kx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gd.prototype=Kx.prototype;function Kx(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Kx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function B8(n){t:for(var t=n.length,e=1,i=-1,r;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+n[e])break t;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var jm;function F8(n,t){var e=Nm(n,t);if(!e)return jm=void 0,n.toPrecision(t);var i=e[0],r=e[1],s=r-(jm=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Nm(n,Math.max(0,t+s-1))[0]}function pO(n,t){var e=Nm(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const mO={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:j8,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>pO(n*100,t),r:pO,s:F8,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function gO(n){return n}var vO=Array.prototype.map,yO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function U8(n){var t=n.grouping===void 0||n.thousands===void 0?gO:R8(vO.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?gO:I8(vO.call(n.numerals,String)),l=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"":n.minus+"",d=n.nan===void 0?"NaN":n.nan+"";function f(v,y){v=gd(v);var x=v.fill,A=v.align,S=v.sign,C=v.symbol,O=v.zero,N=v.width,k=v.comma,j=v.precision,z=v.trim,R=v.type;R==="n"?(k=!0,R="g"):mO[R]||(j===void 0&&(j=12),z=!0,R="g"),(O||x==="0"&&A==="=")&&(O=!0,x="0",A="=");var F=(y&&y.prefix!==void 0?y.prefix:"")+(C==="$"?e:C==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():""),q=(C==="$"?i:/[%p]/.test(R)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),J=mO[R],ct=/[defgprs%]/.test(R);j=j===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function et(Z){var Ct=F,_t=q,kt,G,K;if(R==="c")_t=J(Z)+_t,Z="";else{Z=+Z;var V=Z<0||1/Z<0;if(Z=isNaN(Z)?d:J(Math.abs(Z),j),z&&(Z=B8(Z)),V&&+Z==0&&S!=="+"&&(V=!1),Ct=(V?S==="("?S:u:S==="-"||S==="("?"":S)+Ct,_t=(R==="s"&&!isNaN(Z)&&jm!==void 0?yO[8+jm/3]:"")+_t+(V&&S==="("?")":""),ct){for(kt=-1,G=Z.length;++kt<G;)if(K=Z.charCodeAt(kt),48>K||K>57){_t=(K===46?r+Z.slice(kt+1):Z.slice(kt))+_t,Z=Z.slice(0,kt);break}}}k&&!O&&(Z=t(Z,1/0));var Pt=Ct.length+Z.length+_t.length,yt=Pt<N?new Array(N-Pt+1).join(x):"";switch(k&&O&&(Z=t(yt+Z,yt.length?N-_t.length:1/0),yt=""),A){case"<":Z=Ct+Z+_t+yt;break;case"=":Z=Ct+yt+Z+_t;break;case"^":Z=yt.slice(0,Pt=yt.length>>1)+Ct+Z+_t+yt.slice(Pt);break;default:Z=yt+Ct+Z+_t;break}return s(Z)}return et.toString=function(){return v+""},et}function p(v,y){var x=Math.max(-8,Math.min(8,Math.floor(cu(y)/3)))*3,A=Math.pow(10,-x),S=f((v=gd(v),v.type="f",v),{suffix:yO[8+x/3]});return function(C){return S(A*C)}}return{format:f,formatPrefix:p}}var kp,Qx,VD;H8({thousands:",",grouping:[3],currency:["$",""]});function H8(n){return kp=U8(n),Qx=kp.format,VD=kp.formatPrefix,kp}function $8(n){return Math.max(0,-cu(Math.abs(n)))}function q8(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(t)/3)))*3-cu(Math.abs(n)))}function G8(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,cu(t)-cu(n))+1}function YD(n,t,e,i){var r=j_(n,t,e),s;switch(i=gd(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(s=q8(r,l))&&(i.precision=s),VD(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=G8(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=$8(r))&&(i.precision=s-(i.type==="%")*2);break}}return Qx(i)}function Mo(n){var t=n.domain;return n.ticks=function(e){var i=t();return L_(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return YD(r[0],r[r.length-1],e??10,i)},n.nice=function(e){e==null&&(e=10);var i=t(),r=0,s=i.length-1,l=i[r],u=i[s],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=r,r=s,s=f);p-- >0;){if(f=N_(l,u,e),f===d)return i[r]=l,i[s]=u,t(i);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return n},n}function XD(){var n=Zx();return n.copy=function(){return Ld(n,XD())},jr.apply(n,arguments),Mo(n)}function ZD(n){var t;function e(i){return i==null||isNaN(i=+i)?t:i}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(n=Array.from(i,Lm),e):n.slice()},e.unknown=function(i){return arguments.length?(t=i,e):t},e.copy=function(){return ZD(n).unknown(t)},n=arguments.length?Array.from(n,Lm):[0,1],Mo(e)}function KD(n,t){n=n.slice();var e=0,i=n.length-1,r=n[e],s=n[i],l;return s<r&&(l=e,e=i,i=l,l=r,r=s,s=l),n[e]=t.floor(r),n[i]=t.ceil(s),n}function bO(n){return Math.log(n)}function _O(n){return Math.exp(n)}function W8(n){return-Math.log(-n)}function V8(n){return-Math.exp(-n)}function Y8(n){return isFinite(n)?+("1e"+n):n<0?0:n}function X8(n){return n===10?Y8:n===Math.E?Math.exp:t=>Math.pow(n,t)}function Z8(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function xO(n){return(t,e)=>-n(-t,e)}function Jx(n){const t=n(bO,_O),e=t.domain;let i=10,r,s;function l(){return r=Z8(i),s=X8(i),e()[0]<0?(r=xO(r),s=xO(s),n(W8,V8)):n(bO,_O),t}return t.base=function(u){return arguments.length?(i=+u,l()):i},t.domain=function(u){return arguments.length?(e(u),l()):e()},t.ticks=u=>{const d=e();let f=d[0],p=d[d.length-1];const v=p<f;v&&([f,p]=[p,f]);let y=r(f),x=r(p),A,S;const C=u==null?10:+u;let O=[];if(!(i%1)&&x-y<C){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(A=1;A<i;++A)if(S=y<0?A/s(-y):A*s(y),!(S<f)){if(S>p)break;O.push(S)}}else for(;y<=x;++y)for(A=i-1;A>=1;--A)if(S=y>0?A/s(-y):A*s(y),!(S<f)){if(S>p)break;O.push(S)}O.length*2<C&&(O=L_(f,p,C))}else O=L_(y,x,Math.min(x-y,C)).map(s);return v?O.reverse():O},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=i===10?"s":","),typeof d!="function"&&(!(i%1)&&(d=gd(d)).precision==null&&(d.trim=!0),d=Qx(d)),u===1/0)return d;const f=Math.max(1,i*u/t.ticks().length);return p=>{let v=p/s(Math.round(r(p)));return v*i<i-.5&&(v*=i),v<=f?d(p):""}},t.nice=()=>e(KD(e(),{floor:u=>s(Math.floor(r(u))),ceil:u=>s(Math.ceil(r(u)))})),t}function QD(){const n=Jx(Og()).domain([1,10]);return n.copy=()=>Ld(n,QD()).base(n.base()),jr.apply(n,arguments),n}function wO(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function SO(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function t1(n){var t=1,e=n(wO(t),SO(t));return e.constant=function(i){return arguments.length?n(wO(t=+i),SO(t)):t},Mo(e)}function JD(){var n=t1(Og());return n.copy=function(){return Ld(n,JD()).constant(n.constant())},jr.apply(n,arguments)}function AO(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function K8(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Q8(n){return n<0?-n*n:n*n}function e1(n){var t=n(wi,wi),e=1;function i(){return e===1?n(wi,wi):e===.5?n(K8,Q8):n(AO(e),AO(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,i()):e},Mo(t)}function n1(){var n=e1(Og());return n.copy=function(){return Ld(n,n1()).exponent(n.exponent())},jr.apply(n,arguments),n}function J8(){return n1.apply(null,arguments).exponent(.5)}function TO(n){return Math.sign(n)*n*n}function t4(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function tk(){var n=Zx(),t=[0,1],e=!1,i;function r(s){var l=t4(n(s));return isNaN(l)?i:e?Math.round(l):l}return r.invert=function(s){return n.invert(TO(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((t=Array.from(s,Lm)).map(TO)),r):t.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(e=!!s,r):e},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return tk(n.domain(),t).round(e).clamp(n.clamp()).unknown(i)},jr.apply(r,arguments),Mo(r)}function ek(){var n=[],t=[],e=[],i;function r(){var l=0,u=Math.max(1,t.length);for(e=new Array(u-1);++l<u;)e[l-1]=r8(n,l/u);return s}function s(l){return l==null||isNaN(l=+l)?i:t[Dd(e,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?e[u-1]:n[0],u<e.length?e[u]:n[n.length-1]]},s.domain=function(l){if(!arguments.length)return n.slice();n=[];for(let u of l)u!=null&&!isNaN(u=+u)&&n.push(u);return n.sort(Ao),r()},s.range=function(l){return arguments.length?(t=Array.from(l),r()):t.slice()},s.unknown=function(l){return arguments.length?(i=l,s):i},s.quantiles=function(){return e.slice()},s.copy=function(){return ek().domain(n).range(t).unknown(i)},jr.apply(s,arguments)}function nk(){var n=0,t=1,e=1,i=[.5],r=[0,1],s;function l(d){return d!=null&&d<=d?r[Dd(i,d,0,e)]:s}function u(){var d=-1;for(i=new Array(e);++d<e;)i[d]=((d+1)*t-(d-e)*n)/(e+1);return l}return l.domain=function(d){return arguments.length?([n,t]=d,n=+n,t=+t,u()):[n,t]},l.range=function(d){return arguments.length?(e=(r=Array.from(d)).length-1,u()):r.slice()},l.invertExtent=function(d){var f=r.indexOf(d);return f<0?[NaN,NaN]:f<1?[n,i[0]]:f>=e?[i[e-1],t]:[i[f-1],i[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return i.slice()},l.copy=function(){return nk().domain([n,t]).range(r).unknown(s)},jr.apply(Mo(l),arguments)}function ik(){var n=[.5],t=[0,1],e,i=1;function r(s){return s!=null&&s<=s?t[Dd(n,s,0,i)]:e}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,t.length-1),r):n.slice()},r.range=function(s){return arguments.length?(t=Array.from(s),i=Math.min(n.length,t.length-1),r):t.slice()},r.invertExtent=function(s){var l=t.indexOf(s);return[n[l-1],n[l]]},r.unknown=function(s){return arguments.length?(e=s,r):e},r.copy=function(){return ik().domain(n).range(t).unknown(e)},jr.apply(r,arguments)}const Eb=new Date,Cb=new Date;function Nn(n,t,e,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const l=r(s),u=r.ceil(s);return s-l<u-s?l:u},r.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),r.range=(s,l,u)=>{const d=[];if(s=r.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),n(s);while(f<s&&s<l);return d},r.filter=s=>Nn(l=>{if(l>=l)for(;n(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),e&&(r.count=(s,l)=>(Eb.setTime(+s),Cb.setTime(+l),n(Eb),n(Cb),Math.floor(e(Eb,Cb))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?l=>i(l)%s===0:l=>r.count(0,l)%s===0):r)),r}const Rm=Nn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Rm.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Nn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Rm);Rm.range;const ds=1e3,Pr=ds*60,fs=Pr*60,bs=fs*24,i1=bs*7,EO=bs*30,Ob=bs*365,El=Nn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*ds)},(n,t)=>(t-n)/ds,n=>n.getUTCSeconds());El.range;const r1=Nn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ds)},(n,t)=>{n.setTime(+n+t*Pr)},(n,t)=>(t-n)/Pr,n=>n.getMinutes());r1.range;const a1=Nn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Pr)},(n,t)=>(t-n)/Pr,n=>n.getUTCMinutes());a1.range;const s1=Nn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ds-n.getMinutes()*Pr)},(n,t)=>{n.setTime(+n+t*fs)},(n,t)=>(t-n)/fs,n=>n.getHours());s1.range;const o1=Nn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*fs)},(n,t)=>(t-n)/fs,n=>n.getUTCHours());o1.range;const Nd=Nn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Pr)/bs,n=>n.getDate()-1);Nd.range;const Mg=Nn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/bs,n=>n.getUTCDate()-1);Mg.range;const rk=Nn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/bs,n=>Math.floor(n/bs));rk.range;function ql(n){return Nn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pr)/i1)}const Pg=ql(0),Im=ql(1),e4=ql(2),n4=ql(3),uu=ql(4),i4=ql(5),r4=ql(6);Pg.range;Im.range;e4.range;n4.range;uu.range;i4.range;r4.range;function Gl(n){return Nn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/i1)}const Dg=Gl(0),zm=Gl(1),a4=Gl(2),s4=Gl(3),hu=Gl(4),o4=Gl(5),l4=Gl(6);Dg.range;zm.range;a4.range;s4.range;hu.range;o4.range;l4.range;const l1=Nn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());l1.range;const c1=Nn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());c1.range;const _s=Nn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());_s.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Nn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});_s.range;const xs=Nn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());xs.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Nn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});xs.range;function ak(n,t,e,i,r,s){const l=[[El,1,ds],[El,5,5*ds],[El,15,15*ds],[El,30,30*ds],[s,1,Pr],[s,5,5*Pr],[s,15,15*Pr],[s,30,30*Pr],[r,1,fs],[r,3,3*fs],[r,6,6*fs],[r,12,12*fs],[i,1,bs],[i,2,2*bs],[e,1,i1],[t,1,EO],[t,3,3*EO],[n,1,Ob]];function u(f,p,v){const y=p<f;y&&([f,p]=[p,f]);const x=v&&typeof v.range=="function"?v:d(f,p,v),A=x?x.range(f,+p+1):[];return y?A.reverse():A}function d(f,p,v){const y=Math.abs(p-f)/v,x=qx(([,,C])=>C).right(l,y);if(x===l.length)return n.every(j_(f/Ob,p/Ob,v));if(x===0)return Rm.every(Math.max(j_(f,p,v),1));const[A,S]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return A.every(S)}return[u,d]}const[c4,u4]=ak(xs,c1,Dg,rk,o1,a1),[h4,d4]=ak(_s,l1,Pg,Nd,s1,r1);function Mb(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Pb(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Bh(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function f4(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,l=n.shortDays,u=n.months,d=n.shortMonths,f=Fh(r),p=Uh(r),v=Fh(s),y=Uh(s),x=Fh(l),A=Uh(l),S=Fh(u),C=Uh(u),O=Fh(d),N=Uh(d),k={a:K,A:V,b:Pt,B:yt,c:null,d:kO,e:kO,f:R4,g:W4,G:Y4,H:L4,I:N4,j:j4,L:sk,m:I4,M:z4,p:H,q:it,Q:jO,s:RO,S:B4,u:F4,U:U4,V:H4,w:$4,W:q4,x:null,X:null,y:G4,Y:V4,Z:X4,"%":NO},j={a:dt,A:bt,b:Q,B:Tt,c:null,d:LO,e:LO,f:J4,g:cU,G:hU,H:Z4,I:K4,j:Q4,L:lk,m:tU,M:eU,p:Dt,q:Qt,Q:jO,s:RO,S:nU,u:iU,U:rU,V:aU,w:sU,W:oU,x:null,X:null,y:lU,Y:uU,Z:dU,"%":NO},z={a:ct,A:et,b:Z,B:Ct,c:_t,d:PO,e:PO,f:M4,g:MO,G:OO,H:DO,I:DO,j:T4,L:O4,m:A4,M:E4,p:J,q:S4,Q:D4,s:k4,S:C4,u:y4,U:b4,V:_4,w:v4,W:x4,x:kt,X:G,y:MO,Y:OO,Z:w4,"%":P4};k.x=R(e,k),k.X=R(i,k),k.c=R(t,k),j.x=R(e,j),j.X=R(i,j),j.c=R(t,j);function R(ht,Wt){return function(Zt){var xt=[],U=-1,Y=0,pt=ht.length,At,wt,Et;for(Zt instanceof Date||(Zt=new Date(+Zt));++U<pt;)ht.charCodeAt(U)===37&&(xt.push(ht.slice(Y,U)),(wt=CO[At=ht.charAt(++U)])!=null?At=ht.charAt(++U):wt=At==="e"?" ":"0",(Et=Wt[At])&&(At=Et(Zt,wt)),xt.push(At),Y=U+1);return xt.push(ht.slice(Y,U)),xt.join("")}}function F(ht,Wt){return function(Zt){var xt=Bh(1900,void 0,1),U=q(xt,ht,Zt+="",0),Y,pt;if(U!=Zt.length)return null;if("Q"in xt)return new Date(xt.Q);if("s"in xt)return new Date(xt.s*1e3+("L"in xt?xt.L:0));if(Wt&&!("Z"in xt)&&(xt.Z=0),"p"in xt&&(xt.H=xt.H%12+xt.p*12),xt.m===void 0&&(xt.m="q"in xt?xt.q:0),"V"in xt){if(xt.V<1||xt.V>53)return null;"w"in xt||(xt.w=1),"Z"in xt?(Y=Pb(Bh(xt.y,0,1)),pt=Y.getUTCDay(),Y=pt>4||pt===0?zm.ceil(Y):zm(Y),Y=Mg.offset(Y,(xt.V-1)*7),xt.y=Y.getUTCFullYear(),xt.m=Y.getUTCMonth(),xt.d=Y.getUTCDate()+(xt.w+6)%7):(Y=Mb(Bh(xt.y,0,1)),pt=Y.getDay(),Y=pt>4||pt===0?Im.ceil(Y):Im(Y),Y=Nd.offset(Y,(xt.V-1)*7),xt.y=Y.getFullYear(),xt.m=Y.getMonth(),xt.d=Y.getDate()+(xt.w+6)%7)}else("W"in xt||"U"in xt)&&("w"in xt||(xt.w="u"in xt?xt.u%7:"W"in xt?1:0),pt="Z"in xt?Pb(Bh(xt.y,0,1)).getUTCDay():Mb(Bh(xt.y,0,1)).getDay(),xt.m=0,xt.d="W"in xt?(xt.w+6)%7+xt.W*7-(pt+5)%7:xt.w+xt.U*7-(pt+6)%7);return"Z"in xt?(xt.H+=xt.Z/100|0,xt.M+=xt.Z%100,Pb(xt)):Mb(xt)}}function q(ht,Wt,Zt,xt){for(var U=0,Y=Wt.length,pt=Zt.length,At,wt;U<Y;){if(xt>=pt)return-1;if(At=Wt.charCodeAt(U++),At===37){if(At=Wt.charAt(U++),wt=z[At in CO?Wt.charAt(U++):At],!wt||(xt=wt(ht,Zt,xt))<0)return-1}else if(At!=Zt.charCodeAt(xt++))return-1}return xt}function J(ht,Wt,Zt){var xt=f.exec(Wt.slice(Zt));return xt?(ht.p=p.get(xt[0].toLowerCase()),Zt+xt[0].length):-1}function ct(ht,Wt,Zt){var xt=x.exec(Wt.slice(Zt));return xt?(ht.w=A.get(xt[0].toLowerCase()),Zt+xt[0].length):-1}function et(ht,Wt,Zt){var xt=v.exec(Wt.slice(Zt));return xt?(ht.w=y.get(xt[0].toLowerCase()),Zt+xt[0].length):-1}function Z(ht,Wt,Zt){var xt=O.exec(Wt.slice(Zt));return xt?(ht.m=N.get(xt[0].toLowerCase()),Zt+xt[0].length):-1}function Ct(ht,Wt,Zt){var xt=S.exec(Wt.slice(Zt));return xt?(ht.m=C.get(xt[0].toLowerCase()),Zt+xt[0].length):-1}function _t(ht,Wt,Zt){return q(ht,t,Wt,Zt)}function kt(ht,Wt,Zt){return q(ht,e,Wt,Zt)}function G(ht,Wt,Zt){return q(ht,i,Wt,Zt)}function K(ht){return l[ht.getDay()]}function V(ht){return s[ht.getDay()]}function Pt(ht){return d[ht.getMonth()]}function yt(ht){return u[ht.getMonth()]}function H(ht){return r[+(ht.getHours()>=12)]}function it(ht){return 1+~~(ht.getMonth()/3)}function dt(ht){return l[ht.getUTCDay()]}function bt(ht){return s[ht.getUTCDay()]}function Q(ht){return d[ht.getUTCMonth()]}function Tt(ht){return u[ht.getUTCMonth()]}function Dt(ht){return r[+(ht.getUTCHours()>=12)]}function Qt(ht){return 1+~~(ht.getUTCMonth()/3)}return{format:function(ht){var Wt=R(ht+="",k);return Wt.toString=function(){return ht},Wt},parse:function(ht){var Wt=F(ht+="",!1);return Wt.toString=function(){return ht},Wt},utcFormat:function(ht){var Wt=R(ht+="",j);return Wt.toString=function(){return ht},Wt},utcParse:function(ht){var Wt=F(ht+="",!0);return Wt.toString=function(){return ht},Wt}}}var CO={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,p4=/^%/,m4=/[\\^$*+?|[\]().{}]/g;function Se(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function g4(n){return n.replace(m4,"\\$&")}function Fh(n){return new RegExp("^(?:"+n.map(g4).join("|")+")","i")}function Uh(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function v4(n,t,e){var i=Yn.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function y4(n,t,e){var i=Yn.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function b4(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function _4(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function x4(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function OO(n,t,e){var i=Yn.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function MO(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function w4(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function S4(n,t,e){var i=Yn.exec(t.slice(e,e+1));return i?(n.q=i[0]*3-3,e+i[0].length):-1}function A4(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function PO(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function T4(n,t,e){var i=Yn.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function DO(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function E4(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function C4(n,t,e){var i=Yn.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function O4(n,t,e){var i=Yn.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function M4(n,t,e){var i=Yn.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function P4(n,t,e){var i=p4.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function D4(n,t,e){var i=Yn.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function k4(n,t,e){var i=Yn.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function kO(n,t){return Se(n.getDate(),t,2)}function L4(n,t){return Se(n.getHours(),t,2)}function N4(n,t){return Se(n.getHours()%12||12,t,2)}function j4(n,t){return Se(1+Nd.count(_s(n),n),t,3)}function sk(n,t){return Se(n.getMilliseconds(),t,3)}function R4(n,t){return sk(n,t)+"000"}function I4(n,t){return Se(n.getMonth()+1,t,2)}function z4(n,t){return Se(n.getMinutes(),t,2)}function B4(n,t){return Se(n.getSeconds(),t,2)}function F4(n){var t=n.getDay();return t===0?7:t}function U4(n,t){return Se(Pg.count(_s(n)-1,n),t,2)}function ok(n){var t=n.getDay();return t>=4||t===0?uu(n):uu.ceil(n)}function H4(n,t){return n=ok(n),Se(uu.count(_s(n),n)+(_s(n).getDay()===4),t,2)}function $4(n){return n.getDay()}function q4(n,t){return Se(Im.count(_s(n)-1,n),t,2)}function G4(n,t){return Se(n.getFullYear()%100,t,2)}function W4(n,t){return n=ok(n),Se(n.getFullYear()%100,t,2)}function V4(n,t){return Se(n.getFullYear()%1e4,t,4)}function Y4(n,t){var e=n.getDay();return n=e>=4||e===0?uu(n):uu.ceil(n),Se(n.getFullYear()%1e4,t,4)}function X4(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function LO(n,t){return Se(n.getUTCDate(),t,2)}function Z4(n,t){return Se(n.getUTCHours(),t,2)}function K4(n,t){return Se(n.getUTCHours()%12||12,t,2)}function Q4(n,t){return Se(1+Mg.count(xs(n),n),t,3)}function lk(n,t){return Se(n.getUTCMilliseconds(),t,3)}function J4(n,t){return lk(n,t)+"000"}function tU(n,t){return Se(n.getUTCMonth()+1,t,2)}function eU(n,t){return Se(n.getUTCMinutes(),t,2)}function nU(n,t){return Se(n.getUTCSeconds(),t,2)}function iU(n){var t=n.getUTCDay();return t===0?7:t}function rU(n,t){return Se(Dg.count(xs(n)-1,n),t,2)}function ck(n){var t=n.getUTCDay();return t>=4||t===0?hu(n):hu.ceil(n)}function aU(n,t){return n=ck(n),Se(hu.count(xs(n),n)+(xs(n).getUTCDay()===4),t,2)}function sU(n){return n.getUTCDay()}function oU(n,t){return Se(zm.count(xs(n)-1,n),t,2)}function lU(n,t){return Se(n.getUTCFullYear()%100,t,2)}function cU(n,t){return n=ck(n),Se(n.getUTCFullYear()%100,t,2)}function uU(n,t){return Se(n.getUTCFullYear()%1e4,t,4)}function hU(n,t){var e=n.getUTCDay();return n=e>=4||e===0?hu(n):hu.ceil(n),Se(n.getUTCFullYear()%1e4,t,4)}function dU(){return"+0000"}function NO(){return"%"}function jO(n){return+n}function RO(n){return Math.floor(+n/1e3)}var Bc,uk,hk;fU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fU(n){return Bc=f4(n),uk=Bc.format,Bc.parse,hk=Bc.utcFormat,Bc.utcParse,Bc}function pU(n){return new Date(n)}function mU(n){return n instanceof Date?+n:+new Date(+n)}function u1(n,t,e,i,r,s,l,u,d,f){var p=Zx(),v=p.invert,y=p.domain,x=f(".%L"),A=f(":%S"),S=f("%I:%M"),C=f("%I %p"),O=f("%a %d"),N=f("%b %d"),k=f("%B"),j=f("%Y");function z(R){return(d(R)<R?x:u(R)<R?A:l(R)<R?S:s(R)<R?C:i(R)<R?r(R)<R?O:N:e(R)<R?k:j)(R)}return p.invert=function(R){return new Date(v(R))},p.domain=function(R){return arguments.length?y(Array.from(R,mU)):y().map(pU)},p.ticks=function(R){var F=y();return n(F[0],F[F.length-1],R??10)},p.tickFormat=function(R,F){return F==null?z:f(F)},p.nice=function(R){var F=y();return(!R||typeof R.range!="function")&&(R=t(F[0],F[F.length-1],R??10)),R?y(KD(F,R)):p},p.copy=function(){return Ld(p,u1(n,t,e,i,r,s,l,u,d,f))},p}function gU(){return jr.apply(u1(h4,d4,_s,l1,Pg,Nd,s1,r1,El,uk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vU(){return jr.apply(u1(c4,u4,xs,c1,Dg,Mg,o1,a1,El,hk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kg(){var n=0,t=1,e,i,r,s,l=wi,u=!1,d;function f(v){return v==null||isNaN(v=+v)?d:l(r===0?.5:(v=(s(v)-e)*r,u?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([n,t]=v,e=s(n=+n),i=s(t=+t),r=e===i?0:1/(i-e),f):[n,t]},f.clamp=function(v){return arguments.length?(u=!!v,f):u},f.interpolator=function(v){return arguments.length?(l=v,f):l};function p(v){return function(y){var x,A;return arguments.length?([x,A]=y,l=v(x,A),f):[l(0),l(1)]}}return f.range=p(bu),f.rangeRound=p(Xx),f.unknown=function(v){return arguments.length?(d=v,f):d},function(v){return s=v,e=v(n),i=v(t),r=e===i?0:1/(i-e),f}}function Po(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function dk(){var n=Mo(kg()(wi));return n.copy=function(){return Po(n,dk())},Cs.apply(n,arguments)}function fk(){var n=Jx(kg()).domain([1,10]);return n.copy=function(){return Po(n,fk()).base(n.base())},Cs.apply(n,arguments)}function pk(){var n=t1(kg());return n.copy=function(){return Po(n,pk()).constant(n.constant())},Cs.apply(n,arguments)}function h1(){var n=e1(kg());return n.copy=function(){return Po(n,h1()).exponent(n.exponent())},Cs.apply(n,arguments)}function yU(){return h1.apply(null,arguments).exponent(.5)}function mk(){var n=[],t=wi;function e(i){if(i!=null&&!isNaN(i=+i))return t((Dd(n,i,1)-1)/(n.length-1))}return e.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Ao),e},e.interpolator=function(i){return arguments.length?(t=i,e):t},e.range=function(){return n.map((i,r)=>t(r/(n.length-1)))},e.quantiles=function(i){return Array.from({length:i+1},(r,s)=>i8(n,s/i))},e.copy=function(){return mk(t).domain(n)},Cs.apply(e,arguments)}function Lg(){var n=0,t=.5,e=1,i=1,r,s,l,u,d,f=wi,p,v=!1,y;function x(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-s)*(i*S<i*s?u:d),f(v?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([n,t,e]=S,r=p(n=+n),s=p(t=+t),l=p(e=+e),u=r===s?0:.5/(s-r),d=s===l?0:.5/(l-s),i=s<r?-1:1,x):[n,t,e]},x.clamp=function(S){return arguments.length?(v=!!S,x):v},x.interpolator=function(S){return arguments.length?(f=S,x):f};function A(S){return function(C){var O,N,k;return arguments.length?([O,N,k]=C,f=P8(S,[O,N,k]),x):[f(0),f(.5),f(1)]}}return x.range=A(bu),x.rangeRound=A(Xx),x.unknown=function(S){return arguments.length?(y=S,x):y},function(S){return p=S,r=S(n),s=S(t),l=S(e),u=r===s?0:.5/(s-r),d=s===l?0:.5/(l-s),i=s<r?-1:1,x}}function gk(){var n=Mo(Lg()(wi));return n.copy=function(){return Po(n,gk())},Cs.apply(n,arguments)}function vk(){var n=Jx(Lg()).domain([.1,1,10]);return n.copy=function(){return Po(n,vk()).base(n.base())},Cs.apply(n,arguments)}function yk(){var n=t1(Lg());return n.copy=function(){return Po(n,yk()).constant(n.constant())},Cs.apply(n,arguments)}function d1(){var n=e1(Lg());return n.copy=function(){return Po(n,d1()).exponent(n.exponent())},Cs.apply(n,arguments)}function bU(){return d1.apply(null,arguments).exponent(.5)}const Zh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wx,scaleDiverging:gk,scaleDivergingLog:vk,scaleDivergingPow:d1,scaleDivergingSqrt:bU,scaleDivergingSymlog:yk,scaleIdentity:ZD,scaleImplicit:R_,scaleLinear:XD,scaleLog:QD,scaleOrdinal:Gx,scalePoint:s8,scalePow:n1,scaleQuantile:ek,scaleQuantize:nk,scaleRadial:tk,scaleSequential:dk,scaleSequentialLog:fk,scaleSequentialPow:h1,scaleSequentialQuantile:mk,scaleSequentialSqrt:yU,scaleSequentialSymlog:pk,scaleSqrt:J8,scaleSymlog:JD,scaleThreshold:ik,scaleTime:gU,scaleUtc:vU,tickFormat:YD},Symbol.toStringTag,{value:"Module"}));var Os=n=>n.chartData,bk=lt([Os],n=>{var t=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:t,dataStartIndex:0}}),_k=(n,t,e,i)=>i?bk(n):Os(n),_U=(n,t,e)=>e?bk(n):Os(n);function ws(n){if(Array.isArray(n)&&n.length===2){var[t,e]=n;if(ye(t)&&ye(e))return!0}return!1}function IO(n,t,e){return e?n:[Math.min(n[0],t[0]),Math.max(n[1],t[1])]}function xk(n,t){if(t&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[e,i]=n,r,s;if(ye(e))r=e;else if(typeof e=="function")return;if(ye(i))s=i;else if(typeof i=="function")return;var l=[r,s];if(ws(l))return l}}function xU(n,t,e){if(!(!e&&t==null)){if(typeof n=="function"&&t!=null)try{var i=n(t,e);if(ws(i))return IO(i,t,e)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,l,u;if(r==="auto")t!=null&&(l=Math.min(...t));else if(Bt(r))l=r;else if(typeof r=="function")try{t!=null&&(l=r(t?.[0]))}catch{}else if(typeof r=="string"&&VE.test(r)){var d=VE.exec(r);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Bt(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&YE.test(s)){var p=YE.exec(s);if(p==null||p[1]==null||t==null)u=void 0;else{var v=+p[1];u=t[1]+v}}else u=t?.[1];var y=[l,u];if(ws(y))return t==null?y:IO(y,t,e)}}}var _u=1e9,wU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p1,en=!0,Lr="[DecimalError] ",Nl=Lr+"Invalid argument: ",f1=Lr+"Exponent out of range: ",xu=Math.floor,wl=Math.pow,SU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,qn=1e7,Ye=7,wk=9007199254740991,Bm=xu(wk/Ye),jt={};jt.absoluteValue=jt.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};jt.comparedTo=jt.cmp=function(n){var t,e,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,t=0,e=i<r?i:r;t<e;++t)if(s.d[t]!==n.d[t])return s.d[t]>n.d[t]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var n=this,t=n.d.length-1,e=(t-n.e)*Ye;if(t=n.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};jt.dividedBy=jt.div=function(n){return ps(this,new this.constructor(n))};jt.dividedToIntegerBy=jt.idiv=function(n){var t=this,e=t.constructor;return He(ps(t,new e(n),0,1),e.precision)};jt.equals=jt.eq=function(n){return!this.cmp(n)};jt.exponent=function(){return Tn(this)};jt.greaterThan=jt.gt=function(n){return this.cmp(n)>0};jt.greaterThanOrEqualTo=jt.gte=function(n){return this.cmp(n)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(n){return this.cmp(n)<0};jt.lessThanOrEqualTo=jt.lte=function(n){return this.cmp(n)<1};jt.logarithm=jt.log=function(n){var t,e=this,i=e.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(lr))throw Error(Lr+"NaN");if(e.s<1)throw Error(Lr+(e.s?"NaN":"-Infinity"));return e.eq(lr)?new i(0):(en=!1,t=ps(vd(e,s),vd(n,s),s),en=!0,He(t,r))};jt.minus=jt.sub=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?Tk(t,n):Sk(t,(n.s=-n.s,n))};jt.modulo=jt.mod=function(n){var t,e=this,i=e.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(Lr+"NaN");return e.s?(en=!1,t=ps(e,n,0,1).times(n),en=!0,e.minus(t)):He(new i(e),r)};jt.naturalExponential=jt.exp=function(){return Ak(this)};jt.naturalLogarithm=jt.ln=function(){return vd(this)};jt.negated=jt.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};jt.plus=jt.add=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?Sk(t,n):Tk(t,(n.s=-n.s,n))};jt.precision=jt.sd=function(n){var t,e,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Nl+n);if(t=Tn(r)+1,i=r.d.length-1,e=i*Ye+1,i=r.d[i],i){for(;i%10==0;i/=10)e--;for(i=r.d[0];i>=10;i/=10)e++}return n&&t>e?t:e};jt.squareRoot=jt.sqrt=function(){var n,t,e,i,r,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Lr+"NaN")}for(n=Tn(u),en=!1,r=Math.sqrt(+u),r==0||r==1/0?(t=Ma(u.d),(t.length+n)%2==0&&(t+="0"),r=Math.sqrt(t),n=xu((n+1)/2)-(n<0||n%2),r==1/0?t="5e"+n:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),i=new d(t)):i=new d(r.toString()),e=d.precision,r=l=e+3;;)if(s=i,i=s.plus(ps(u,s,l+2)).times(.5),Ma(s.d).slice(0,l)===(t=Ma(i.d)).slice(0,l)){if(t=t.slice(l-3,l+1),r==l&&t=="4999"){if(He(s,e+1,0),s.times(s).eq(u)){i=s;break}}else if(t!="9999")break;l+=4}return en=!0,He(i,e)};jt.times=jt.mul=function(n){var t,e,i,r,s,l,u,d,f,p=this,v=p.constructor,y=p.d,x=(n=new v(n)).d;if(!p.s||!n.s)return new v(0);for(n.s*=p.s,e=p.e+n.e,d=y.length,f=x.length,d<f&&(s=y,y=x,x=s,l=d,d=f,f=l),s=[],l=d+f,i=l;i--;)s.push(0);for(i=f;--i>=0;){for(t=0,r=d+i;r>i;)u=s[r]+x[i]*y[r-i-1]+t,s[r--]=u%qn|0,t=u/qn|0;s[r]=(s[r]+t)%qn|0}for(;!s[--l];)s.pop();return t?++e:s.shift(),n.d=s,n.e=e,en?He(n,v.precision):n};jt.toDecimalPlaces=jt.todp=function(n,t){var e=this,i=e.constructor;return e=new i(e),n===void 0?e:(Na(n,0,_u),t===void 0?t=i.rounding:Na(t,0,8),He(e,n+Tn(e)+1,t))};jt.toExponential=function(n,t){var e,i=this,r=i.constructor;return n===void 0?e=Fl(i,!0):(Na(n,0,_u),t===void 0?t=r.rounding:Na(t,0,8),i=He(new r(i),n+1,t),e=Fl(i,!0,n+1)),e};jt.toFixed=function(n,t){var e,i,r=this,s=r.constructor;return n===void 0?Fl(r):(Na(n,0,_u),t===void 0?t=s.rounding:Na(t,0,8),i=He(new s(r),n+Tn(r)+1,t),e=Fl(i.abs(),!1,n+Tn(i)+1),r.isneg()&&!r.isZero()?"-"+e:e)};jt.toInteger=jt.toint=function(){var n=this,t=n.constructor;return He(new t(n),Tn(n)+1,t.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(n){var t,e,i,r,s,l,u=this,d=u.constructor,f=12,p=+(n=new d(n));if(!n.s)return new d(lr);if(u=new d(u),!u.s){if(n.s<1)throw Error(Lr+"Infinity");return u}if(u.eq(lr))return u;if(i=d.precision,n.eq(lr))return He(u,i);if(t=n.e,e=n.d.length-1,l=t>=e,s=u.s,l){if((e=p<0?-p:p)<=wk){for(r=new d(lr),t=Math.ceil(i/Ye+4),en=!1;e%2&&(r=r.times(u),BO(r.d,t)),e=xu(e/2),e!==0;)u=u.times(u),BO(u.d,t);return en=!0,n.s<0?new d(lr).div(r):He(r,i)}}else if(s<0)throw Error(Lr+"NaN");return s=s<0&&n.d[Math.max(t,e)]&1?-1:1,u.s=1,en=!1,r=n.times(vd(u,i+f)),en=!0,r=Ak(r),r.s=s,r};jt.toPrecision=function(n,t){var e,i,r=this,s=r.constructor;return n===void 0?(e=Tn(r),i=Fl(r,e<=s.toExpNeg||e>=s.toExpPos)):(Na(n,1,_u),t===void 0?t=s.rounding:Na(t,0,8),r=He(new s(r),n,t),e=Tn(r),i=Fl(r,n<=e||e<=s.toExpNeg,n)),i};jt.toSignificantDigits=jt.tosd=function(n,t){var e=this,i=e.constructor;return n===void 0?(n=i.precision,t=i.rounding):(Na(n,1,_u),t===void 0?t=i.rounding:Na(t,0,8)),He(new i(e),n,t)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,t=Tn(n),e=n.constructor;return Fl(n,t<=e.toExpNeg||t>=e.toExpPos)};function Sk(n,t){var e,i,r,s,l,u,d,f,p=n.constructor,v=p.precision;if(!n.s||!t.s)return t.s||(t=new p(n)),en?He(t,v):t;if(d=n.d,f=t.d,l=n.e,r=t.e,d=d.slice(),s=l-r,s){for(s<0?(i=d,s=-s,u=f.length):(i=f,r=l,u=d.length),l=Math.ceil(v/Ye),u=l>u?l+1:u+1,s>u&&(s=u,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,i=f,f=d,d=i),e=0;s;)e=(d[--s]=d[s]+f[s]+e)/qn|0,d[s]%=qn;for(e&&(d.unshift(e),++r),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=r,en?He(t,v):t}function Na(n,t,e){if(n!==~~n||n<t||n>e)throw Error(Nl+n)}function Ma(n){var t,e,i,r=n.length-1,s="",l=n[0];if(r>0){for(s+=l,t=1;t<r;t++)i=n[t]+"",e=Ye-i.length,e&&(s+=yo(e)),s+=i;l=n[t],i=l+"",e=Ye-i.length,e&&(s+=yo(e))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ps=(function(){function n(i,r){var s,l=0,u=i.length;for(i=i.slice();u--;)s=i[u]*r+l,i[u]=s%qn|0,l=s/qn|0;return l&&i.unshift(l),i}function t(i,r,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(i[u]!=r[u]){d=i[u]>r[u]?1:-1;break}return d}function e(i,r,s){for(var l=0;s--;)i[s]-=l,l=i[s]<r[s]?1:0,i[s]=l*qn+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,l){var u,d,f,p,v,y,x,A,S,C,O,N,k,j,z,R,F,q,J=i.constructor,ct=i.s==r.s?1:-1,et=i.d,Z=r.d;if(!i.s)return new J(i);if(!r.s)throw Error(Lr+"Division by zero");for(d=i.e-r.e,F=Z.length,z=et.length,x=new J(ct),A=x.d=[],f=0;Z[f]==(et[f]||0);)++f;if(Z[f]>(et[f]||0)&&--d,s==null?N=s=J.precision:l?N=s+(Tn(i)-Tn(r))+1:N=s,N<0)return new J(0);if(N=N/Ye+2|0,f=0,F==1)for(p=0,Z=Z[0],N++;(f<z||p)&&N--;f++)k=p*qn+(et[f]||0),A[f]=k/Z|0,p=k%Z|0;else{for(p=qn/(Z[0]+1)|0,p>1&&(Z=n(Z,p),et=n(et,p),F=Z.length,z=et.length),j=F,S=et.slice(0,F),C=S.length;C<F;)S[C++]=0;q=Z.slice(),q.unshift(0),R=Z[0],Z[1]>=qn/2&&++R;do p=0,u=t(Z,S,F,C),u<0?(O=S[0],F!=C&&(O=O*qn+(S[1]||0)),p=O/R|0,p>1?(p>=qn&&(p=qn-1),v=n(Z,p),y=v.length,C=S.length,u=t(v,S,y,C),u==1&&(p--,e(v,F<y?q:Z,y))):(p==0&&(u=p=1),v=Z.slice()),y=v.length,y<C&&v.unshift(0),e(S,v,C),u==-1&&(C=S.length,u=t(Z,S,F,C),u<1&&(p++,e(S,F<C?q:Z,C))),C=S.length):u===0&&(p++,S=[0]),A[f++]=p,u&&S[0]?S[C++]=et[j]||0:(S=[et[j]],C=1);while((j++<z||S[0]!==void 0)&&N--)}return A[0]||A.shift(),x.e=d,He(x,l?s+Tn(x)+1:s)}})();function Ak(n,t){var e,i,r,s,l,u,d=0,f=0,p=n.constructor,v=p.precision;if(Tn(n)>16)throw Error(f1+Tn(n));if(!n.s)return new p(lr);for(en=!1,u=v,l=new p(.03125);n.abs().gte(.1);)n=n.times(l),f+=5;for(i=Math.log(wl(2,f))/Math.LN10*2+5|0,u+=i,e=r=s=new p(lr),p.precision=u;;){if(r=He(r.times(n),u),e=e.times(++d),l=s.plus(ps(r,e,u)),Ma(l.d).slice(0,u)===Ma(s.d).slice(0,u)){for(;f--;)s=He(s.times(s),u);return p.precision=v,t==null?(en=!0,He(s,v)):s}s=l}}function Tn(n){for(var t=n.e*Ye,e=n.d[0];e>=10;e/=10)t++;return t}function Db(n,t,e){if(t>n.LN10.sd())throw en=!0,e&&(n.precision=e),Error(Lr+"LN10 precision limit exceeded");return He(new n(n.LN10),t)}function yo(n){for(var t="";n--;)t+="0";return t}function vd(n,t){var e,i,r,s,l,u,d,f,p,v=1,y=10,x=n,A=x.d,S=x.constructor,C=S.precision;if(x.s<1)throw Error(Lr+(x.s?"NaN":"-Infinity"));if(x.eq(lr))return new S(0);if(t==null?(en=!1,f=C):f=t,x.eq(10))return t==null&&(en=!0),Db(S,f);if(f+=y,S.precision=f,e=Ma(A),i=e.charAt(0),s=Tn(x),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&e.charAt(1)>3;)x=x.times(n),e=Ma(x.d),i=e.charAt(0),v++;s=Tn(x),i>1?(x=new S("0."+e),s++):x=new S(i+"."+e.slice(1))}else return d=Db(S,f+2,C).times(s+""),x=vd(new S(i+"."+e.slice(1)),f-y).plus(d),S.precision=C,t==null?(en=!0,He(x,C)):x;for(u=l=x=ps(x.minus(lr),x.plus(lr),f),p=He(x.times(x),f),r=3;;){if(l=He(l.times(p),f),d=u.plus(ps(l,new S(r),f)),Ma(d.d).slice(0,f)===Ma(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(Db(S,f+2,C).times(s+""))),u=ps(u,new S(v),f),S.precision=C,t==null?(en=!0,He(u,C)):u;u=d,r+=2}}function zO(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;t.charCodeAt(i)===48;)++i;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(i,r),t){if(r-=i,e=e-i-1,n.e=xu(e/Ye),n.d=[],i=(e+1)%Ye,e<0&&(i+=Ye),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=Ye;i<r;)n.d.push(+t.slice(i,i+=Ye));t=t.slice(i),i=Ye-t.length}else i-=r;for(;i--;)t+="0";if(n.d.push(+t),en&&(n.e>Bm||n.e<-Bm))throw Error(f1+e)}else n.s=0,n.e=0,n.d=[0];return n}function He(n,t,e){var i,r,s,l,u,d,f,p,v=n.d;for(l=1,s=v[0];s>=10;s/=10)l++;if(i=t-l,i<0)i+=Ye,r=t,f=v[p=0];else{if(p=Math.ceil((i+1)/Ye),s=v.length,p>=s)return n;for(f=s=v[p],l=1;s>=10;s/=10)l++;i%=Ye,r=i-Ye+l}if(e!==void 0&&(s=wl(10,l-r-1),u=f/s%10|0,d=t<0||v[p+1]!==void 0||f%s,d=e<4?(u||d)&&(e==0||e==(n.s<0?3:2)):u>5||u==5&&(e==4||d||e==6&&(i>0?r>0?f/wl(10,l-r):0:v[p-1])%10&1||e==(n.s<0?8:7))),t<1||!v[0])return d?(s=Tn(n),v.length=1,t=t-s-1,v[0]=wl(10,(Ye-t%Ye)%Ye),n.e=xu(-t/Ye)||0):(v.length=1,v[0]=n.e=n.s=0),n;if(i==0?(v.length=p,s=1,p--):(v.length=p+1,s=wl(10,Ye-i),v[p]=r>0?(f/wl(10,l-r)%wl(10,r)|0)*s:0),d)for(;;)if(p==0){(v[0]+=s)==qn&&(v[0]=1,++n.e);break}else{if(v[p]+=s,v[p]!=qn)break;v[p--]=0,s=1}for(i=v.length;v[--i]===0;)v.pop();if(en&&(n.e>Bm||n.e<-Bm))throw Error(f1+Tn(n));return n}function Tk(n,t){var e,i,r,s,l,u,d,f,p,v,y=n.constructor,x=y.precision;if(!n.s||!t.s)return t.s?t.s=-t.s:t=new y(n),en?He(t,x):t;if(d=n.d,v=t.d,i=t.e,f=n.e,d=d.slice(),l=f-i,l){for(p=l<0,p?(e=d,l=-l,u=v.length):(e=v,i=f,u=d.length),r=Math.max(Math.ceil(x/Ye),u)+2,l>r&&(l=r,e.length=1),e.reverse(),r=l;r--;)e.push(0);e.reverse()}else{for(r=d.length,u=v.length,p=r<u,p&&(u=r),r=0;r<u;r++)if(d[r]!=v[r]){p=d[r]<v[r];break}l=0}for(p&&(e=d,d=v,v=e,t.s=-t.s),u=d.length,r=v.length-u;r>0;--r)d[u++]=0;for(r=v.length;r>l;){if(d[--r]<v[r]){for(s=r;s&&d[--s]===0;)d[s]=qn-1;--d[s],d[r]+=qn}d[r]-=v[r]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--i;return d[0]?(t.d=d,t.e=i,en?He(t,x):t):new y(0)}function Fl(n,t,e){var i,r=Tn(n),s=Ma(n.d),l=s.length;return t?(e&&(i=e-l)>0?s=s.charAt(0)+"."+s.slice(1)+yo(i):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+yo(-r-1)+s,e&&(i=e-l)>0&&(s+=yo(i))):r>=l?(s+=yo(r+1-l),e&&(i=e-r-1)>0&&(s=s+"."+yo(i))):((i=r+1)<l&&(s=s.slice(0,i)+"."+s.slice(i)),e&&(i=e-l)>0&&(r+1===l&&(s+="."),s+=yo(i))),n.s<0?"-"+s:s}function BO(n,t){if(n.length>t)return n.length=t,!0}function Ek(n){var t,e,i;function r(s){var l=this;if(!(l instanceof r))return new r(s);if(l.constructor=r,s instanceof r){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Nl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return zO(l,s.toString())}else if(typeof s!="string")throw Error(Nl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,SU.test(s))zO(l,s);else throw Error(Nl+s)}if(r.prototype=jt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=Ek,r.config=r.set=AU,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}function AU(n){if(!n||typeof n!="object")throw Error(Lr+"Object expected");var t,e,i,r=["precision",1,_u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((i=n[e=r[t]])!==void 0)if(xu(i)===i&&i>=r[t+1]&&i<=r[t+2])this[e]=i;else throw Error(Nl+e+": "+i);if((i=n[e="LN10"])!==void 0)if(i==Math.LN10)this[e]=new this(i);else throw Error(Nl+e+": "+i);return this}var p1=Ek(wU);lr=new p1(1);const Le=p1;function Ck(n){var t;return n===0?t=1:t=Math.floor(new Le(n).abs().log(10).toNumber())+1,t}function Ok(n,t,e){for(var i=new Le(n),r=0,s=[];i.lt(t)&&r<1e5;)s.push(i.toNumber()),i=i.add(e),r++;return s}var Mk=n=>{var[t,e]=n,[i,r]=[t,e];return t>e&&([i,r]=[e,t]),[i,r]},Pk=(n,t,e)=>{if(n.lte(0))return new Le(0);var i=Ck(n.toNumber()),r=new Le(10).pow(i),s=n.div(r),l=i!==1?.05:.1,u=new Le(Math.ceil(s.div(l).toNumber())).add(e).mul(l),d=u.mul(r);return t?new Le(d.toNumber()):new Le(Math.ceil(d.toNumber()))},TU=(n,t,e)=>{var i=new Le(1),r=new Le(n);if(!r.isint()&&e){var s=Math.abs(n);s<1?(i=new Le(10).pow(Ck(n)-1),r=new Le(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new Le(Math.floor(n)))}else n===0?r=new Le(Math.floor((t-1)/2)):e||(r=new Le(Math.floor(n)));for(var l=Math.floor((t-1)/2),u=[],d=0;d<t;d++)u.push(r.add(new Le(d-l).mul(i)).toNumber());return u},Dk=function(t,e,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(i-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var l=Pk(new Le(e).sub(t).div(i-1),r,s),u;t<=0&&e>=0?u=new Le(0):(u=new Le(t).add(e).div(2),u=u.sub(new Le(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Le(e).sub(u).div(l).toNumber()),p=d+f+1;return p>i?Dk(t,e,i,r,s+1):(p<i&&(f=e>0?f+(i-p):f,d=e>0?d:d+(i-p)),{step:l,tickMin:u.sub(new Le(d).mul(l)),tickMax:u.add(new Le(f).mul(l))})},EU=function(t){var[e,i]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[u,d]=Mk([e,i]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),d];return e>i?f.reverse():f}if(u===d)return TU(u,r,s);var{step:p,tickMin:v,tickMax:y}=Dk(u,d,l,s,0),x=Ok(v,y.add(new Le(.1).mul(p)),p);return e>i?x.reverse():x},CU=function(t,e){var[i,r]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=Mk([i,r]);if(l===-1/0||u===1/0)return[i,r];if(l===u)return[l];var d=Math.max(e,2),f=Pk(new Le(u).sub(l).div(d-1),s,0),p=[...Ok(new Le(l),new Le(u),f),u];return s===!1&&(p=p.map(v=>Math.round(v))),i>r?p.reverse():p},kk=n=>n.rootProps.maxBarSize,OU=n=>n.rootProps.barGap,Lk=n=>n.rootProps.barCategoryGap,MU=n=>n.rootProps.barSize,Ng=n=>n.rootProps.stackOffset,Nk=n=>n.rootProps.reverseStackOrder,m1=n=>n.options.chartName,g1=n=>n.rootProps.syncId,jk=n=>n.rootProps.syncMethod,v1=n=>n.options.eventEmitter,Si={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},wa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},jg=(n,t)=>{if(!(!n||!t))return n!=null&&n.reversed?[t[1],t[0]]:t};function Rg(n,t,e){if(e!=="auto")return e;if(n!=null)return Oo(n,t)?"category":"number"}function FO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Fm(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(e),!0).forEach(function(i){PU(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):FO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function PU(n,t,e){return(t=DU(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function DU(n){var t=kU(n,"string");return typeof t=="symbol"?t:t+""}function kU(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var UO={allowDataOverflow:vl.allowDataOverflow,allowDecimals:vl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vl.angleAxisId,includeHidden:!1,name:void 0,reversed:vl.reversed,scale:vl.scale,tick:vl.tick,tickCount:void 0,ticks:void 0,type:vl.type,unit:void 0},HO={allowDataOverflow:wa.allowDataOverflow,allowDecimals:wa.allowDecimals,allowDuplicatedCategory:wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wa.radiusAxisId,includeHidden:wa.includeHidden,name:void 0,reversed:wa.reversed,scale:wa.scale,tick:wa.tick,tickCount:wa.tickCount,ticks:void 0,type:wa.type,unit:void 0},LU=(n,t)=>{if(t!=null)return n.polarAxis.angleAxis[t]},y1=lt([LU,_D],(n,t)=>{var e;if(n!=null)return n;var i=(e=Rg(t,"angleAxis",UO.type))!==null&&e!==void 0?e:"category";return Fm(Fm({},UO),{},{type:i})}),NU=(n,t)=>n.polarAxis.radiusAxis[t],b1=lt([NU,_D],(n,t)=>{var e;if(n!=null)return n;var i=(e=Rg(t,"radiusAxis",HO.type))!==null&&e!==void 0?e:"category";return Fm(Fm({},HO),{},{type:i})}),Ig=n=>n.polarOptions,_1=lt([Ts,Es,Vn],D6),Rk=lt([Ig,_1],(n,t)=>{if(n!=null)return Jr(n.innerRadius,t,0)}),Ik=lt([Ig,_1],(n,t)=>{if(n!=null)return Jr(n.outerRadius,t,t*.8)}),jU=n=>{if(n==null)return[0,0];var{startAngle:t,endAngle:e}=n;return[t,e]},zk=lt([Ig],jU);lt([y1,zk],jg);var Bk=lt([_1,Rk,Ik],(n,t,e)=>{if(!(n==null||t==null||e==null))return[t,e]});lt([b1,Bk],jg);var Fk=lt([$e,Ig,Rk,Ik,Ts,Es],(n,t,e,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||t==null||e==null||i==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Jr(l,r,r/2),cy:Jr(u,s,s/2),innerRadius:e,outerRadius:i,startAngle:d,endAngle:f,clockWise:!1}}}),Xn=(n,t)=>t,zg=(n,t,e)=>e;function x1(n){return n?.id}function Uk(n,t,e){var{chartData:i=[]}=t,{allowDuplicatedCategory:r,dataKey:s}=e,l=new Map;return n.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:i;if(!(f==null||f.length===0)){var p=x1(u);f.forEach((v,y)=>{var x=s==null||r?y:String(ci(v,s,null)),A=ci(v,u.dataKey,0),S;l.has(x)?S=l.get(x):S={},Object.assign(S,{[p]:A}),l.set(x,S)})}}),Array.from(l.values())}function Bg(n){return"stackId"in n&&n.stackId!=null&&n.dataKey!=null}var Fg=(n,t)=>n===t?!0:n==null||t==null?!1:n[0]===t[0]&&n[1]===t[1];function Ug(n,t){return Array.isArray(n)&&Array.isArray(t)&&n.length===0&&t.length===0?!0:n===t}function RU(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return!1}var Zn=n=>{var t=$e(n);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},wu=n=>n.tooltip.settings.axisId;function IU(n){if(n in Zh)return Zh[n]();var t="scale".concat(Td(n));if(t in Zh)return Zh[t]()}function $O(n){var t=n.ticks,e=n.bandwidth,i=n.range(),r=[Math.min(...i),Math.max(...i)];return{domain:()=>n.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(s){var l=r[0],u=r[1];return l<=u?s>=l&&s<=u:s>=u&&s<=l},bandwidth:e?()=>e.call(n):void 0,ticks:t?s=>t.call(n,s):void 0,map:(s,l)=>{var u=n(s);if(u!=null){if(n.bandwidth&&l!==null&&l!==void 0&&l.position){var d=n.bandwidth();switch(l.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function qO(n,t,e){if(typeof n=="function")return $O(n.copy().domain(t).range(e));if(n!=null){var i=IU(n);if(i!=null)return i.domain(t).range(e),$O(i)}}var zU=(n,t)=>{if(t!=null)switch(n){case"linear":{if(!ws(t)){for(var e,i,r=0;r<t.length;r++){var s=t[r];ye(s)&&((e===void 0||s<e)&&(e=s),(i===void 0||s>i)&&(i=s))}return e!==void 0&&i!==void 0?[e,i]:void 0}return t}default:return t}};function GO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Um(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(e),!0).forEach(function(i){BU(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):GO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function BU(n,t,e){return(t=FU(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function FU(n){var t=UU(n,"string");return typeof t=="symbol"?t:t+""}function UU(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var F_=[0,"auto"],Fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Hk=(n,t)=>n.cartesianAxis.xAxis[t],Ms=(n,t)=>{var e=Hk(n,t);return e??Fn},Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:F_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Od},$k=(n,t)=>n.cartesianAxis.yAxis[t],Ps=(n,t)=>{var e=$k(n,t);return e??Un},HU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},w1=(n,t)=>{var e=n.cartesianAxis.zAxis[t];return e??HU},Ci=(n,t,e)=>{switch(t){case"xAxis":return Ms(n,e);case"yAxis":return Ps(n,e);case"zAxis":return w1(n,e);case"angleAxis":return y1(n,e);case"radiusAxis":return b1(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},$U=(n,t,e)=>{switch(t){case"xAxis":return Ms(n,e);case"yAxis":return Ps(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},jd=(n,t,e)=>{switch(t){case"xAxis":return Ms(n,e);case"yAxis":return Ps(n,e);case"angleAxis":return y1(n,e);case"radiusAxis":return b1(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},qk=n=>n.graphicalItems.cartesianItems.some(t=>t.type==="bar")||n.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Gk(n,t){return e=>{switch(n){case"xAxis":return"xAxisId"in e&&e.xAxisId===t;case"yAxis":return"yAxisId"in e&&e.yAxisId===t;case"zAxis":return"zAxisId"in e&&e.zAxisId===t;case"angleAxis":return"angleAxisId"in e&&e.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in e&&e.radiusAxisId===t;default:return!1}}}var S1=n=>n.graphicalItems.cartesianItems,qU=lt([Xn,zg],Gk),Wk=(n,t,e)=>n.filter(e).filter(i=>t?.includeHidden===!0?!0:!i.hide),Rd=lt([S1,Ci,qU],Wk,{memoizeOptions:{resultEqualityCheck:Ug}}),Vk=lt([Rd],n=>n.filter(t=>t.type==="area"||t.type==="bar").filter(Bg)),Yk=n=>n.filter(t=>!("stackId"in t)||t.stackId===void 0),GU=lt([Rd],Yk),Xk=n=>n.map(t=>t.data).filter(Boolean).flat(1),WU=lt([Rd],Xk,{memoizeOptions:{resultEqualityCheck:Ug}}),Zk=(n,t)=>{var{chartData:e=[],dataStartIndex:i,dataEndIndex:r}=t;return n.length>0?n:e.slice(i,r+1)},A1=lt([WU,_k],Zk),Kk=(n,t,e)=>t?.dataKey!=null?n.map(i=>({value:ci(i,t.dataKey)})):e.length>0?e.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:ci(r,i)}))):n.map(i=>({value:i})),Hg=lt([A1,Ci,Rd],Kk);function Qk(n,t){switch(n){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Kp(n){if(ka(n)||n instanceof Date){var t=Number(n);if(ye(t))return t}}function WO(n){if(Array.isArray(n)){var t=[Kp(n[0]),Kp(n[1])];return ws(t)?t:void 0}var e=Kp(n);if(e!=null)return[e,e]}function Ss(n){return n.map(Kp).filter(qi)}function VU(n,t,e){return!e||typeof t!="number"||Da(t)?[]:e.length?Ss(e.flatMap(i=>{var r=ci(n,i.dataKey),s,l;if(Array.isArray(r)?[s,l]=r:s=l=r,!(!ye(s)||!ye(l)))return[t-s,t+l]})):[]}var jn=n=>{var t=Zn(n),e=wu(n);return jd(n,t,e)},Id=lt([jn],n=>n?.dataKey),YU=lt([Vk,_k,jn],Uk),Jk=(n,t,e,i)=>{var r={},s=t.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},r);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,f=i?[...d].reverse():d,p=f.map(x1);return[u,{stackedData:s5(n,p,e),graphicalItems:f}]}))},U_=lt([YU,Vk,Ng,Nk],Jk),tL=(n,t,e,i)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(i==null&&e!=="zAxis"){var l=h5(n,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},XU=lt([Ci],n=>n.allowDataOverflow),T1=n=>{var t;if(n==null||!("domain"in n))return F_;if(n.domain!=null)return n.domain;if("ticks"in n&&n.ticks!=null){if(n.type==="number"){var e=Ss(n.ticks);return[Math.min(...e),Math.max(...e)]}if(n.type==="category")return n.ticks.map(String)}return(t=n?.domain)!==null&&t!==void 0?t:F_},eL=lt([Ci],T1),nL=lt([eL,XU],xk),ZU=lt([U_,Os,Xn,nL],tL,{memoizeOptions:{resultEqualityCheck:Fg}}),E1=n=>n.errorBars,KU=(n,t,e)=>n.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>Qk(e,i)),Hm=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.filter(Boolean);if(r.length!==0){var s=r.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},iL=(n,t,e,i,r)=>{var s,l;if(e.length>0&&n.forEach(u=>{e.forEach(d=>{var f,p,v=(f=i[d.id])===null||f===void 0?void 0:f.filter(O=>Qk(r,O)),y=ci(u,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),x=VU(u,y,v);if(x.length>=2){var A=Math.min(...x),S=Math.max(...x);(s==null||A<s)&&(s=A),(l==null||S>l)&&(l=S)}var C=WO(y);C!=null&&(s=s==null?C[0]:Math.min(s,C[0]),l=l==null?C[1]:Math.max(l,C[1]))})}),t?.dataKey!=null&&n.forEach(u=>{var d=WO(ci(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),ye(s)&&ye(l))return[s,l]},QU=lt([A1,Ci,GU,E1,Xn],iL,{memoizeOptions:{resultEqualityCheck:Fg}});function JU(n){var{value:t}=n;if(ka(t)||t instanceof Date)return t}var tH=(n,t,e)=>{var i=n.map(JU).filter(r=>r!=null);return e&&(t.dataKey==null||t.allowDuplicatedCategory&&yP(i))?BD(0,n.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},rL=n=>n.referenceElements.dots,Su=(n,t,e)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===e:i.yAxisId===e),eH=lt([rL,Xn,zg],Su),aL=n=>n.referenceElements.areas,nH=lt([aL,Xn,zg],Su),sL=n=>n.referenceElements.lines,iH=lt([sL,Xn,zg],Su),oL=(n,t)=>{if(n!=null){var e=Ss(n.map(i=>t==="xAxis"?i.x:i.y));if(e.length!==0)return[Math.min(...e),Math.max(...e)]}},rH=lt(eH,Xn,oL),lL=(n,t)=>{if(n!=null){var e=Ss(n.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(e.length!==0)return[Math.min(...e),Math.max(...e)]}},aH=lt([nH,Xn],lL);function sH(n){var t;if(n.x!=null)return Ss([n.x]);var e=(t=n.segment)===null||t===void 0?void 0:t.map(i=>i.x);return e==null||e.length===0?[]:Ss(e)}function oH(n){var t;if(n.y!=null)return Ss([n.y]);var e=(t=n.segment)===null||t===void 0?void 0:t.map(i=>i.y);return e==null||e.length===0?[]:Ss(e)}var cL=(n,t)=>{if(n!=null){var e=n.flatMap(i=>t==="xAxis"?sH(i):oH(i));if(e.length!==0)return[Math.min(...e),Math.max(...e)]}},lH=lt([iH,Xn],cL),cH=lt(rH,lH,aH,(n,t,e)=>Hm(n,e,t)),uL=(n,t,e,i,r,s,l,u)=>{if(e!=null)return e;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?Hm(i,s,r):Hm(s,r);return xU(t,f,n.allowDataOverflow)},uH=lt([Ci,eL,nL,ZU,QU,cH,$e,Xn],uL,{memoizeOptions:{resultEqualityCheck:Fg}}),hH=[0,1],hL=(n,t,e,i,r,s,l)=>{if(!((n==null||e==null||e.length===0)&&l===void 0)){var{dataKey:u,type:d}=n,f=Oo(t,s);if(f&&u==null){var p;return BD(0,(p=e?.length)!==null&&p!==void 0?p:0)}return d==="category"?tH(i,n,f):r==="expand"?hH:l}},C1=lt([Ci,$e,A1,Hg,Ng,Xn,uH],hL);function dH(n){return n in Zh}var dL=(n,t,e)=>{if(n!=null){var{scale:i,type:r}=n;if(i==="auto")return r==="category"&&e&&(e.indexOf("LineChart")>=0||e.indexOf("AreaChart")>=0||e.indexOf("ComposedChart")>=0&&!t)?"point":r==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(Td(i));return dH(s)?s:"point"}}},Au=lt([Ci,qk,m1],dL);function O1(n,t,e,i){if(!(e==null||i==null))return typeof n.scale=="function"?qO(n.scale,e,i):qO(t,e,i)}var fL=(n,t,e)=>{var i=T1(t);if(!(e!=="auto"&&e!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&ws(n))return EU(n,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ws(n))return CU(n,t.tickCount,t.allowDecimals)}},M1=lt([C1,jd,Au],fL),pL=(n,t,e,i)=>{if(i!=="angleAxis"&&n?.type==="number"&&ws(t)&&Array.isArray(e)&&e.length>0){var r,s,l=t[0],u=(r=e[0])!==null&&r!==void 0?r:0,d=t[1],f=(s=e[e.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,u),Math.max(d,f)]}return t},fH=lt([Ci,C1,M1,Xn],pL),pH=lt(Hg,Ci,(n,t)=>{if(!(!t||t.type!=="number")){var e=1/0,i=Array.from(Ss(n.map(v=>v.value))).sort((v,y)=>v-y),r=i[0],s=i[i.length-1];if(r==null||s==null)return 1/0;var l=s-r;if(l===0)return 1/0;for(var u=0;u<i.length-1;u++){var d=i[u],f=i[u+1];if(!(d==null||f==null)){var p=f-d;e=Math.min(e,p)}}return e/l}}),mL=lt(pH,$e,Lk,Vn,(n,t,e,i,r)=>r,(n,t,e,i,r)=>{if(!ye(n))return 0;var s=t==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var l=Jr(e,n*s),u=n*s/2;return u-l-(u-l)/s*l}return 0}),mH=(n,t,e)=>{var i=Ms(n,t);return i==null||typeof i.padding!="string"?0:mL(n,"xAxis",t,e,i.padding)},gH=(n,t,e)=>{var i=Ps(n,t);return i==null||typeof i.padding!="string"?0:mL(n,"yAxis",t,e,i.padding)},vH=lt(Ms,mH,(n,t)=>{var e,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:t,right:t}:{left:((e=r.left)!==null&&e!==void 0?e:0)+t,right:((i=r.right)!==null&&i!==void 0?i:0)+t}}),yH=lt(Ps,gH,(n,t)=>{var e,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:t,bottom:t}:{top:((e=r.top)!==null&&e!==void 0?e:0)+t,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+t}}),bH=lt([Vn,vH,wg,xg,(n,t,e)=>e],(n,t,e,i,r)=>{var{padding:s}=i;return r?[s.left,e.width-s.right]:[n.left+t.left,n.left+n.width-t.right]}),_H=lt([Vn,$e,yH,wg,xg,(n,t,e)=>e],(n,t,e,i,r,s)=>{var{padding:l}=r;return s?[i.height-l.bottom,l.top]:t==="horizontal"?[n.top+n.height-e.bottom,n.top+e.top]:[n.top+e.top,n.top+n.height-e.bottom]}),zd=(n,t,e,i)=>{var r;switch(t){case"xAxis":return bH(n,e,i);case"yAxis":return _H(n,e,i);case"zAxis":return(r=w1(n,e))===null||r===void 0?void 0:r.range;case"angleAxis":return zk(n);case"radiusAxis":return Bk(n,e);default:return}},gL=lt([Ci,zd],jg),xH=lt([Au,fH],zU),$g=lt([Ci,Au,xH,gL],O1);lt([Rd,E1,Xn],KU);function vL(n,t){return n.id<t.id?-1:n.id>t.id?1:0}var qg=(n,t)=>t,Gg=(n,t,e)=>e,wH=lt(bg,qg,Gg,(n,t,e)=>n.filter(i=>i.orientation===t).filter(i=>i.mirror===e).sort(vL)),SH=lt(_g,qg,Gg,(n,t,e)=>n.filter(i=>i.orientation===t).filter(i=>i.mirror===e).sort(vL)),yL=(n,t)=>({width:n.width,height:t.height}),AH=(n,t)=>{var e=typeof t.width=="number"?t.width:Od;return{width:e,height:n.height}},bL=lt(Vn,Ms,yL),TH=(n,t,e)=>{switch(t){case"top":return n.top;case"bottom":return e-n.bottom;default:return 0}},EH=(n,t,e)=>{switch(t){case"left":return n.left;case"right":return e-n.right;default:return 0}},CH=lt(Es,Vn,wH,qg,Gg,(n,t,e,i,r)=>{var s={},l;return e.forEach(u=>{var d=yL(t,u);l==null&&(l=TH(t,i,n));var f=i==="top"&&!r||i==="bottom"&&r;s[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),OH=lt(Ts,Vn,SH,qg,Gg,(n,t,e,i,r)=>{var s={},l;return e.forEach(u=>{var d=AH(t,u);l==null&&(l=EH(t,i,n));var f=i==="left"&&!r||i==="right"&&r;s[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),MH=(n,t)=>{var e=Ms(n,t);if(e!=null)return CH(n,e.orientation,e.mirror)},PH=lt([Vn,Ms,MH,(n,t)=>t],(n,t,e,i)=>{if(t!=null){var r=e?.[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),DH=(n,t)=>{var e=Ps(n,t);if(e!=null)return OH(n,e.orientation,e.mirror)},kH=lt([Vn,Ps,DH,(n,t)=>t],(n,t,e,i)=>{if(t!=null){var r=e?.[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),_L=lt(Vn,Ps,(n,t)=>{var e=typeof t.width=="number"?t.width:Od;return{width:e,height:n.height}}),VO=(n,t,e)=>{switch(t){case"xAxis":return bL(n,e).width;case"yAxis":return _L(n,e).height;default:return}},xL=(n,t,e,i)=>{if(e!=null){var{allowDuplicatedCategory:r,type:s,dataKey:l}=e,u=Oo(n,i),d=t.map(f=>f.value);if(l&&u&&s==="category"&&r&&yP(d))return d}},P1=lt([$e,Hg,Ci,Xn],xL),wL=(n,t,e,i)=>{if(!(e==null||e.dataKey==null)){var{type:r,scale:s}=e,l=Oo(n,i);if(l&&(r==="number"||s!=="auto"))return t.map(u=>u.value)}},D1=lt([$e,Hg,jd,Xn],wL),YO=lt([$e,$U,Au,$g,P1,D1,zd,M1,Xn],(n,t,e,i,r,s,l,u,d)=>{if(t!=null){var f=Oo(n,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:r,isCategorical:f,niceTicks:u,range:l,realScaleType:e,scale:i}}}),LH=(n,t,e,i,r,s,l,u,d)=>{if(!(t==null||i==null)){var f=Oo(n,d),{type:p,ticks:v,tickCount:y}=t,x=e==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,A=p==="category"&&i.bandwidth?i.bandwidth()/x:0;A=d==="angleAxis"&&s!=null&&s.length>=2?$i(s[0]-s[1])*2*A:A;var S=v||r;return S?S.map((C,O)=>{var N=l?l.indexOf(C):C,k=i.map(N);return ye(k)?{index:O,coordinate:k+A,value:C,offset:A}:null}).filter(qi):f&&u?u.map((C,O)=>{var N=i.map(C);return ye(N)?{coordinate:N+A,value:C,index:O,offset:A}:null}).filter(qi):i.ticks?i.ticks(y).map((C,O)=>{var N=i.map(C);return ye(N)?{coordinate:N+A,value:C,index:O,offset:A}:null}).filter(qi):i.domain().map((C,O)=>{var N=i.map(C);return ye(N)?{coordinate:N+A,value:l?l[C]:C,index:O,offset:A}:null}).filter(qi)}},SL=lt([$e,jd,Au,$g,M1,zd,P1,D1,Xn],LH),NH=(n,t,e,i,r,s,l)=>{if(!(t==null||e==null||i==null||i[0]===i[1])){var u=Oo(n,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&i?.length>=2?$i(i[0]-i[1])*2*f:f,u&&s?s.map((p,v)=>{var y=e.map(p);return ye(y)?{coordinate:y+f,value:p,index:v,offset:f}:null}).filter(qi):e.ticks?e.ticks(d).map((p,v)=>{var y=e.map(p);return ye(y)?{coordinate:y+f,value:p,index:v,offset:f}:null}).filter(qi):e.domain().map((p,v)=>{var y=e.map(p);return ye(y)?{coordinate:y+f,value:r?r[p]:p,index:v,offset:f}:null}).filter(qi)}},du=lt([$e,jd,$g,zd,P1,D1,Xn],NH),fu=lt(Ci,$g,(n,t)=>{if(!(n==null||t==null))return Um(Um({},n),{},{scale:t})}),jH=lt([Ci,Au,C1,gL],O1);lt((n,t,e)=>w1(n,e),jH,(n,t)=>{if(!(n==null||t==null))return Um(Um({},n),{},{scale:t})});var RH=lt([$e,bg,_g],(n,t,e)=>{switch(n){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return e.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),AL=n=>n.options.defaultTooltipEventType,TL=n=>n.options.validateTooltipEventTypes;function EL(n,t,e){if(n==null)return t;var i=n?"axis":"item";return e==null?t:e.includes(i)?i:t}function k1(n,t){var e=AL(n),i=TL(n);return EL(t,e,i)}function IH(n){return $t(t=>k1(t,n))}var CL=(n,t)=>{var e,i=Number(t);if(!(Da(i)||t==null))return i>=0?n==null||(e=n[i])===null||e===void 0?void 0:e.value:void 0},zH=n=>n.tooltip.settings,_o={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},BH={itemInteraction:{click:_o,hover:_o},axisInteraction:{click:_o,hover:_o},keyboardInteraction:_o,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},OL=Wi({name:"tooltip",initialState:BH,reducers:{addTooltipEntrySettings:{reducer(n,t){n.tooltipItemPayloads.push(t.payload)},prepare:tn()},replaceTooltipEntrySettings:{reducer(n,t){var{prev:e,next:i}=t.payload,r=Qr(n).tooltipItemPayloads.indexOf(e);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:tn()},removeTooltipEntrySettings:{reducer(n,t){var e=Qr(n).tooltipItemPayloads.indexOf(t.payload);e>-1&&n.tooltipItemPayloads.splice(e,1)},prepare:tn()},setTooltipSettingsState(n,t){n.settings=t.payload},setActiveMouseOverItemIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=t.payload.activeIndex,n.itemInteraction.hover.dataKey=t.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,t){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=t.payload.activeIndex,n.itemInteraction.click.dataKey=t.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(n,t){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=t.payload.activeIndex,n.axisInteraction.hover.dataKey=t.payload.activeDataKey,n.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=t.payload.activeIndex,n.axisInteraction.click.dataKey=t.payload.activeDataKey,n.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(n,t){n.syncInteraction=t.payload},setKeyboardInteraction(n,t){n.keyboardInteraction.active=t.payload.active,n.keyboardInteraction.index=t.payload.activeIndex,n.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:FH,replaceTooltipEntrySettings:UH,removeTooltipEntrySettings:HH,setTooltipSettingsState:$H,setActiveMouseOverItemIndex:ML,mouseLeaveItem:qH,mouseLeaveChart:PL,setActiveClickItemIndex:GH,setMouseOverAxisIndex:DL,setMouseClickAxisIndex:WH,setSyncInteraction:H_,setKeyboardInteraction:$_}=OL.actions,VH=OL.reducer;function XO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Lp(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(e),!0).forEach(function(i){YH(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function YH(n,t,e){return(t=XH(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function XH(n){var t=ZH(n,"string");return typeof t=="symbol"?t:t+""}function ZH(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function KH(n,t,e){return t==="axis"?e==="click"?n.axisInteraction.click:n.axisInteraction.hover:e==="click"?n.itemInteraction.click:n.itemInteraction.hover}function QH(n){return n.index!=null}var kL=(n,t,e,i)=>{if(t==null)return _o;var r=KH(n,t,e);if(r==null)return _o;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(QH(r)){if(s)return Lp(Lp({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return Lp(Lp({},_o),{},{coordinate:r.coordinate})};function JH(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var t=n.valueOf();return Number.isFinite(t)?t:void 0}var e=Number(n);return Number.isFinite(e)?e:void 0}function t$(n,t){var e=JH(n),i=t[0],r=t[1];if(e===void 0)return!1;var s=Math.min(i,r),l=Math.max(i,r);return e>=s&&e<=l}function e$(n,t,e){if(e==null||t==null)return!0;var i=ci(n,t);return i==null||!ws(e)?!0:t$(i,e)}var L1=(n,t,e,i)=>{var r=n?.index;if(r==null)return null;var s=Number(r);if(!ye(s))return r;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(s,u)),f=t[d];return f==null||e$(f,e,i)?String(d):null},LL=(n,t,e,i,r,s,l)=>{if(s!=null){var u=l[0],d=u?.getPosition(s);if(d!=null)return d;var f=r?.[Number(s)];if(f)return e==="horizontal"?{x:f.coordinate,y:(i.top+t)/2}:{x:(i.left+n)/2,y:f.coordinate}}},NL=(n,t,e,i)=>{if(t==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;if(e==="hover"?r=n.itemInteraction.hover.graphicalItemId:r=n.itemInteraction.click.graphicalItemId,r==null&&i!=null){var s=n.tooltipItemPayloads[0];return s!=null?[s]:[]}return n.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===r})},jL=n=>n.options.tooltipPayloadSearcher,Tu=n=>n.tooltip;function ZO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function KO(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(e),!0).forEach(function(i){n$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ZO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function n$(n,t,e){return(t=i$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i$(n){var t=r$(n,"string");return typeof t=="symbol"?t:t+""}function r$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function a$(n,t){return n??t}var RL=(n,t,e,i,r,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:p}=e,v=[];return n.reduce((y,x)=>{var A,{dataDefinedOnItem:S,settings:C}=x,O=a$(S,u),N=Array.isArray(O)?uD(O,f,p):O,k=(A=C?.dataKey)!==null&&A!==void 0?A:i,j=C?.nameKey,z;if(i&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?z=kz(N,i,r):z=s(N,t,d,j),Array.isArray(z))z.forEach(F=>{var q=KO(KO({},C),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});y.push(XE({tooltipEntrySettings:q,dataKey:F.dataKey,payload:F.payload,value:ci(F.payload,F.dataKey),name:F.name}))});else{var R;y.push(XE({tooltipEntrySettings:C,dataKey:k,payload:z,value:ci(z,k),name:(R=ci(z,j))!==null&&R!==void 0?R:C?.name}))}return y},v)}},N1=lt([jn,qk,m1],dL),s$=lt([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,t)=>[...n,...t]),o$=lt([Zn,wu],Gk),Eu=lt([s$,jn,o$],Wk,{memoizeOptions:{resultEqualityCheck:Ug}}),l$=lt([Eu],n=>n.filter(Bg)),c$=lt([Eu],Xk,{memoizeOptions:{resultEqualityCheck:Ug}}),Cu=lt([c$,Os],Zk),u$=lt([l$,Os,jn],Uk),j1=lt([Cu,jn,Eu],Kk),IL=lt([jn],T1),h$=lt([jn],n=>n.allowDataOverflow),zL=lt([IL,h$],xk),d$=lt([Eu],n=>n.filter(Bg)),f$=lt([u$,d$,Ng,Nk],Jk),p$=lt([f$,Os,Zn,zL],tL),m$=lt([Eu],Yk),g$=lt([Cu,jn,m$,E1,Zn],iL,{memoizeOptions:{resultEqualityCheck:Fg}}),v$=lt([rL,Zn,wu],Su),y$=lt([v$,Zn],oL),b$=lt([aL,Zn,wu],Su),_$=lt([b$,Zn],lL),x$=lt([sL,Zn,wu],Su),w$=lt([x$,Zn],cL),S$=lt([y$,w$,_$],Hm),A$=lt([jn,IL,zL,p$,g$,S$,$e,Zn],uL),Bd=lt([jn,$e,Cu,j1,Ng,Zn,A$],hL),T$=lt([Bd,jn,N1],fL),E$=lt([jn,Bd,T$,Zn],pL),BL=n=>{var t=Zn(n),e=wu(n),i=!1;return zd(n,t,e,i)},FL=lt([jn,BL],jg),UL=lt([jn,N1,E$,FL],O1),C$=lt([$e,j1,jn,Zn],xL),O$=lt([$e,j1,jn,Zn],wL),M$=(n,t,e,i,r,s,l,u)=>{if(t){var{type:d}=t,f=Oo(n,u);if(i){var p=e==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,v=d==="category"&&i.bandwidth?i.bandwidth()/p:0;return v=u==="angleAxis"&&r!=null&&r?.length>=2?$i(r[0]-r[1])*2*v:v,f&&l?l.map((y,x)=>{var A=i.map(y);return ye(A)?{coordinate:A+v,value:y,index:x,offset:v}:null}).filter(qi):i.domain().map((y,x)=>{var A=i.map(y);return ye(A)?{coordinate:A+v,value:s?s[y]:y,index:x,offset:v}:null}).filter(qi)}}},Ds=lt([$e,jn,N1,UL,BL,C$,O$,Zn],M$),R1=lt([AL,TL,zH],(n,t,e)=>EL(e.shared,n,t)),HL=n=>n.tooltip.settings.trigger,I1=n=>n.tooltip.settings.defaultIndex,Fd=lt([Tu,R1,HL,I1],kL),pu=lt([Fd,Cu,Id,Bd],L1),$L=lt([Ds,pu],CL),qL=lt([Fd],n=>{if(n)return n.dataKey});lt([Fd],n=>{if(n)return n.graphicalItemId});var GL=lt([Tu,R1,HL,I1],NL),P$=lt([Ts,Es,$e,Vn,Ds,I1,GL],LL),D$=lt([Fd,P$],(n,t)=>n!=null&&n.coordinate?n.coordinate:t),k$=lt([Fd],n=>{var t;return(t=n?.active)!==null&&t!==void 0?t:!1}),L$=lt([GL,pu,Os,Id,$L,jL,R1],RL);lt([L$],n=>{if(n!=null){var t=n.map(e=>e.payload).filter(e=>e!=null);return Array.from(new Set(t))}});function QO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function JO(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(e),!0).forEach(function(i){N$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):QO(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function N$(n,t,e){return(t=j$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function j$(n){var t=R$(n,"string");return typeof t=="symbol"?t:t+""}function R$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var I$=()=>$t(jn),z$=()=>{var n=I$(),t=$t(Ds),e=$t(UL);return bm(!n||!e?void 0:JO(JO({},n),{},{scale:e}),t)};function t2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Fc(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(e),!0).forEach(function(i){B$(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):t2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function B$(n,t,e){return(t=F$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function F$(n){var t=U$(n,"string");return typeof t=="symbol"?t:t+""}function U$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var H$=(n,t,e,i)=>{var r=t.find(s=>s&&s.index===e);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},$$=(n,t,e,i)=>{var r=t.find(f=>f&&f.index===e);if(r){if(n==="centric"){var s=r.coordinate,{radius:l}=i;return Fc(Fc(Fc({},i),li(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var u=r.coordinate,{angle:d}=i;return Fc(Fc(Fc({},i),li(i.cx,i.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function q$(n,t){var{chartX:e,chartY:i}=n;return e>=t.left&&e<=t.left+t.width&&i>=t.top&&i<=t.top+t.height}var WL=(n,t,e,i,r)=>{var s,l=(s=t?.length)!==null&&s!==void 0?s:0;if(l<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,f,p,v,y,x=u>0?(d=e[u-1])===null||d===void 0?void 0:d.coordinate:(f=e[l-1])===null||f===void 0?void 0:f.coordinate,A=(p=e[u])===null||p===void 0?void 0:p.coordinate,S=u>=l-1?(v=e[0])===null||v===void 0?void 0:v.coordinate:(y=e[u+1])===null||y===void 0?void 0:y.coordinate,C=void 0;if(!(x==null||A==null||S==null))if($i(A-x)!==$i(S-A)){var O=[];if($i(S-A)===$i(r[1]-r[0])){C=S;var N=A+r[1]-r[0];O[0]=Math.min(N,(N+x)/2),O[1]=Math.max(N,(N+x)/2)}else{C=x;var k=S+r[1]-r[0];O[0]=Math.min(A,(k+A)/2),O[1]=Math.max(A,(k+A)/2)}var j=[Math.min(A,(C+A)/2),Math.max(A,(C+A)/2)];if(n>j[0]&&n<=j[1]||n>=O[0]&&n<=O[1]){var z;return(z=e[u])===null||z===void 0?void 0:z.index}}else{var R=Math.min(x,S),F=Math.max(x,S);if(n>(R+A)/2&&n<=(F+A)/2){var q;return(q=e[u])===null||q===void 0?void 0:q.index}}}else if(t)for(var J=0;J<l;J++){var ct=t[J];if(ct!=null){var et=t[J+1],Z=t[J-1];if(J===0&&et!=null&&n<=(ct.coordinate+et.coordinate)/2||J===l-1&&Z!=null&&n>(ct.coordinate+Z.coordinate)/2||J>0&&J<l-1&&Z!=null&&et!=null&&n>(ct.coordinate+Z.coordinate)/2&&n<=(ct.coordinate+et.coordinate)/2)return ct.index}}return-1},G$=()=>$t(m1),z1=(n,t)=>t,VL=(n,t,e)=>e,B1=(n,t,e,i)=>i,W$=lt(Ds,n=>cg(n,t=>t.coordinate)),F1=lt([Tu,z1,VL,B1],kL),U1=lt([F1,Cu,Id,Bd],L1),V$=(n,t,e)=>{if(t!=null){var i=Tu(n);return t==="axis"?e==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:e==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},YL=lt([Tu,z1,VL,B1],NL),$m=lt([Ts,Es,$e,Vn,Ds,B1,YL],LL),Y$=lt([F1,$m],(n,t)=>{var e;return(e=n.coordinate)!==null&&e!==void 0?e:t}),XL=lt([Ds,U1],CL),X$=lt([YL,U1,Os,Id,XL,jL,z1],RL),Z$=lt([F1,U1],(n,t)=>({isActive:n.active&&t!=null,activeIndex:t})),K$=(n,t,e,i,r,s,l)=>{if(!(!n||!e||!i||!r)&&q$(n,l)){var u=d5(n,t),d=WL(u,s,r,e,i),f=H$(t,r,d,n);return{activeIndex:String(d),activeCoordinate:f}}},Q$=(n,t,e,i,r,s,l)=>{if(!(!n||!i||!r||!s||!e)){var u=R6(n,e);if(u){var d=f5(u,t),f=WL(d,l,s,i,r),p=$$(t,s,f,u);return{activeIndex:String(f),activeCoordinate:p}}}},J$=(n,t,e,i,r,s,l,u)=>{if(!(!n||!t||!i||!r||!s))return t==="horizontal"||t==="vertical"?K$(n,t,i,r,s,l,u):Q$(n,t,e,i,r,s,l)},t7=lt(n=>n.zIndex.zIndexMap,(n,t)=>t,(n,t,e)=>e,(n,t,e)=>{if(t!=null){var i=n[t];if(i!=null)return e?i.panoramaElement:i.element}}),e7=lt(n=>n.zIndex.zIndexMap,n=>{var t=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(Si)),e=Array.from(new Set(t));return e.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:RU}});function e2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function n2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(e),!0).forEach(function(i){n7(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):e2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function n7(n,t,e){return(t=i7(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i7(n){var t=r7(n,"string");return typeof t=="symbol"?t:t+""}function r7(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var a7={},s7={zIndexMap:Object.values(Si).reduce((n,t)=>n2(n2({},n),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),a7)},o7=new Set(Object.values(Si));function l7(n){return o7.has(n)}var ZL=Wi({name:"zIndex",initialState:s7,reducers:{registerZIndexPortal:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]?n.zIndexMap[e].consumers+=1:n.zIndexMap[e]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:tn()},unregisterZIndexPortal:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]&&(n.zIndexMap[e].consumers-=1,n.zIndexMap[e].consumers<=0&&!l7(e)&&delete n.zIndexMap[e])},prepare:tn()},registerZIndexPortalElement:{reducer:(n,t)=>{var{zIndex:e,element:i,isPanorama:r}=t.payload;n.zIndexMap[e]?r?n.zIndexMap[e].panoramaElement=i:n.zIndexMap[e].element=i:n.zIndexMap[e]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:tn()},unregisterZIndexPortalElement:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]&&(t.payload.isPanorama?n.zIndexMap[e].panoramaElement=void 0:n.zIndexMap[e].element=void 0)},prepare:tn()}}}),{registerZIndexPortal:c7,unregisterZIndexPortal:u7,registerZIndexPortalElement:h7,unregisterZIndexPortalElement:d7}=ZL.actions,f7=ZL.reducer;function ks(n){var{zIndex:t,children:e}=n,i=V5(),r=i&&t!==void 0&&t!==0,s=Vi(),l=sn();D.useLayoutEffect(()=>r?(l(c7({zIndex:t})),()=>{l(u7({zIndex:t}))}):vu,[l,t,r]);var u=$t(d=>t7(d,t,s));return r?u?rg.createPortal(e,u):null:e}function q_(){return q_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},q_.apply(null,arguments)}function i2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Np(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(e),!0).forEach(function(i){p7(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function p7(n,t,e){return(t=m7(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function m7(n){var t=g7(n,"string");return typeof t=="symbol"?t:t+""}function g7(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function v7(n){var{cursor:t,cursorComp:e,cursorProps:i}=n;return D.isValidElement(t)?D.cloneElement(t,i):D.createElement(e,i)}function y7(n){var t,{coordinate:e,payload:i,index:r,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:p}=n,v=e,y=i,x=r;if(!d||!v||p!=="ScatterChart"&&f!=="axis")return null;var A,S,C;if(p==="ScatterChart")A=v,S=XF,C=Si.cursorLine;else if(p==="BarChart")A=ZF(u,v,s,l),S=jD,C=Si.cursorRectangle;else if(u==="radial"&&_P(v)){var{cx:O,cy:N,radius:k,startAngle:j,endAngle:z}=RD(v);A={cx:O,cy:N,startAngle:j,endAngle:z,innerRadius:k,outerRadius:k},S=zD,C=Si.cursorLine}else A={points:F6(u,v,s)},S=PD,C=Si.cursorLine;var R=typeof d=="object"&&"className"in d?d.className:void 0,F=Np(Np(Np(Np({stroke:"#ccc",pointerEvents:"none"},s),A),vx(d)),{},{payload:y,payloadIndex:x,className:Ge("recharts-tooltip-cursor",R)});return D.createElement(ks,{zIndex:(t=n.zIndex)!==null&&t!==void 0?t:C},D.createElement(v7,{cursor:d,cursorComp:S,cursorProps:F}))}function b7(n){var t=z$(),e=yD(),i=yu(),r=G$();return t==null||e==null||i==null||r==null?null:D.createElement(y7,q_({},n,{offset:e,layout:i,tooltipAxisBandSize:t,chartName:r}))}var KL=D.createContext(null),_7=()=>D.useContext(KL),kb={exports:{}},r2;function x7(){return r2||(r2=1,(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function r(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,v,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new r(p,v||d,y),A=e?e+f:f;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],x]:d._events[A].push(x):(d._events[A]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new i:delete d._events[f]}function u(){this._events=new i,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,v;if(this._eventsCount===0)return f;for(v in p=this._events)t.call(p,v)&&f.push(e?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=e?e+f:f,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,x=v.length,A=new Array(x);y<x;y++)A[y]=v[y].fn;return A},u.prototype.listenerCount=function(f){var p=e?e+f:f,v=this._events[p];return v?v.fn?1:v.length:0},u.prototype.emit=function(f,p,v,y,x,A){var S=e?e+f:f;if(!this._events[S])return!1;var C=this._events[S],O=arguments.length,N,k;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),O){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,v),!0;case 4:return C.fn.call(C.context,p,v,y),!0;case 5:return C.fn.call(C.context,p,v,y,x),!0;case 6:return C.fn.call(C.context,p,v,y,x,A),!0}for(k=1,N=new Array(O-1);k<O;k++)N[k-1]=arguments[k];C.fn.apply(C.context,N)}else{var j=C.length,z;for(k=0;k<j;k++)switch(C[k].once&&this.removeListener(f,C[k].fn,void 0,!0),O){case 1:C[k].fn.call(C[k].context);break;case 2:C[k].fn.call(C[k].context,p);break;case 3:C[k].fn.call(C[k].context,p,v);break;case 4:C[k].fn.call(C[k].context,p,v,y);break;default:if(!N)for(z=1,N=new Array(O-1);z<O;z++)N[z-1]=arguments[z];C[k].fn.apply(C[k].context,N)}}return!0},u.prototype.on=function(f,p,v){return s(this,f,p,v,!1)},u.prototype.once=function(f,p,v){return s(this,f,p,v,!0)},u.prototype.removeListener=function(f,p,v,y){var x=e?e+f:f;if(!this._events[x])return this;if(!p)return l(this,x),this;var A=this._events[x];if(A.fn)A.fn===p&&(!y||A.once)&&(!v||A.context===v)&&l(this,x);else{for(var S=0,C=[],O=A.length;S<O;S++)(A[S].fn!==p||y&&!A[S].once||v&&A[S].context!==v)&&C.push(A[S]);C.length?this._events[x]=C.length===1?C[0]:C:l(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=e?e+f:f,this._events[p]&&l(this,p)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=e,u.EventEmitter=u,n.exports=u})(kb)),kb.exports}var w7=x7();const S7=Ra(w7);var yd=new S7,G_="recharts.syncEvent.tooltip",a2="recharts.syncEvent.brush",A7=(n,t)=>{if(t&&Array.isArray(n)){var e=Number.parseInt(t,10);if(!Da(e))return n[e]}},T7={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},QL=Wi({name:"options",initialState:T7,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),E7=QL.reducer,{createEventEmitter:C7}=QL.actions;function O7(n){return n.tooltip.syncInteraction}var M7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},JL=Wi({name:"chartData",initialState:M7,reducers:{setChartData(n,t){if(n.chartData=t.payload,t.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}t.payload.length>0&&n.dataEndIndex!==t.payload.length-1&&(n.dataEndIndex=t.payload.length-1)},setComputedData(n,t){n.computedData=t.payload},setDataStartEndIndexes(n,t){var{startIndex:e,endIndex:i}=t.payload;e!=null&&(n.dataStartIndex=e),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:s2,setDataStartEndIndexes:P7,setComputedData:TK}=JL.actions,D7=JL.reducer,k7=["x","y"];function o2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Uc(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(e),!0).forEach(function(i){L7(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function L7(n,t,e){return(t=N7(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function N7(n){var t=j7(n,"string");return typeof t=="symbol"?t:t+""}function j7(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function R7(n,t){if(n==null)return{};var e,i,r=I7(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function I7(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function z7(){var n=$t(g1),t=$t(v1),e=sn(),i=$t(jk),r=$t(Ds),s=yu(),l=Sg(),u=$t(d=>d.rootProps.className);D.useEffect(()=>{if(n==null)return vu;var d=(f,p,v)=>{if(t!==v&&n===f){if(i==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:A,y:S}=x,C=R7(x,k7),{x:O,y:N,width:k,height:j}=p.payload.sourceViewBox,z=Uc(Uc({},C),{},{x:l.x+(k?(A-O)/k:0)*l.width,y:l.y+(j?(S-N)/j:0)*l.height});e(Uc(Uc({},p),{},{payload:Uc(Uc({},p.payload),{},{coordinate:z})}))}else e(p);return}if(r!=null){var R;if(typeof i=="function"){var F={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},q=i(r,F);R=r[q]}else i==="value"&&(R=r.find(G=>String(G.value)===p.payload.label));var{coordinate:J}=p.payload;if(R==null||p.payload.active===!1||J==null||l==null){e(H_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ct,y:et}=J,Z=Math.min(ct,l.x+l.width),Ct=Math.min(et,l.y+l.height),_t={x:s==="horizontal"?R.coordinate:Z,y:s==="horizontal"?Ct:R.coordinate},kt=H_({active:p.payload.active,coordinate:_t,dataKey:p.payload.dataKey,index:String(R.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});e(kt)}}};return yd.on(G_,d),()=>{yd.off(G_,d)}},[u,e,t,n,i,r,s,l])}function B7(){var n=$t(g1),t=$t(v1),e=sn();D.useEffect(()=>{if(n==null)return vu;var i=(r,s,l)=>{t!==l&&n===r&&e(P7(s))};return yd.on(a2,i),()=>{yd.off(a2,i)}},[e,t,n])}function F7(){var n=sn();D.useEffect(()=>{n(C7())},[n]),z7(),B7()}function U7(n,t,e,i,r,s){var l=$t(x=>V$(x,n,t)),u=$t(v1),d=$t(g1),f=$t(jk),p=$t(O7),v=p?.active,y=Sg();D.useEffect(()=>{if(!v&&d!=null&&u!=null){var x=H_({active:s,coordinate:e,dataKey:l,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:y,graphicalItemId:void 0});yd.emit(G_,d,x,u)}},[v,e,l,r,i,u,d,f,s,y])}function l2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function c2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(e),!0).forEach(function(i){H7(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):l2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function H7(n,t,e){return(t=$7(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $7(n){var t=q7(n,"string");return typeof t=="symbol"?t:t+""}function q7(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function G7(n){return n.dataKey}function W7(n,t){return D.isValidElement(n)?D.cloneElement(n,t):typeof n=="function"?D.createElement(n,t):D.createElement(OF,t)}var u2=[],V7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Y7(n){var t,e,i=Ei(n,V7),{active:r,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:p,offset:v,payloadUniqBy:y,position:x,reverseDirection:A,useTranslate3d:S,wrapperStyle:C,cursor:O,shared:N,trigger:k,defaultIndex:j,portal:z,axisId:R}=i,F=sn(),q=typeof j=="number"?String(j):j;D.useEffect(()=>{F($H({shared:N,trigger:k,axisId:R,active:r,defaultIndex:q}))},[F,N,k,R,r,q]);var J=Sg(),ct=MD(),et=IH(N),{activeIndex:Z,isActive:Ct}=(t=$t(Dt=>Z$(Dt,et,k,q)))!==null&&t!==void 0?t:{},_t=$t(Dt=>X$(Dt,et,k,q)),kt=$t(Dt=>XL(Dt,et,k,q)),G=$t(Dt=>Y$(Dt,et,k,q)),K=_t,V=_7(),Pt=(e=r??Ct)!==null&&e!==void 0?e:!1,[yt,H]=NP([K,Pt]),it=et==="axis"?kt:void 0;U7(et,k,G,it,Z,Pt);var dt=z??V;if(dt==null||J==null||et==null)return null;var bt=K??u2;Pt||(bt=u2),f&&bt.length&&(bt=MP(bt.filter(Dt=>Dt.value!=null&&(Dt.hide!==!0||i.includeHidden)),y,G7));var Q=bt.length>0,Tt=D.createElement(jF,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:Pt,coordinate:G,hasPayload:Q,offset:v,position:x,reverseDirection:A,useTranslate3d:S,viewBox:J,wrapperStyle:C,lastBoundingBox:yt,innerRef:H,hasPortalFromProps:!!z},W7(d,c2(c2({},i),{},{payload:bt,label:it,active:Pt,activeIndex:Z,coordinate:G,accessibilityLayer:ct})));return D.createElement(D.Fragment,null,rg.createPortal(Tt,dt),Pt&&D.createElement(b7,{cursor:O,tooltipEventType:et,coordinate:G,payload:bt,index:Z}))}var tN=n=>null;tN.displayName="Cell";function X7(n,t,e){return(t=Z7(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Z7(n){var t=K7(n,"string");return typeof t=="symbol"?t:t+""}function K7(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class Q7{constructor(t){X7(this,"cache",new Map),this.maxSize=t}get(t){var e=this.cache.get(t);return e!==void 0&&(this.cache.delete(t),this.cache.set(t,e)),e}set(t,e){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(t,e)}clear(){this.cache.clear()}size(){return this.cache.size}}function h2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function J7(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(e),!0).forEach(function(i){tq(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):h2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function tq(n,t,e){return(t=eq(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function eq(n){var t=nq(n,"string");return typeof t=="symbol"?t:t+""}function nq(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var iq={cacheSize:2e3,enableCache:!0},eN=J7({},iq),d2=new Q7(eN.cacheSize),rq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},f2="recharts_measurement_span";function aq(n,t){var e=t.fontSize||"",i=t.fontFamily||"",r=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(n,"|").concat(e,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(u)}var p2=(n,t)=>{try{var e=document.getElementById(f2);e||(e=document.createElement("span"),e.setAttribute("id",f2),e.setAttribute("aria-hidden","true"),document.body.appendChild(e)),Object.assign(e.style,rq,t),e.textContent="".concat(n);var i=e.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},nd=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cg.isSsr)return{width:0,height:0};if(!eN.enableCache)return p2(t,e);var i=aq(t,e),r=d2.get(i);if(r)return r;var s=p2(t,e);return d2.set(i,s),s},nN;function sq(n,t,e){return(t=oq(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oq(n){var t=lq(n,"string");return typeof t=="symbol"?t:t+""}function lq(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var m2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dq=["cm","mm","pt","pc","in","Q","px"];function fq(n){return dq.includes(n)}var Yc="NaN";function pq(n,t){return n*hq[t]}class ri{static parse(t){var e,[,i,r]=(e=uq.exec(t))!==null&&e!==void 0?e:[];return i==null?ri.NaN:new ri(parseFloat(i),r??"")}constructor(t,e){this.num=t,this.unit=e,this.num=t,this.unit=e,Da(t)&&(this.unit=""),e!==""&&!cq.test(e)&&(this.num=NaN,this.unit=""),fq(e)&&(this.num=pq(t,e),this.unit="px")}add(t){return this.unit!==t.unit?new ri(NaN,""):new ri(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ri(NaN,""):new ri(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ri(NaN,""):new ri(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ri(NaN,""):new ri(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Da(this.num)}}nN=ri;sq(ri,"NaN",new nN(NaN,""));function iN(n){if(n==null||n.includes(Yc))return Yc;for(var t=n;t.includes("*")||t.includes("/");){var e,[,i,r,s]=(e=m2.exec(t))!==null&&e!==void 0?e:[],l=ri.parse(i??""),u=ri.parse(s??""),d=r==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Yc;t=t.replace(m2,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,v,y]=(f=g2.exec(t))!==null&&f!==void 0?f:[],x=ri.parse(p??""),A=ri.parse(y??""),S=v==="+"?x.add(A):x.subtract(A);if(S.isNaN())return Yc;t=t.replace(g2,S.toString())}return t}var v2=/\(([^()]*)\)/;function mq(n){for(var t=n,e;(e=v2.exec(t))!=null;){var[,i]=e;t=t.replace(v2,iN(i))}return t}function gq(n){var t=n.replace(/\s+/g,"");return t=mq(t),t=iN(t),t}function vq(n){try{return gq(n)}catch{return Yc}}function Lb(n){var t=vq(n.slice(5,-1));return t===Yc?"":t}var yq=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bq=["dx","dy","angle","className","breakAll"];function W_(){return W_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},W_.apply(null,arguments)}function y2(n,t){if(n==null)return{};var e,i,r=_q(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function _q(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var rN=/[ \f\n\r\t\v\u2028\u2029]+/,aN=n=>{var{children:t,breakAll:e,style:i}=n;try{var r=[];Gn(t)||(e?r=t.toString().split(""):r=t.toString().split(rN));var s=r.map(u=>({word:u,width:nd(u,i).width})),l=e?0:nd("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function xq(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var sN=(n,t,e,i)=>n.reduce((r,s)=>{var{word:l,width:u}=s,d=r[r.length-1];if(d&&u!=null&&(t==null||i||d.width+u+e<Number(t)))d.words.push(l),d.width+=u+e;else{var f={words:[l],width:u};r.push(f)}return r},[]),oN=n=>n.reduce((t,e)=>t.width>e.width?t:e),wq="",b2=(n,t,e,i,r,s,l,u)=>{var d=n.slice(0,t),f=aN({breakAll:e,style:i,children:d+wq});if(!f)return[!1,[]];var p=sN(f.wordsWithComputedWidth,s,l,u),v=p.length>r||oN(p).width>Number(s);return[v,p]},Sq=(n,t,e,i,r)=>{var{maxLines:s,children:l,style:u,breakAll:d}=n,f=Bt(s),p=String(l),v=sN(t,i,e,r);if(!f||r)return v;var y=v.length>s||oN(v).width>Number(i);if(!y)return v;for(var x=0,A=p.length-1,S=0,C;x<=A&&S<=p.length-1;){var O=Math.floor((x+A)/2),N=O-1,[k,j]=b2(p,N,d,u,s,i,e,r),[z]=b2(p,O,d,u,s,i,e,r);if(!k&&!z&&(x=O+1),k&&z&&(A=O-1),!k&&z){C=j;break}S++}return C||v},_2=n=>{var t=Gn(n)?[]:n.toString().split(rN);return[{words:t,width:void 0}]},Aq=n=>{var{width:t,scaleToFit:e,children:i,style:r,breakAll:s,maxLines:l}=n;if((t||e)&&!Cg.isSsr){var u,d,f=aN({breakAll:s,children:i,style:r});if(f){var{wordsWithComputedWidth:p,spaceWidth:v}=f;u=p,d=v}else return _2(i);return Sq({breakAll:s,children:i,maxLines:l,style:r},u,d,t,!!e)}return _2(i)},lN="#808080",Tq={angle:0,breakAll:!1,capHeight:"0.71em",fill:lN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},H1=D.forwardRef((n,t)=>{var e=Ei(n,Tq),{x:i,y:r,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:p}=e,v=y2(e,yq),y=D.useMemo(()=>Aq({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),{dx:x,dy:A,angle:S,className:C,breakAll:O}=v,N=y2(v,bq);if(!ka(i)||!ka(r)||y.length===0)return null;var k=Number(i)+(Bt(x)?x:0),j=Number(r)+(Bt(A)?A:0);if(!ye(k)||!ye(j))return null;var z;switch(p){case"start":z=Lb("calc(".concat(l,")"));break;case"middle":z=Lb("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:z=Lb("calc(".concat(y.length-1," * -").concat(s,")"));break}var R=[],F=y[0];if(d&&F!=null){var q=F.width,{width:J}=v;R.push("scale(".concat(Bt(J)&&Bt(q)?J/q:1,")"))}return S&&R.push("rotate(".concat(S,", ").concat(k,", ").concat(j,")")),R.length&&(N.transform=R.join(" ")),D.createElement("text",W_({},Dr(N),{ref:t,x:k,y:j,className:Ge("recharts-text",C),textAnchor:f,fill:u.includes("url")?lN:u}),y.map((ct,et)=>{var Z=ct.words.join(O?"":" ");return D.createElement("tspan",{x:k,dy:et===0?z:s,key:"".concat(Z,"-").concat(et)},Z)}))});H1.displayName="Text";function x2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Sa(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(e),!0).forEach(function(i){Eq(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):x2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Eq(n,t,e){return(t=Cq(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Cq(n){var t=Oq(n,"string");return typeof t=="symbol"?t:t+""}function Oq(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Mq=n=>{var{viewBox:t,position:e,offset:i=0,parentViewBox:r}=n,{x:s,y:l,height:u,upperWidth:d,lowerWidth:f}=Ix(t),p=s,v=s+(d-f)/2,y=(p+v)/2,x=(d+f)/2,A=p+d/2,S=u>=0?1:-1,C=S*i,O=S>0?"end":"start",N=S>0?"start":"end",k=d>=0?1:-1,j=k*i,z=k>0?"end":"start",R=k>0?"start":"end",F=r;if(e==="top"){var q={x:p+d/2,y:l-C,horizontalAnchor:"middle",verticalAnchor:O};return F&&(q.height=Math.max(l-F.y,0),q.width=d),q}if(e==="bottom"){var J={x:v+f/2,y:l+u+C,horizontalAnchor:"middle",verticalAnchor:N};return F&&(J.height=Math.max(F.y+F.height-(l+u),0),J.width=f),J}if(e==="left"){var ct={x:y-j,y:l+u/2,horizontalAnchor:z,verticalAnchor:"middle"};return F&&(ct.width=Math.max(ct.x-F.x,0),ct.height=u),ct}if(e==="right"){var et={x:y+x+j,y:l+u/2,horizontalAnchor:R,verticalAnchor:"middle"};return F&&(et.width=Math.max(F.x+F.width-et.x,0),et.height=u),et}var Z=F?{width:x,height:u}:{};return e==="insideLeft"?Sa({x:y+j,y:l+u/2,horizontalAnchor:R,verticalAnchor:"middle"},Z):e==="insideRight"?Sa({x:y+x-j,y:l+u/2,horizontalAnchor:z,verticalAnchor:"middle"},Z):e==="insideTop"?Sa({x:p+d/2,y:l+C,horizontalAnchor:"middle",verticalAnchor:N},Z):e==="insideBottom"?Sa({x:v+f/2,y:l+u-C,horizontalAnchor:"middle",verticalAnchor:O},Z):e==="insideTopLeft"?Sa({x:p+j,y:l+C,horizontalAnchor:R,verticalAnchor:N},Z):e==="insideTopRight"?Sa({x:p+d-j,y:l+C,horizontalAnchor:z,verticalAnchor:N},Z):e==="insideBottomLeft"?Sa({x:v+j,y:l+u-C,horizontalAnchor:R,verticalAnchor:O},Z):e==="insideBottomRight"?Sa({x:v+f-j,y:l+u-C,horizontalAnchor:z,verticalAnchor:O},Z):e&&typeof e=="object"&&(Bt(e.x)||Rl(e.x))&&(Bt(e.y)||Rl(e.y))?Sa({x:s+Jr(e.x,x),y:l+Jr(e.y,u),horizontalAnchor:"end",verticalAnchor:"end"},Z):Sa({x:A,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},Z)},Pq=["labelRef"],Dq=["content"];function w2(n,t){if(n==null)return{};var e,i,r=kq(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function kq(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function S2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Kh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(e),!0).forEach(function(i){Lq(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):S2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Lq(n,t,e){return(t=Nq(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Nq(n){var t=jq(n,"string");return typeof t=="symbol"?t:t+""}function jq(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function hs(){return hs=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},hs.apply(null,arguments)}var cN=D.createContext(null),Rq=n=>{var{x:t,y:e,upperWidth:i,lowerWidth:r,width:s,height:l,children:u}=n,d=D.useMemo(()=>({x:t,y:e,upperWidth:i,lowerWidth:r,width:s,height:l}),[t,e,i,r,s,l]);return D.createElement(cN.Provider,{value:d},u)},uN=()=>{var n=D.useContext(cN),t=Sg();return n||(t?Ix(t):void 0)},Iq=D.createContext(null),zq=()=>{var n=D.useContext(Iq),t=$t(Fk);return n||t},Bq=n=>{var{value:t,formatter:e}=n,i=Gn(n.children)?t:n.children;return typeof e=="function"?e(i):i},$1=n=>n!=null&&typeof n=="function",Fq=(n,t)=>{var e=$i(t-n),i=Math.min(Math.abs(t-n),360);return e*i},Uq=(n,t,e,i,r)=>{var{offset:s,className:l}=n,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:v,endAngle:y,clockWise:x}=r,A=(f+p)/2,S=Fq(v,y),C=S>=0?1:-1,O,N;switch(t){case"insideStart":O=v+C*s,N=x;break;case"insideEnd":O=y-C*s,N=!x;break;case"end":O=y+C*s,N=x;break;default:throw new Error("Unsupported position ".concat(t))}N=S<=0?N:!N;var k=li(u,d,A,O),j=li(u,d,A,O+(N?1:-1)*359),z="M".concat(k.x,",").concat(k.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),R=Gn(n.id)?ad("recharts-radial-line-"):n.id;return D.createElement("text",hs({},i,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:R,d:z})),D.createElement("textPath",{xlinkHref:"#".concat(R)},e))},Hq=(n,t,e)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=n,f=(u+d)/2;if(e==="outside"){var{x:p,y:v}=li(i,r,l+t,f);return{x:p,y:v,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(e==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(e==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(e==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x,y:A}=li(i,r,y,f);return{x,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Qp=n=>n!=null&&"cx"in n&&Bt(n.cx),$q={angle:0,offset:5,zIndex:Si.label,position:"middle",textBreakAll:!1};function qq(n){if(!Qp(n))return n;var{cx:t,cy:e,outerRadius:i}=n,r=i*2;return{x:t-i,y:e-i,width:r,upperWidth:r,lowerWidth:r,height:r}}function bo(n){var t=Ei(n,$q),{viewBox:e,parentViewBox:i,position:r,value:s,children:l,content:u,className:d="",textBreakAll:f,labelRef:p}=t,v=zq(),y=uN(),x=r==="center"?y:v??y,A,S,C;e==null?A=x:Qp(e)?A=e:A=Ix(e);var O=qq(A);if(!A||Gn(s)&&Gn(l)&&!D.isValidElement(u)&&typeof u!="function")return null;var N=Kh(Kh({},t),{},{viewBox:A});if(D.isValidElement(u)){var{labelRef:k}=N,j=w2(N,Pq);return D.cloneElement(u,j)}if(typeof u=="function"){var{content:z}=N,R=w2(N,Dq);if(S=D.createElement(u,R),D.isValidElement(S))return S}else S=Bq(t);var F=Dr(t);if(Qp(A)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Uq(t,r,S,F,A);C=Hq(A,t.offset,t.position)}else{if(!O)return null;var q=Mq({viewBox:O,position:r,offset:t.offset,parentViewBox:Qp(i)?void 0:i});C=Kh(Kh({x:q.x,y:q.y,textAnchor:q.horizontalAnchor,verticalAnchor:q.verticalAnchor},q.width!==void 0?{width:q.width}:{}),q.height!==void 0?{height:q.height}:{})}return D.createElement(ks,{zIndex:t.zIndex},D.createElement(H1,hs({ref:p,className:Ge("recharts-label",d)},F,C,{textAnchor:xq(F.textAnchor)?F.textAnchor:C.textAnchor,breakAll:f}),S))}bo.displayName="Label";var Gq=(n,t,e)=>{if(!n)return null;var i={viewBox:t,labelRef:e};return n===!0?D.createElement(bo,hs({key:"label-implicit"},i)):ka(n)?D.createElement(bo,hs({key:"label-implicit",value:n},i)):D.isValidElement(n)?n.type===bo?D.cloneElement(n,Kh({key:"label-implicit"},i)):D.createElement(bo,hs({key:"label-implicit",content:n},i)):$1(n)?D.createElement(bo,hs({key:"label-implicit",content:n},i)):n&&typeof n=="object"?D.createElement(bo,hs({},n,{key:"label-implicit"},i)):null};function Wq(n){var{label:t,labelRef:e}=n,i=uN();return Gq(t,i,e)||null}var Nb={},jb={},A2;function Vq(){return A2||(A2=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e[e.length-1]}n.last=t})(jb)),jb}var Rb={},T2;function Yq(){return T2||(T2=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Array.isArray(e)?e:Array.from(e)}n.toArray=t})(Rb)),Rb}var E2;function Xq(){return E2||(E2=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Vq(),e=Yq(),i=Ex();function r(s){if(i.isArrayLike(s))return t.last(e.toArray(s))}n.last=r})(Nb)),Nb}var Ib,C2;function Zq(){return C2||(C2=1,Ib=Xq().last),Ib}var Kq=Zq();const Qq=Ra(Kq);var Jq=["valueAccessor"],tG=["dataKey","clockWise","id","textBreakAll","zIndex"];function qm(){return qm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qm.apply(null,arguments)}function O2(n,t){if(n==null)return{};var e,i,r=eG(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function eG(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var nG=n=>Array.isArray(n.value)?Qq(n.value):n.value,hN=D.createContext(void 0),iG=hN.Provider,dN=D.createContext(void 0);dN.Provider;function rG(){return D.useContext(hN)}function aG(){return D.useContext(dN)}function Jp(n){var{valueAccessor:t=nG}=n,e=O2(n,Jq),{dataKey:i,clockWise:r,id:s,textBreakAll:l,zIndex:u}=e,d=O2(e,tG),f=rG(),p=aG(),v=f||p;return!v||!v.length?null:D.createElement(ks,{zIndex:u??Si.label},D.createElement(vs,{className:"recharts-label-list"},v.map((y,x)=>{var A,S=Gn(i)?t(y,x):ci(y.payload,i),C=Gn(s)?{}:{id:"".concat(s,"-").concat(x)};return D.createElement(bo,qm({key:"label-".concat(x)},Dr(y),d,C,{fill:(A=e.fill)!==null&&A!==void 0?A:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:l,viewBox:y.viewBox,index:x,zIndex:0}))})))}Jp.displayName="LabelList";function sG(n){var{label:t}=n;return t?t===!0?D.createElement(Jp,{key:"labelList-implicit"}):D.isValidElement(t)||$1(t)?D.createElement(Jp,{key:"labelList-implicit",content:t}):typeof t=="object"?D.createElement(Jp,qm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var oG={radiusAxis:{},angleAxis:{}},fN=Wi({name:"polarAxis",initialState:oG,reducers:{addRadiusAxis(n,t){n.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(n,t){delete n.radiusAxis[t.payload.id]},addAngleAxis(n,t){n.angleAxis[t.payload.id]=t.payload},removeAngleAxis(n,t){delete n.angleAxis[t.payload.id]}}}),{addRadiusAxis:EK,removeRadiusAxis:CK,addAngleAxis:OK,removeAngleAxis:MK}=fN.actions,lG=fN.reducer;function cG(n){return n&&typeof n=="object"&&"className"in n&&typeof n.className=="string"?n.className:""}var zb={exports:{}},ze={};var M2;function uG(){if(M2)return ze;M2=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case n:switch(S=S.type,S){case e:case r:case i:case d:case f:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case v:case p:return S;case s:return S;default:return C}}case t:return C}}}return ze.ContextConsumer=s,ze.ContextProvider=l,ze.Element=n,ze.ForwardRef=u,ze.Fragment=e,ze.Lazy=v,ze.Memo=p,ze.Portal=t,ze.Profiler=r,ze.StrictMode=i,ze.Suspense=d,ze.SuspenseList=f,ze.isContextConsumer=function(S){return A(S)===s},ze.isContextProvider=function(S){return A(S)===l},ze.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},ze.isForwardRef=function(S){return A(S)===u},ze.isFragment=function(S){return A(S)===e},ze.isLazy=function(S){return A(S)===v},ze.isMemo=function(S){return A(S)===p},ze.isPortal=function(S){return A(S)===t},ze.isProfiler=function(S){return A(S)===r},ze.isStrictMode=function(S){return A(S)===i},ze.isSuspense=function(S){return A(S)===d},ze.isSuspenseList=function(S){return A(S)===f},ze.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===e||S===r||S===i||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===v||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===u||S.$$typeof===x||S.getModuleId!==void 0)},ze.typeOf=A,ze}var P2;function hG(){return P2||(P2=1,zb.exports=uG()),zb.exports}var dG=hG(),D2=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",k2=null,Bb=null,pN=n=>{if(n===k2&&Array.isArray(Bb))return Bb;var t=[];return D.Children.forEach(n,e=>{Gn(e)||(dG.isFragment(e)?t=t.concat(pN(e.props.children)):t.push(e))}),Bb=t,k2=n,t};function fG(n,t){var e=[],i=[];return Array.isArray(t)?i=t.map(r=>D2(r)):i=[D2(t)],pN(n).forEach(r=>{var s=au(r,"type.displayName")||au(r,"type.name");s&&i.indexOf(s)!==-1&&e.push(r)}),e}var Fb={},L2;function pG(){return L2||(L2=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${r}]`}let i=e;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(e)===i}n.isPlainObject=t})(Fb)),Fb}var Ub,N2;function mG(){return N2||(N2=1,Ub=pG().isPlainObject),Ub}var gG=mG();const vG=Ra(gG);var j2,R2,I2,z2,B2;function F2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function U2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(e),!0).forEach(function(i){yG(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):F2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function yG(n,t,e){return(t=bG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function bG(n){var t=_G(n,"string");return typeof t=="symbol"?t:t+""}function _G(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Gm.apply(null,arguments)}function Hh(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var H2=(n,t,e,i,r)=>{var s=e-i,l;return l=dn(j2||(j2=Hh(["M ",",",""])),n,t),l+=dn(R2||(R2=Hh(["L ",",",""])),n+e,t),l+=dn(I2||(I2=Hh(["L ",",",""])),n+e-s/2,t+r),l+=dn(z2||(z2=Hh(["L ",",",""])),n+e-s/2-i,t+r),l+=dn(B2||(B2=Hh(["L ",","," Z"])),n,t),l},xG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wG=n=>{var t=Ei(n,xG),{x:e,y:i,upperWidth:r,lowerWidth:s,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:v}=t,y=D.useRef(null),[x,A]=D.useState(-1),S=D.useRef(r),C=D.useRef(s),O=D.useRef(l),N=D.useRef(e),k=D.useRef(i),j=$x(n,"trapezoid-");if(D.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var _t=y.current.getTotalLength();_t&&A(_t)}catch{}},[]),e!==+e||i!==+i||r!==+r||s!==+s||l!==+l||r===0&&s===0||l===0)return null;var z=Ge("recharts-trapezoid",u);if(!v)return D.createElement("g",null,D.createElement("path",Gm({},Dr(t),{className:z,d:H2(e,i,r,s,l)})));var R=S.current,F=C.current,q=O.current,J=N.current,ct=k.current,et="0px ".concat(x===-1?1:x,"px"),Z="".concat(x,"px 0px"),Ct=DD(["strokeDasharray"],f,d);return D.createElement(Hx,{animationId:j,key:j,canBegin:x>0,duration:f,easing:d,isActive:v,begin:p},_t=>{var kt=si(R,r,_t),G=si(F,s,_t),K=si(q,l,_t),V=si(J,e,_t),Pt=si(ct,i,_t);y.current&&(S.current=kt,C.current=G,O.current=K,N.current=V,k.current=Pt);var yt=_t>0?{transition:Ct,strokeDasharray:Z}:{strokeDasharray:et};return D.createElement("path",Gm({},Dr(t),{className:z,d:H2(V,Pt,kt,G,K),ref:y,style:U2(U2({},yt),t.style)}))})},SG=["option","shapeType","activeClassName"];function AG(n,t){if(n==null)return{};var e,i,r=TG(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function TG(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function $2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Wm(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(e),!0).forEach(function(i){EG(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function EG(n,t,e){return(t=CG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function CG(n){var t=OG(n,"string");return typeof t=="symbol"?t:t+""}function OG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function MG(n,t){return Wm(Wm({},t),n)}function PG(n,t){return n==="symbols"}function q2(n){var{shapeType:t,elementProps:e}=n;switch(t){case"rectangle":return D.createElement(jD,e);case"trapezoid":return D.createElement(wG,e);case"sector":return D.createElement(zD,e);case"symbols":if(PG(t))return D.createElement(Tx,e);break;case"curve":return D.createElement(PD,e);default:return null}}function DG(n){return D.isValidElement(n)?n.props:n}function kG(n){var{option:t,shapeType:e,activeClassName:i="recharts-active-shape"}=n,r=AG(n,SG),s;if(D.isValidElement(t))s=D.cloneElement(t,Wm(Wm({},r),DG(t)));else if(typeof t=="function")s=t(r,r.index);else if(vG(t)&&typeof t!="boolean"){var l=MG(t,r);s=D.createElement(q2,{shapeType:e,elementProps:l})}else{var u=r;s=D.createElement(q2,{shapeType:e,elementProps:u})}return r.isActive?D.createElement(vs,{className:i},s):s}var mN=(n,t,e)=>{var i=sn();return(r,s)=>l=>{n?.(r,s,l),i(ML({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:e}))}},gN=n=>{var t=sn();return(e,i)=>r=>{n?.(e,i,r),t(qH())}},vN=(n,t,e)=>{var i=sn();return(r,s)=>l=>{n?.(r,s,l),i(GH({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:e}))}};function LG(n){var{tooltipEntrySettings:t}=n,e=sn(),i=Vi(),r=D.useRef(null);return D.useLayoutEffect(()=>{i||(r.current===null?e(FH(t)):r.current!==t&&e(UH({prev:r.current,next:t})),r.current=t)},[t,e,i]),D.useLayoutEffect(()=>()=>{r.current&&(e(HH(r.current)),r.current=null)},[e]),null}function NG(n){var{legendPayload:t}=n,e=sn(),i=Vi(),r=D.useRef(null);return D.useLayoutEffect(()=>{i||(r.current===null?e(oF(t)):r.current!==t&&e(lF({prev:r.current,next:t})),r.current=t)},[e,i,t]),D.useLayoutEffect(()=>()=>{r.current&&(e(cF(r.current)),r.current=null)},[e]),null}var Hb,jG=()=>{var[n]=D.useState(()=>ad("uid-"));return n},RG=(Hb=eI.useId)!==null&&Hb!==void 0?Hb:jG;function IG(n,t){var e=RG();return t||(n?"".concat(n,"-").concat(e):e)}var zG=D.createContext(void 0),BG=n=>{var{id:t,type:e,children:i}=n,r=IG("recharts-".concat(e),t);return D.createElement(zG.Provider,{value:r},i(r))},FG={cartesianItems:[],polarItems:[]},yN=Wi({name:"graphicalItems",initialState:FG,reducers:{addCartesianGraphicalItem:{reducer(n,t){n.cartesianItems.push(t.payload)},prepare:tn()},replaceCartesianGraphicalItem:{reducer(n,t){var{prev:e,next:i}=t.payload,r=Qr(n).cartesianItems.indexOf(e);r>-1&&(n.cartesianItems[r]=i)},prepare:tn()},removeCartesianGraphicalItem:{reducer(n,t){var e=Qr(n).cartesianItems.indexOf(t.payload);e>-1&&n.cartesianItems.splice(e,1)},prepare:tn()},addPolarGraphicalItem:{reducer(n,t){n.polarItems.push(t.payload)},prepare:tn()},removePolarGraphicalItem:{reducer(n,t){var e=Qr(n).polarItems.indexOf(t.payload);e>-1&&n.polarItems.splice(e,1)},prepare:tn()}}}),{addCartesianGraphicalItem:UG,replaceCartesianGraphicalItem:HG,removeCartesianGraphicalItem:$G,addPolarGraphicalItem:PK,removePolarGraphicalItem:DK}=yN.actions,qG=yN.reducer,GG=n=>{var t=sn(),e=D.useRef(null);return D.useLayoutEffect(()=>{e.current===null?t(UG(n)):e.current!==n&&t(HG({prev:e.current,next:n})),e.current=n},[t,n]),D.useLayoutEffect(()=>()=>{e.current&&(t($G(e.current)),e.current=null)},[t]),null},WG=D.memo(GG);function G2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function W2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(e),!0).forEach(function(i){VG(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):G2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function VG(n,t,e){return(t=YG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function YG(n){var t=XG(n,"string");return typeof t=="symbol"?t:t+""}function XG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var bN=0,ZG={xAxis:{},yAxis:{},zAxis:{}},_N=Wi({name:"cartesianAxis",initialState:ZG,reducers:{addXAxis:{reducer(n,t){n.xAxis[t.payload.id]=t.payload},prepare:tn()},replaceXAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.xAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.xAxis[e.id],n.xAxis[i.id]=i)},prepare:tn()},removeXAxis:{reducer(n,t){delete n.xAxis[t.payload.id]},prepare:tn()},addYAxis:{reducer(n,t){n.yAxis[t.payload.id]=t.payload},prepare:tn()},replaceYAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.yAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.yAxis[e.id],n.yAxis[i.id]=i)},prepare:tn()},removeYAxis:{reducer(n,t){delete n.yAxis[t.payload.id]},prepare:tn()},addZAxis:{reducer(n,t){n.zAxis[t.payload.id]=t.payload},prepare:tn()},replaceZAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.zAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.zAxis[e.id],n.zAxis[i.id]=i)},prepare:tn()},removeZAxis:{reducer(n,t){delete n.zAxis[t.payload.id]},prepare:tn()},updateYAxisWidth(n,t){var{id:e,width:i}=t.payload,r=n.yAxis[e];if(r){var s,l=r.widthHistory||[];if(l.length===3&&l[0]===l[2]&&i===l[1]&&i!==r.width&&Math.abs(i-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...l,i].slice(-3);n.yAxis[e]=W2(W2({},r),{},{width:i,widthHistory:u})}}}}),{addXAxis:KG,replaceXAxis:QG,removeXAxis:JG,addYAxis:tW,replaceYAxis:eW,removeYAxis:nW,addZAxis:kK,replaceZAxis:LK,removeZAxis:NK,updateYAxisWidth:iW}=_N.actions,rW=_N.reducer,aW=lt([Vn],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),sW=lt([aW,Ts,Es],(n,t,e)=>{if(!(!n||t==null||e==null))return{x:n.left,y:n.top,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}}),xN=()=>$t(sW),V2=(n,t,e)=>{var i=e??n;if(!Gn(i))return Jr(i,t,0)},oW=(n,t,e)=>{var i={},r=n.filter(Bg),s=n.filter(f=>f.stackId==null),l=r.reduce((f,p)=>{var v=f[p.stackId];return v==null&&(v=[]),v.push(p),f[p.stackId]=v,f},i),u=Object.entries(l).map(f=>{var p,[v,y]=f,x=y.map(S=>S.dataKey),A=V2(t,e,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:v,dataKeys:x,barSize:A}}),d=s.map(f=>{var p=[f.dataKey].filter(y=>y!=null),v=V2(t,e,f.barSize);return{stackId:void 0,dataKeys:p,barSize:v}});return[...u,...d]};function Y2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function jp(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(e),!0).forEach(function(i){lW(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Y2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function lW(n,t,e){return(t=cW(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cW(n){var t=uW(n,"string");return typeof t=="symbol"?t:t+""}function uW(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function hW(n,t,e,i,r){var s,l=i.length;if(!(l<1)){var u=Jr(n,e,0,!0),d,f=[];if(ye((s=i[0])===null||s===void 0?void 0:s.barSize)){var p=!1,v=e/l,y=i.reduce((N,k)=>N+(k.barSize||0),0);y+=(l-1)*u,y>=e&&(y-=(l-1)*u,u=0),y>=e&&v>0&&(p=!0,v*=.9,y=l*v);var x=(e-y)/2>>0,A={offset:x-u,size:0};d=i.reduce((N,k)=>{var j,z={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:A.offset+A.size+u,size:p?v:(j=k.barSize)!==null&&j!==void 0?j:0}},R=[...N,z];return A=z.position,R},f)}else{var S=Jr(t,e,0,!0);e-2*S-(l-1)*u<=0&&(u=0);var C=(e-2*S-(l-1)*u)/l;C>1&&(C>>=0);var O=ye(r)?Math.min(C,r):C;d=i.reduce((N,k,j)=>[...N,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:S+(C+u)*j+(C-O)/2,size:O}}],f)}return d}}var dW=(n,t,e,i,r,s,l)=>{var u=Gn(l)?t:l,d=hW(e,i,r!==s?r:s,n,u);return r!==s&&d!=null&&(d=d.map(f=>jp(jp({},f),{},{position:jp(jp({},f.position),{},{offset:f.position.offset-r/2})}))),d},fW=(n,t)=>{var e=x1(t);if(!(!n||e==null||t==null)){var{stackId:i}=t;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(l=>l.key===e)}}}},pW=(n,t)=>{if(!(n==null||t==null)){var e=n.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(e!=null)return e.position}};function mW(n,t){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&ye(n.zIndex)?n.zIndex:t}var gW=n=>{var{chartData:t}=n,e=sn(),i=Vi();return D.useEffect(()=>i?()=>{}:(e(s2(t)),()=>{e(s2(void 0))}),[t,e,i]),null},X2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wN=Wi({name:"brush",initialState:X2,reducers:{setBrushSettings(n,t){return t.payload==null?X2:t.payload}}}),{setBrushSettings:jK}=wN.actions,vW=wN.reducer;function yW(n){return(n%180+180)%180}var bW=function(t){var{width:e,height:i}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=yW(r),l=s*Math.PI/180,u=Math.atan(i/e),d=l>u&&l<Math.PI-u?i/Math.sin(l):e/Math.cos(l);return Math.abs(d)},_W={dots:[],areas:[],lines:[]},SN=Wi({name:"referenceElements",initialState:_W,reducers:{addDot:(n,t)=>{n.dots.push(t.payload)},removeDot:(n,t)=>{var e=Qr(n).dots.findIndex(i=>i===t.payload);e!==-1&&n.dots.splice(e,1)},addArea:(n,t)=>{n.areas.push(t.payload)},removeArea:(n,t)=>{var e=Qr(n).areas.findIndex(i=>i===t.payload);e!==-1&&n.areas.splice(e,1)},addLine:(n,t)=>{n.lines.push(t.payload)},removeLine:(n,t)=>{var e=Qr(n).lines.findIndex(i=>i===t.payload);e!==-1&&n.lines.splice(e,1)}}}),{addDot:RK,removeDot:IK,addArea:zK,removeArea:BK,addLine:FK,removeLine:UK}=SN.actions,xW=SN.reducer,wW=D.createContext(void 0),SW=n=>{var{children:t}=n,[e]=D.useState("".concat(ad("recharts"),"-clip")),i=xN();if(i==null)return null;var{x:r,y:s,width:l,height:u}=i;return D.createElement(wW.Provider,{value:e},D.createElement("defs",null,D.createElement("clipPath",{id:e},D.createElement("rect",{x:r,y:s,height:u,width:l}))),t)};function AN(n,t){if(t<1)return[];if(t===1)return n;for(var e=[],i=0;i<n.length;i+=t){var r=n[i];r!==void 0&&e.push(r)}return e}function AW(n,t,e){var i={width:n.width+t.width,height:n.height+t.height};return bW(i,e)}function TW(n,t,e){var i=e==="width",{x:r,y:s,width:l,height:u}=n;return t===1?{start:i?r:s,end:i?r+l:s+u}:{start:i?r+l:s+u,end:i?r:s}}function bd(n,t,e,i,r){if(n*t<n*i||n*t>n*r)return!1;var s=e();return n*(t-n*s/2-i)>=0&&n*(t+n*s/2-r)<=0}function EW(n,t){return AN(n,t+1)}function CW(n,t,e,i,r){for(var s=(i||[]).slice(),{start:l,end:u}=t,d=0,f=1,p=l,v=function(){var A=i?.[d];if(A===void 0)return{v:AN(i,f)};var S=d,C,O=()=>(C===void 0&&(C=e(A,S)),C),N=A.coordinate,k=d===0||bd(n,N,O,p,u);k||(d=0,p=l,f+=1),k&&(p=N+n*(O()/2+r),d+=f)},y;f<=s.length;)if(y=v(),y)return y.v;return[]}function OW(n,t,e,i,r){var s=(i||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=t,f=1;f<=l;f++){for(var p=(l-1)%f,v=u,y=!0,x=function(){var j=i[S];if(j==null)return 0;var z=S,R,F=()=>(R===void 0&&(R=e(j,z)),R),q=j.coordinate,J=S===p||bd(n,q,F,v,d);if(!J)return y=!1,1;J&&(v=q+n*(F()/2+r))},A,S=p;S<l&&(A=x(),!(A!==0&&A===1));S+=f);if(y){for(var C=[],O=p;O<l;O+=f){var N=i[O];N!=null&&C.push(N)}return C}}return[]}function Z2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function pi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(e),!0).forEach(function(i){MW(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Z2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function MW(n,t,e){return(t=PW(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function PW(n){var t=DW(n,"string");return typeof t=="symbol"?t:t+""}function DW(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function kW(n,t,e,i,r){for(var s=(i||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,f=function(y){var x=s[y];if(x==null)return 1;var A=x,S,C=()=>(S===void 0&&(S=e(x,y)),S);if(y===l-1){var O=n*(A.coordinate+n*C()/2-d);s[y]=A=pi(pi({},A),{},{tickCoord:O>0?A.coordinate-O*n:A.coordinate})}else s[y]=A=pi(pi({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var N=bd(n,A.tickCoord,C,u,d);N&&(d=A.tickCoord-n*(C()/2+r),s[y]=pi(pi({},A),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return s}function LW(n,t,e,i,r,s){var l=(i||[]).slice(),u=l.length,{start:d,end:f}=t;if(s){var p=i[u-1];if(p!=null){var v=e(p,u-1),y=n*(p.coordinate+n*v/2-f);if(l[u-1]=p=pi(pi({},p),{},{tickCoord:y>0?p.coordinate-y*n:p.coordinate}),p.tickCoord!=null){var x=bd(n,p.tickCoord,()=>v,d,f);x&&(f=p.tickCoord-n*(v/2+r),l[u-1]=pi(pi({},p),{},{isShow:!0}))}}}for(var A=s?u-1:u,S=function(N){var k=l[N];if(k==null)return 1;var j=k,z,R=()=>(z===void 0&&(z=e(k,N)),z);if(N===0){var F=n*(j.coordinate-n*R()/2-d);l[N]=j=pi(pi({},j),{},{tickCoord:F<0?j.coordinate-F*n:j.coordinate})}else l[N]=j=pi(pi({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var q=bd(n,j.tickCoord,R,d,f);q&&(d=j.tickCoord+n*(R()/2+r),l[N]=pi(pi({},j),{},{isShow:!0}))}},C=0;C<A;C++)S(C);return l}function q1(n,t,e){var{tick:i,ticks:r,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:p,angle:v}=n;if(!r||!r.length||!i)return[];if(Bt(d)||Cg.isSsr){var y;return(y=EW(r,Bt(d)?d:0))!==null&&y!==void 0?y:[]}var x=[],A=u==="top"||u==="bottom"?"width":"height",S=p&&A==="width"?nd(p,{fontSize:t,letterSpacing:e}):{width:0,height:0},C=(z,R)=>{var F=typeof f=="function"?f(z.value,R):z.value;return A==="width"?AW(nd(F,{fontSize:t,letterSpacing:e}),S,v):nd(F,{fontSize:t,letterSpacing:e})[A]},O=r[0],N=r[1],k=r.length>=2&&O!=null&&N!=null?$i(N.coordinate-O.coordinate):1,j=TW(s,k,A);return d==="equidistantPreserveStart"?CW(k,j,C,r,l):d==="equidistantPreserveEnd"?OW(k,j,C,r,l):(d==="preserveStart"||d==="preserveStartEnd"?x=LW(k,j,C,r,l,d==="preserveStartEnd"):x=kW(k,j,C,r,l),x.filter(z=>z.isShow))}var NW=n=>{var{ticks:t,label:e,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,l=0;if(t){Array.from(t).forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>l&&(l=v.width)}});var u=e?e.getBoundingClientRect().width:0,d=r+s,f=l+d+u+(e?i:0);return Math.round(f)}return 0},jW=["axisLine","width","height","className","hide","ticks","axisType"];function RW(n,t){if(n==null)return{};var e,i,r=IW(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function IW(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function Ul(){return Ul=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ul.apply(null,arguments)}function K2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function hn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(e),!0).forEach(function(i){zW(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):K2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function zW(n,t,e){return(t=BW(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function BW(n){var t=FW(n,"string");return typeof t=="symbol"?t:t+""}function FW(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var ms={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Si.axis};function UW(n){var{x:t,y:e,width:i,height:r,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=n;if(!u)return null;var f=hn(hn(hn({},d),gs(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);f=hn(hn({},f),{},{x1:t,y1:e+p*r,x2:t+i,y2:e+p*r})}else{var v=+(s==="left"&&!l||s==="right"&&l);f=hn(hn({},f),{},{x1:t+v*i,y1:e,x2:t+v*i,y2:e+r})}return D.createElement("line",Ul({},f,{className:Ge("recharts-cartesian-axis-line",au(u,"className"))}))}function HW(n,t,e,i,r,s,l,u,d){var f,p,v,y,x,A,S=u?-1:1,C=n.tickSize||l,O=Bt(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":f=p=n.coordinate,y=e+ +!u*r,v=y-S*C,A=v-S*d,x=O;break;case"left":v=y=n.coordinate,p=t+ +!u*i,f=p-S*C,x=f-S*d,A=O;break;case"right":v=y=n.coordinate,p=t+ +u*i,f=p+S*C,x=f+S*d,A=O;break;default:f=p=n.coordinate,y=e+ +u*r,v=y+S*C,A=v+S*d,x=O;break}return{line:{x1:f,y1:v,x2:p,y2:y},tick:{x,y:A}}}function $W(n,t){switch(n){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function qW(n,t){switch(n){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function GW(n){var{option:t,tickProps:e,value:i}=n,r,s=Ge(e.className,"recharts-cartesian-axis-tick-value");if(D.isValidElement(t))r=D.cloneElement(t,hn(hn({},e),{},{className:s}));else if(typeof t=="function")r=t(hn(hn({},e),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ge(l,cG(t))),r=D.createElement(H1,Ul({},e,{className:l}),i)}return r}var WW=D.forwardRef((n,t)=>{var{ticks:e=[],tick:i,tickLine:r,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:p,mirror:v,x:y,y:x,width:A,height:S,tickSize:C,tickMargin:O,fontSize:N,letterSpacing:k,getTicksConfig:j,events:z,axisType:R}=n,F=q1(hn(hn({},j),{},{ticks:e}),N,k),q=$W(p,v),J=qW(p,v),ct=gs(j),et=vx(i),Z={};typeof r=="object"&&(Z=r);var Ct=hn(hn({},ct),{},{fill:"none"},Z),_t=F.map(K=>hn({entry:K},HW(K,y,x,A,S,p,C,v,O))),kt=_t.map(K=>{var{entry:V,line:Pt}=K;return D.createElement(vs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},r&&D.createElement("line",Ul({},Ct,Pt,{className:Ge("recharts-cartesian-axis-tick-line",au(r,"className"))})))}),G=_t.map((K,V)=>{var Pt,yt,{entry:H,tick:it}=K,dt=hn(hn(hn(hn({verticalAnchor:J},ct),{},{textAnchor:q,stroke:"none",fill:s},it),{},{index:V,payload:H,visibleTicksCount:F.length,tickFormatter:l,padding:d},f),{},{angle:(Pt=(yt=f?.angle)!==null&&yt!==void 0?yt:ct.angle)!==null&&Pt!==void 0?Pt:0}),bt=hn(hn({},dt),et);return D.createElement(vs,Ul({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},lg(z,H,V)),i&&D.createElement(GW,{option:i,tickProps:bt,value:"".concat(typeof l=="function"?l(H.value,V):H.value).concat(u||"")}))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},G.length>0&&D.createElement(ks,{zIndex:Si.label},D.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},G)),kt.length>0&&D.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},kt))}),VW=D.forwardRef((n,t)=>{var{axisLine:e,width:i,height:r,className:s,hide:l,ticks:u,axisType:d}=n,f=RW(n,jW),[p,v]=D.useState(""),[y,x]=D.useState(""),A=D.useRef(null);D.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var C;return NW({ticks:A.current,label:(C=n.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var S=D.useCallback(C=>{if(C){var O=C.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=O;var N=O[0];if(N){var k=window.getComputedStyle(N),j=k.fontSize,z=k.letterSpacing;(j!==p||z!==y)&&(v(j),x(z))}}},[p,y]);return l||i!=null&&i<=0||r!=null&&r<=0?null:D.createElement(ks,{zIndex:n.zIndex},D.createElement(vs,{className:Ge("recharts-cartesian-axis",s)},D.createElement(UW,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:e,otherSvgProps:gs(n)}),D.createElement(WW,{ref:S,axisType:d,events:f,fontSize:p,getTicksConfig:n,height:n.height,letterSpacing:y,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:u,unit:n.unit,width:n.width,x:n.x,y:n.y}),D.createElement(Rq,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},D.createElement(Wq,{label:n.label,labelRef:n.labelRef}),n.children)))}),G1=D.forwardRef((n,t)=>{var e=Ei(n,ms);return D.createElement(VW,Ul({},e,{ref:t}))});G1.displayName="CartesianAxis";var YW=["x1","y1","x2","y2","key"],XW=["offset"],ZW=["xAxisId","yAxisId"],KW=["xAxisId","yAxisId"];function Q2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function mi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(e),!0).forEach(function(i){QW(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Q2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function QW(n,t,e){return(t=JW(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function JW(n){var t=t9(n,"string");return typeof t=="symbol"?t:t+""}function t9(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Cl.apply(null,arguments)}function Vm(n,t){if(n==null)return{};var e,i,r=e9(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function e9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var n9=n=>{var{fill:t}=n;if(!t||t==="none")return null;var{fillOpacity:e,x:i,y:r,width:s,height:l,ry:u}=n;return D.createElement("rect",{x:i,y:r,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:e,className:"recharts-cartesian-grid-bg"})};function TN(n){var{option:t,lineItemProps:e}=n,i;if(D.isValidElement(t))i=D.cloneElement(t,e);else if(typeof t=="function")i=t(e);else{var r,{x1:s,y1:l,x2:u,y2:d,key:f}=e,p=Vm(e,YW),v=(r=gs(p))!==null&&r!==void 0?r:{},{offset:y}=v,x=Vm(v,XW);i=D.createElement("line",Cl({},x,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:f}))}return i}function i9(n){var{x:t,width:e,horizontal:i=!0,horizontalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:s,yAxisId:l}=n,u=Vm(n,ZW),d=r.map((f,p)=>{var v=mi(mi({},u),{},{x1:t,y1:f,x2:t+e,y2:f,key:"line-".concat(p),index:p});return D.createElement(TN,{key:"line-".concat(p),option:i,lineItemProps:v})});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function r9(n){var{y:t,height:e,vertical:i=!0,verticalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:s,yAxisId:l}=n,u=Vm(n,KW),d=r.map((f,p)=>{var v=mi(mi({},u),{},{x1:f,y1:t,x2:f,y2:t+e,key:"line-".concat(p),index:p});return D.createElement(TN,{option:i,lineItemProps:v,key:"line-".concat(p)})});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function a9(n){var{horizontalFill:t,fillOpacity:e,x:i,y:r,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=n;if(!d||!t||!t.length||u==null)return null;var f=u.map(v=>Math.round(v+r-r)).sort((v,y)=>v-y);r!==f[0]&&f.unshift(0);var p=f.map((v,y)=>{var x=f[y+1],A=x==null,S=A?r+l-v:x-v;if(S<=0)return null;var C=y%t.length;return D.createElement("rect",{key:"react-".concat(y),y:v,x:i,height:S,width:s,stroke:"none",fill:t[C],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function s9(n){var{vertical:t=!0,verticalFill:e,fillOpacity:i,x:r,y:s,width:l,height:u,verticalPoints:d}=n;if(!t||!e||!e.length)return null;var f=d.map(v=>Math.round(v+r-r)).sort((v,y)=>v-y);r!==f[0]&&f.unshift(0);var p=f.map((v,y)=>{var x=f[y+1],A=x==null,S=A?r+l-v:x-v;if(S<=0)return null;var C=y%e.length;return D.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:S,height:u,stroke:"none",fill:e[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var o9=(n,t)=>{var{xAxis:e,width:i,height:r,offset:s}=n;return hD(q1(mi(mi(mi({},ms),e),{},{ticks:dD(e),viewBox:{x:0,y:0,width:i,height:r}})),s.left,s.left+s.width,t)},l9=(n,t)=>{var{yAxis:e,width:i,height:r,offset:s}=n;return hD(q1(mi(mi(mi({},ms),e),{},{ticks:dD(e),viewBox:{x:0,y:0,width:i,height:r}})),s.top,s.top+s.height,t)},c9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Si.grid};function EN(n){var t=zx(),e=Bx(),i=yD(),r=mi(mi({},Ei(n,c9)),{},{x:Bt(n.x)?n.x:i.left,y:Bt(n.y)?n.y:i.top,width:Bt(n.width)?n.width:i.width,height:Bt(n.height)?n.height:i.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:f,height:p,syncWithTicks:v,horizontalValues:y,verticalValues:x}=r,A=Vi(),S=$t(J=>YO(J,"xAxis",s,A)),C=$t(J=>YO(J,"yAxis",l,A));if(!La(f)||!La(p)||!Bt(u)||!Bt(d))return null;var O=r.verticalCoordinatesGenerator||o9,N=r.horizontalCoordinatesGenerator||l9,{horizontalPoints:k,verticalPoints:j}=r;if((!k||!k.length)&&typeof N=="function"){var z=y&&y.length,R=N({yAxis:C?mi(mi({},C),{},{ticks:z?y:C.ticks}):void 0,width:t??f,height:e??p,offset:i},z?!0:v);_m(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(k=R)}if((!j||!j.length)&&typeof O=="function"){var F=x&&x.length,q=O({xAxis:S?mi(mi({},S),{},{ticks:F?x:S.ticks}):void 0,width:t??f,height:e??p,offset:i},F?!0:v);_m(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(j=q)}return D.createElement(ks,{zIndex:r.zIndex},D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(n9,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),D.createElement(a9,Cl({},r,{horizontalPoints:k})),D.createElement(s9,Cl({},r,{verticalPoints:j})),D.createElement(i9,Cl({},r,{offset:i,horizontalPoints:k,xAxis:S,yAxis:C})),D.createElement(r9,Cl({},r,{offset:i,verticalPoints:j,xAxis:S,yAxis:C}))))}EN.displayName="CartesianGrid";var u9={},CN=Wi({name:"errorBars",initialState:u9,reducers:{addErrorBar:(n,t)=>{var{itemId:e,errorBar:i}=t.payload;n[e]||(n[e]=[]),n[e].push(i)},replaceErrorBar:(n,t)=>{var{itemId:e,prev:i,next:r}=t.payload;n[e]&&(n[e]=n[e].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,t)=>{var{itemId:e,errorBar:i}=t.payload;n[e]&&(n[e]=n[e].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:HK,replaceErrorBar:$K,removeErrorBar:qK}=CN.actions,h9=CN.reducer,d9=["children"];function f9(n,t){if(n==null)return{};var e,i,r=p9(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function p9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var m9={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},g9=D.createContext(m9);function v9(n){var{children:t}=n,e=f9(n,d9);return D.createElement(g9.Provider,{value:e},t)}function ON(n,t){var e,i,r=$t(f=>Ms(f,n)),s=$t(f=>Ps(f,t)),l=(e=r?.allowDataOverflow)!==null&&e!==void 0?e:Fn.allowDataOverflow,u=(i=s?.allowDataOverflow)!==null&&i!==void 0?i:Un.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function y9(n){var{xAxisId:t,yAxisId:e,clipPathId:i}=n,r=xN(),{needClipX:s,needClipY:l,needClip:u}=ON(t,e);if(!u||!r)return null;var{x:d,y:f,width:p,height:v}=r;return D.createElement("clipPath",{id:"clipPath-".concat(i)},D.createElement("rect",{x:s?d:d-p/2,y:l?f:f-v/2,width:s?p:p*2,height:l?v:v*2}))}var $b={exports:{}},qb={};var J2;function b9(){if(J2)return qb;J2=1;var n=gu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,l=n.useMemo,u=n.useDebugValue;return qb.useSyncExternalStoreWithSelector=function(d,f,p,v,y){var x=r(null);if(x.current===null){var A={hasValue:!1,value:null};x.current=A}else A=x.current;x=l(function(){function C(z){if(!O){if(O=!0,N=z,z=v(z),y!==void 0&&A.hasValue){var R=A.value;if(y(R,z))return k=R}return k=z}if(R=k,e(N,z))return R;var F=v(z);return y!==void 0&&y(R,F)?(N=z,R):(N=z,k=F)}var O=!1,N,k,j=p===void 0?null:p;return[function(){return C(f())},j===null?void 0:function(){return C(j())}]},[f,p,v,y]);var S=i(d,x[0],x[1]);return s(function(){A.hasValue=!0,A.value=S},[S]),u(S),S},qb}var tM;function _9(){return tM||(tM=1,$b.exports=b9()),$b.exports}_9();function x9(n){n()}function w9(){let n=null,t=null;return{clear(){n=null,t=null},notify(){x9(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var eM={notify(){},get:()=>[]};function S9(n,t){let e,i=eM,r=0,s=!1;function l(S){p();const C=i.subscribe(S);let O=!1;return()=>{O||(O=!0,C(),v())}}function u(){i.notify()}function d(){A.onStateChange&&A.onStateChange()}function f(){return s}function p(){r++,e||(e=n.subscribe(d),i=w9())}function v(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=eM)}function y(){s||(s=!0,p())}function x(){s&&(s=!1,v())}const A={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>i};return A}var A9=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T9=A9(),E9=()=>typeof navigator<"u"&&navigator.product==="ReactNative",C9=E9(),O9=()=>T9||C9?D.useLayoutEffect:D.useEffect,M9=O9();function nM(n,t){return n===t?n!==0||t!==0||1/n===1/t:n!==n&&t!==t}function P9(n,t){if(nM(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(t,e[r])||!nM(n[e[r]],t[e[r]]))return!1;return!0}var D9=Symbol.for("react-redux-context"),k9=typeof globalThis<"u"?globalThis:{};function L9(){if(!D.createContext)return{};const n=k9[D9]??=new Map;let t=n.get(D.createContext);return t||(t=D.createContext(null),n.set(D.createContext,t)),t}var N9=L9();function j9(n){const{children:t,context:e,serverState:i,store:r}=n,s=D.useMemo(()=>{const d=S9(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),l=D.useMemo(()=>r.getState(),[r]);M9(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=e||N9;return D.createElement(u.Provider,{value:s},t)}var R9=j9,I9=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function z9(n,t){return n==null&&t==null?!0:typeof n=="number"&&typeof t=="number"?n===t||n!==n&&t!==t:n===t}function W1(n,t){var e=new Set([...Object.keys(n),...Object.keys(t)]);for(var i of e)if(I9.has(i)){if(n[i]==null&&t[i]==null)continue;if(!P9(n[i],t[i]))return!1}else if(!z9(n[i],t[i]))return!1;return!0}function Wl(n,t){var e,i;return(e=(i=n.graphicalItems.cartesianItems.find(r=>r.id===t))===null||i===void 0?void 0:i.xAxisId)!==null&&e!==void 0?e:bN}function Vl(n,t){var e,i;return(e=(i=n.graphicalItems.cartesianItems.find(r=>r.id===t))===null||i===void 0?void 0:i.yAxisId)!==null&&e!==void 0?e:bN}var B9="Invariant failed";function F9(n,t){throw new Error(B9)}function V_(){return V_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},V_.apply(null,arguments)}function Ym(n){return D.createElement(kG,V_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},n))}var U9=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(Bt(t))return t;var s=Bt(i)||Gn(i);return s?t(i,r):(s||F9(),e)}},H9=(n,t,e)=>e,$9=(n,t)=>t,Ud=lt([S1,$9],(n,t)=>n.filter(e=>e.type==="bar").find(e=>e.id===t)),q9=lt([Ud],n=>n?.maxBarSize),G9=(n,t,e,i)=>i,W9=lt([$e,S1,Wl,Vl,H9],(n,t,e,i,r)=>t.filter(s=>n==="horizontal"?s.xAxisId===e:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),V9=(n,t,e)=>{var i=$e(n),r=Wl(n,t),s=Vl(n,t);if(!(r==null||s==null))return i==="horizontal"?U_(n,"yAxis",s,e):U_(n,"xAxis",r,e)},Y9=(n,t)=>{var e=$e(n),i=Wl(n,t),r=Vl(n,t);if(!(i==null||r==null))return e==="horizontal"?VO(n,"xAxis",i):VO(n,"yAxis",r)},X9=lt([W9,MU,Y9],oW),Z9=(n,t,e)=>{var i,r,s=Ud(n,t);if(s==null)return 0;var l=Wl(n,t),u=Vl(n,t);if(l==null||u==null)return 0;var d=$e(n),f=kk(n),{maxBarSize:p}=s,v=Gn(p)?f:p,y,x;return d==="horizontal"?(y=fu(n,"xAxis",l,e),x=du(n,"xAxis",l,e)):(y=fu(n,"yAxis",u,e),x=du(n,"yAxis",u,e)),(i=(r=bm(y,x,!0))!==null&&r!==void 0?r:v)!==null&&i!==void 0?i:0},MN=(n,t,e)=>{var i=$e(n),r=Wl(n,t),s=Vl(n,t);if(!(r==null||s==null)){var l,u;return i==="horizontal"?(l=fu(n,"xAxis",r,e),u=du(n,"xAxis",r,e)):(l=fu(n,"yAxis",s,e),u=du(n,"yAxis",s,e)),bm(l,u)}},K9=lt([X9,kk,OU,Lk,Z9,MN,q9],dW),Q9=(n,t,e)=>{var i=Wl(n,t);if(i!=null)return fu(n,"xAxis",i,e)},J9=(n,t,e)=>{var i=Vl(n,t);if(i!=null)return fu(n,"yAxis",i,e)},tV=(n,t,e)=>{var i=Wl(n,t);if(i!=null)return du(n,"xAxis",i,e)},eV=(n,t,e)=>{var i=Vl(n,t);if(i!=null)return du(n,"yAxis",i,e)},nV=lt([K9,Ud],pW),iV=lt([V9,Ud],fW),rV=lt([Vn,jx,Q9,J9,tV,eV,nV,$e,_U,MN,iV,Ud,G9],(n,t,e,i,r,s,l,u,d,f,p,v,y)=>{var{chartData:x,dataStartIndex:A,dataEndIndex:S}=d;if(!(v==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||e==null||i==null||r==null||s==null||f==null)){var{data:C}=v,O;if(C!=null&&C.length>0?O=C:O=x?.slice(A,S+1),O!=null)return kV({layout:u,barSettings:v,pos:l,parentViewBox:t,bandSize:f,xAxis:e,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:p,displayedData:O,offset:n,cells:y,dataStartIndex:A})}}),aV=["index"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Y_.apply(null,arguments)}function sV(n,t){if(n==null)return{};var e,i,r=oV(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function oV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var PN=D.createContext(void 0),lV=n=>{var t=D.useContext(PN);if(t!=null)return t.stackId;if(n!=null)return o5(n)},cV=(n,t)=>"recharts-bar-stack-clip-path-".concat(n,"-").concat(t),uV=n=>{var t=D.useContext(PN);if(t!=null){var{stackId:e}=t;return"url(#".concat(cV(e,n),")")}},DN=n=>{var{index:t}=n,e=sV(n,aV),i=uV(t);return D.createElement(vs,Y_({className:"recharts-bar-stack-layer",clipPath:i},e))},hV=["onMouseEnter","onMouseLeave","onClick"],dV=["value","background","tooltipPosition"],fV=["id"],pV=["onMouseEnter","onClick","onMouseLeave"];function As(){return As=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},As.apply(null,arguments)}function iM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function xi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(e),!0).forEach(function(i){mV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):iM(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function mV(n,t,e){return(t=gV(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function gV(n){var t=vV(n,"string");return typeof t=="symbol"?t:t+""}function vV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Xm(n,t){if(n==null)return{};var e,i,r=yV(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function yV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var bV=n=>{var{dataKey:t,name:e,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:t,type:r,color:i,value:fD(e,t),payload:n}]},_V=D.memo(n=>{var{dataKey:t,stroke:e,strokeWidth:i,fill:r,name:s,hide:l,unit:u,tooltipType:d,id:f}=n,p={dataDefinedOnItem:void 0,getPosition:vu,settings:{stroke:e,strokeWidth:i,fill:r,dataKey:t,nameKey:void 0,name:fD(s,t),hide:l,type:d,color:r,unit:u,graphicalItemId:f}};return D.createElement(LG,{tooltipEntrySettings:p})});function xV(n){var t=$t(pu),{data:e,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,f=Xm(s,hV),p=mN(l,i,s.id),v=gN(u),y=vN(d,i,s.id);if(!r||e==null)return null;var x=vx(r);return D.createElement(ks,{zIndex:mW(r,Si.barBackground)},e.map((A,S)=>{var{value:C,background:O,tooltipPosition:N}=A,k=Xm(A,dV);if(!O)return null;var j=p(A,S),z=v(A,S),R=y(A,S),F=xi(xi(xi(xi(xi({option:r,isActive:String(S)===t},k),{},{fill:"#eee"},O),x),lg(f,A,S)),{},{onMouseEnter:j,onMouseLeave:z,onClick:R,dataKey:i,index:S,className:"recharts-bar-background-rectangle"});return D.createElement(Ym,As({key:"background-bar-".concat(S)},F))}))}function wV(n){var{showLabels:t,children:e,rects:i}=n,r=i?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return xi(xi({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return D.createElement(iG,{value:t?r:void 0},e)}function SV(n){var{shape:t,activeBar:e,baseProps:i,entry:r,index:s,dataKey:l}=n,u=$t(pu),d=$t(qL),f=e&&String(s)===u&&(d==null||l===d),p=f?e:t;return f?D.createElement(ks,{zIndex:Si.activeBar},D.createElement(DN,{index:s},D.createElement(Ym,As({},i,{name:String(i.name)},r,{isActive:f,option:p,index:s,dataKey:l})))):D.createElement(Ym,As({},i,{name:String(i.name)},r,{isActive:f,option:p,index:s,dataKey:l}))}function AV(n){var{shape:t,baseProps:e,entry:i,index:r,dataKey:s}=n;return D.createElement(Ym,As({},e,{name:String(e.name)},i,{isActive:!1,option:t,index:r,dataKey:s}))}function TV(n){var t,{data:e,props:i}=n,r=(t=gs(i))!==null&&t!==void 0?t:{},{id:s}=r,l=Xm(r,fV),{shape:u,dataKey:d,activeBar:f}=i,{onMouseEnter:p,onClick:v,onMouseLeave:y}=i,x=Xm(i,pV),A=mN(p,d,s),S=gN(y),C=vN(v,d,s);return e?D.createElement(D.Fragment,null,e.map((O,N)=>D.createElement(DN,As({index:N,key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(N),className:"recharts-bar-rectangle"},lg(x,O,N),{onMouseEnter:A(O,N),onMouseLeave:S(O,N),onClick:C(O,N)}),f?D.createElement(SV,{shape:u,activeBar:f,baseProps:l,entry:O,index:N,dataKey:d}):D.createElement(AV,{shape:u,baseProps:l,entry:O,index:N,dataKey:d})))):null}function EV(n){var{props:t,previousRectanglesRef:e}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=t,v=e.current,y=$x(t,"recharts-bar-"),[x,A]=D.useState(!1),S=!x,C=D.useCallback(()=>{typeof f=="function"&&f(),A(!1)},[f]),O=D.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return D.createElement(wV,{showLabels:S,rects:i},D.createElement(Hx,{animationId:y,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:C,onAnimationStart:O,key:y},N=>{var k=N===1?i:i?.map((j,z)=>{var R=v&&v[z];if(R)return xi(xi({},j),{},{x:si(R.x,j.x,N),y:si(R.y,j.y,N),width:si(R.width,j.width,N),height:si(R.height,j.height,N)});if(r==="horizontal"){var F=si(0,j.height,N),q=si(j.stackedBarStart,j.y,N);return xi(xi({},j),{},{y:q,height:F})}var J=si(0,j.width,N),ct=si(j.stackedBarStart,j.x,N);return xi(xi({},j),{},{width:J,x:ct})});return N>0&&(e.current=k??null),k==null?null:D.createElement(vs,null,D.createElement(TV,{props:t,data:k}))}),D.createElement(sG,{label:t.label}),t.children)}function CV(n){var t=D.useRef(null);return D.createElement(EV,{previousRectanglesRef:t,props:n})}var kN=0,OV=(n,t)=>{var e=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:e,errorVal:ci(n,t)}};class MV extends D.PureComponent{render(){var{hide:t,data:e,dataKey:i,className:r,xAxisId:s,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||e==null)return null;var p=Ge("recharts-bar",r),v=f;return D.createElement(vs,{className:p,id:f},u&&D.createElement("defs",null,D.createElement(y9,{clipPathId:v,xAxisId:s,yAxisId:l})),D.createElement(vs,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(v,")"):void 0},D.createElement(xV,{data:e,dataKey:i,background:d,allOtherBarProps:this.props}),D.createElement(CV,this.props)))}}var PV={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:kN,xAxisId:0,yAxisId:0,zIndex:Si.bar};function DV(n){var{xAxisId:t,yAxisId:e,hide:i,legendType:r,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p}=n,{needClip:v}=ON(t,e),y=yu(),x=Vi(),A=fG(n.children,tN),S=$t(N=>rV(N,n.id,x,A));if(y!=="vertical"&&y!=="horizontal")return null;var C,O=S?.[0];return O==null||O.height==null||O.width==null?C=0:C=y==="vertical"?O.height/2:O.width/2,D.createElement(v9,{xAxisId:t,yAxisId:e,data:S,dataPointFormatter:OV,errorBarOffset:C},D.createElement(MV,As({},n,{layout:y,needClip:v,data:S,xAxisId:t,yAxisId:e,hide:i,legendType:r,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function kV(n){var{layout:t,barSettings:{dataKey:e,minPointSize:i},pos:r,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:v,offset:y,cells:x,parentViewBox:A,dataStartIndex:S}=n,C=t==="horizontal"?u:l,O=p?C.scale.domain():null,N=l5({numericAxis:C}),k=C.scale.map(N);return v.map((j,z)=>{var R,F,q,J,ct,et;if(p){var Z=p[z+S];if(Z==null)return null;R=n5(Z,O)}else R=ci(j,e),Array.isArray(R)||(R=[N,R]);var Ct=U9(i,kN)(R[1],z);if(t==="horizontal"){var _t,kt=u.scale.map(R[0]),G=u.scale.map(R[1]);if(kt==null||G==null)return null;F=WE({axis:l,ticks:d,bandSize:s,offset:r.offset,entry:j,index:z}),q=(_t=G??kt)!==null&&_t!==void 0?_t:void 0,J=r.size;var K=kt-G;if(ct=Da(K)?0:K,et={x:F,y:y.top,width:J,height:y.height},Math.abs(Ct)>0&&Math.abs(ct)<Math.abs(Ct)){var V=$i(ct||Ct)*(Math.abs(Ct)-Math.abs(ct));q-=V,ct+=V}}else{var Pt=l.scale.map(R[0]),yt=l.scale.map(R[1]);if(Pt==null||yt==null)return null;if(F=Pt,q=WE({axis:u,ticks:f,bandSize:s,offset:r.offset,entry:j,index:z}),J=yt-Pt,ct=r.size,et={x:y.left,y:q,width:y.width,height:ct},Math.abs(Ct)>0&&Math.abs(J)<Math.abs(Ct)){var H=$i(J||Ct)*(Math.abs(Ct)-Math.abs(J));J+=H}}if(F==null||q==null||J==null||ct==null)return null;var it=xi(xi({},j),{},{stackedBarStart:k,x:F,y:q,width:J,height:ct,value:p?R:R[1],payload:j,background:et,tooltipPosition:{x:F+J/2,y:q+ct/2},parentViewBox:A},x&&x[z]&&x[z].props);return it}).filter(Boolean)}function LV(n){var t=Ei(n,PV),e=lV(t.stackId),i=Vi();return D.createElement(BG,{id:t.id,type:"bar"},r=>D.createElement(D.Fragment,null,D.createElement(NG,{legendPayload:bV(t)}),D.createElement(_V,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),D.createElement(WG,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:e,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:i}),D.createElement(ks,{zIndex:t.zIndex},D.createElement(DV,As({},t,{id:r})))))}var X_=D.memo(LV,W1);X_.displayName="Bar";var NV=["domain","range"],jV=["domain","range"];function rM(n,t){if(n==null)return{};var e,i,r=RV(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function RV(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function aM(n,t){return n===t?!0:Array.isArray(n)&&n.length===2&&Array.isArray(t)&&t.length===2?n[0]===t[0]&&n[1]===t[1]:!1}function LN(n,t){if(n===t)return!0;var{domain:e,range:i}=n,r=rM(n,NV),{domain:s,range:l}=t,u=rM(t,jV);return!aM(e,s)||!aM(i,l)?!1:W1(r,u)}var IV=["type"],zV=["dangerouslySetInnerHTML","ticks","scale"],BV=["id","scale"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Z_.apply(null,arguments)}function sM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function oM(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(e),!0).forEach(function(i){FV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):sM(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function FV(n,t,e){return(t=UV(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function UV(n){var t=HV(n,"string");return typeof t=="symbol"?t:t+""}function HV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function K_(n,t){if(n==null)return{};var e,i,r=$V(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function $V(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function qV(n){var t=sn(),e=D.useRef(null),i=bD(),{type:r}=n,s=K_(n,IV),l=Rg(i,"xAxis",r),u=D.useMemo(()=>{if(l!=null)return oM(oM({},s),{},{type:l})},[s,l]);return D.useLayoutEffect(()=>{u!=null&&(e.current===null?t(KG(u)):e.current!==u&&t(QG({prev:e.current,next:u})),e.current=u)},[u,t]),D.useLayoutEffect(()=>()=>{e.current&&(t(JG(e.current)),e.current=null)},[t]),null}var GV=n=>{var{xAxisId:t,className:e}=n,i=$t(jx),r=Vi(),s="xAxis",l=$t(O=>SL(O,s,t,r)),u=$t(O=>bL(O,t)),d=$t(O=>PH(O,t)),f=$t(O=>Hk(O,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v,scale:y}=n,x=K_(n,zV),{id:A,scale:S}=f,C=K_(f,BV);return D.createElement(G1,Z_({},x,C,{x:d.x,y:d.y,width:u.width,height:u.height,className:Ge("recharts-".concat(s," ").concat(s),e),viewBox:i,ticks:l,axisType:s}))},WV={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:Fn.allowDecimals,allowDuplicatedCategory:Fn.allowDuplicatedCategory,angle:Fn.angle,axisLine:ms.axisLine,height:Fn.height,hide:!1,includeHidden:Fn.includeHidden,interval:Fn.interval,label:!1,minTickGap:Fn.minTickGap,mirror:Fn.mirror,orientation:Fn.orientation,padding:Fn.padding,reversed:Fn.reversed,scale:Fn.scale,tick:Fn.tick,tickCount:Fn.tickCount,tickLine:ms.tickLine,tickSize:ms.tickSize,type:Fn.type,xAxisId:0},VV=n=>{var t=Ei(n,WV);return D.createElement(D.Fragment,null,D.createElement(qV,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),D.createElement(GV,t))},NN=D.memo(VV,LN);NN.displayName="XAxis";var YV=["type"],XV=["dangerouslySetInnerHTML","ticks","scale"],ZV=["id","scale"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Q_.apply(null,arguments)}function lM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function cM(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(e),!0).forEach(function(i){KV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):lM(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function KV(n,t,e){return(t=QV(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function QV(n){var t=JV(n,"string");return typeof t=="symbol"?t:t+""}function JV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function J_(n,t){if(n==null)return{};var e,i,r=tY(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function tY(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function eY(n){var t=sn(),e=D.useRef(null),i=bD(),{type:r}=n,s=J_(n,YV),l=Rg(i,"yAxis",r),u=D.useMemo(()=>{if(l!=null)return cM(cM({},s),{},{type:l})},[l,s]);return D.useLayoutEffect(()=>{u!=null&&(e.current===null?t(tW(u)):e.current!==u&&t(eW({prev:e.current,next:u})),e.current=u)},[u,t]),D.useLayoutEffect(()=>()=>{e.current&&(t(nW(e.current)),e.current=null)},[t]),null}function nY(n){var{yAxisId:t,className:e,width:i,label:r}=n,s=D.useRef(null),l=D.useRef(null),u=$t(jx),d=Vi(),f=sn(),p="yAxis",v=$t(R=>_L(R,t)),y=$t(R=>kH(R,t)),x=$t(R=>SL(R,p,t,d)),A=$t(R=>$k(R,t));if(D.useLayoutEffect(()=>{if(!(i!=="auto"||!v||$1(r)||D.isValidElement(r)||A==null)){var R=s.current;if(R){var F=R.getCalculatedWidth();Math.round(v.width)!==Math.round(F)&&f(iW({id:t,width:F}))}}},[x,v,f,r,t,i,A]),v==null||y==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:C,scale:O}=n,N=J_(n,XV),{id:k,scale:j}=A,z=J_(A,ZV);return D.createElement(G1,Q_({},N,z,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:v.width,height:v.height,className:Ge("recharts-".concat(p," ").concat(p),e),viewBox:u,ticks:x,axisType:p}))}var iY={allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,angle:Un.angle,axisLine:ms.axisLine,hide:!1,includeHidden:Un.includeHidden,interval:Un.interval,label:!1,minTickGap:Un.minTickGap,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tick:Un.tick,tickCount:Un.tickCount,tickLine:ms.tickLine,tickSize:ms.tickSize,type:Un.type,width:Un.width,yAxisId:0},rY=n=>{var t=Ei(n,iY);return D.createElement(D.Fragment,null,D.createElement(eY,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),D.createElement(nY,t))},jN=D.memo(rY,LN);jN.displayName="YAxis";var aY=(n,t)=>t,V1=lt([aY,$e,Fk,Zn,FL,Ds,W$,Vn],J$),Y1=n=>{var t=n.currentTarget.getBoundingClientRect(),e=t.width/n.currentTarget.offsetWidth,i=t.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-t.left)/e),chartY:Math.round((n.clientY-t.top)/i)}},RN=kr("mouseClick"),IN=Cd();IN.startListening({actionCreator:RN,effect:(n,t)=>{var e=n.payload,i=V1(t.getState(),Y1(e));i?.activeIndex!=null&&t.dispatch(WH({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var tx=kr("mouseMove"),zN=Cd(),Rp=null;zN.startListening({actionCreator:tx,effect:(n,t)=>{var e=n.payload;Rp!==null&&cancelAnimationFrame(Rp);var i=Y1(e);Rp=requestAnimationFrame(()=>{var r=t.getState(),s=k1(r,r.tooltip.settings.shared);if(s==="axis"){var l=V1(r,i);l?.activeIndex!=null?t.dispatch(DL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(PL())}Rp=null})}});function sY(n,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":n==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var uM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},BN=Wi({name:"rootProps",initialState:uM,reducers:{updateOptions:(n,t)=>{var e;n.accessibilityLayer=t.payload.accessibilityLayer,n.barCategoryGap=t.payload.barCategoryGap,n.barGap=(e=t.payload.barGap)!==null&&e!==void 0?e:uM.barGap,n.barSize=t.payload.barSize,n.maxBarSize=t.payload.maxBarSize,n.stackOffset=t.payload.stackOffset,n.syncId=t.payload.syncId,n.syncMethod=t.payload.syncMethod,n.className=t.payload.className,n.baseValue=t.payload.baseValue,n.reverseStackOrder=t.payload.reverseStackOrder}}}),oY=BN.reducer,{updateOptions:lY}=BN.actions,cY=null,uY={updatePolarOptions:(n,t)=>t.payload},FN=Wi({name:"polarOptions",initialState:cY,reducers:uY}),{updatePolarOptions:GK}=FN.actions,hY=FN.reducer,UN=kr("keyDown"),HN=kr("focus"),X1=Cd();X1.startListening({actionCreator:UN,effect:(n,t)=>{var e=t.getState(),i=e.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=e.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=L1(r,Cu(e),Id(e),Bd(e)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Ds(e);if(s==="Enter"){var f=$m(e,"axis","hover",String(r.index));t.dispatch($_({active:!r.active,activeIndex:r.index,activeCoordinate:f}));return}var p=RH(e),v=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,x=u+y*v;if(!(d==null||x>=d.length||x<0)){var A=$m(e,"axis","hover",String(x));t.dispatch($_({active:!0,activeIndex:x.toString(),activeCoordinate:A}))}}}}}});X1.startListening({actionCreator:HN,effect:(n,t)=>{var e=t.getState(),i=e.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=e.tooltip;if(!r.active&&r.index==null){var s="0",l=$m(e,"axis","hover",String(s));t.dispatch($_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Cr=kr("externalEvent"),$N=Cd(),Gb=new Map;$N.startListening({actionCreator:Cr,effect:(n,t)=>{var{handler:e,reactEvent:i}=n.payload;if(e!=null){i.persist();var r=i.type,s=Gb.get(r);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:D$(u),activeDataKey:qL(u),activeIndex:pu(u),activeLabel:$L(u),activeTooltipIndex:pu(u),isTooltipActive:k$(u)};e(d,i)}finally{Gb.delete(r)}});Gb.set(r,l)}}});var dY=lt([Tu],n=>n.tooltipItemPayloads),fY=lt([dY,(n,t)=>t,(n,t,e)=>e],(n,t,e)=>{if(t!=null){var i=n.find(s=>s.settings.graphicalItemId===e);if(i!=null){var{getPosition:r}=i;if(r!=null)return r(t)}}}),qN=kr("touchMove"),GN=Cd();GN.startListening({actionCreator:qN,effect:(n,t)=>{var e=n.payload;if(!(e.touches==null||e.touches.length===0)){var i=t.getState(),r=k1(i,i.tooltip.settings.shared);if(r==="axis"){var s=e.touches[0];if(s==null)return;var l=V1(i,Y1({clientX:s.clientX,clientY:s.clientY,currentTarget:e.currentTarget}));l?.activeIndex!=null&&t.dispatch(DL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(r==="item"){var u,d=e.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var p=f.getAttribute(m5),v=(u=f.getAttribute(g5))!==null&&u!==void 0?u:void 0,y=Eu(i).find(S=>S.id===v);if(p==null||y==null||v==null)return;var{dataKey:x}=y,A=fY(i,p,v);t.dispatch(ML({activeDataKey:x,activeIndex:p,activeCoordinate:A,activeGraphicalItemId:v}))}}}});var pY=RP({brush:vW,cartesianAxis:rW,chartData:D7,errorBars:h9,graphicalItems:qG,layout:K3,legend:uF,options:E7,polarAxis:lG,polarOptions:hY,referenceElements:xW,rootProps:oY,tooltip:VH,zIndex:f7}),mY=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return w3({reducer:pY,preloadedState:t,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([IN.middleware,zN.middleware,X1.middleware,$N.middleware,GN.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(KP({type:"raf"}))},devTools:{serialize:{replacer:sY},name:"recharts-".concat(e)}})};function gY(n){var{preloadedState:t,children:e,reduxStoreName:i}=n,r=Vi(),s=D.useRef(null);if(r)return e;s.current==null&&(s.current=mY(t,i));var l=Ox;return D.createElement(R9,{context:l,store:s.current},e)}function vY(n){var{layout:t,margin:e}=n,i=sn(),r=Vi();return D.useEffect(()=>{r||(i(Y3(t)),i(V3(e)))},[i,r,t,e]),null}var yY=D.memo(vY,W1);function bY(n){var t=sn();return D.useEffect(()=>{t(lY(n))},[t,n]),null}function hM(n){var{zIndex:t,isPanorama:e}=n,i=D.useRef(null),r=sn();return D.useLayoutEffect(()=>(i.current&&r(h7({zIndex:t,element:i.current,isPanorama:e})),()=>{r(d7({zIndex:t,isPanorama:e}))}),[r,t,e]),D.createElement("g",{tabIndex:-1,ref:i})}function dM(n){var{children:t,isPanorama:e}=n,i=$t(e7);if(!i||i.length===0)return t;var r=i.filter(l=>l<0),s=i.filter(l=>l>0);return D.createElement(D.Fragment,null,r.map(l=>D.createElement(hM,{key:l,zIndex:l,isPanorama:e})),t,s.map(l=>D.createElement(hM,{key:l,zIndex:l,isPanorama:e})))}var _Y=["children"];function xY(n,t){if(n==null)return{};var e,i,r=wY(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function wY(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function Zm(){return Zm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Zm.apply(null,arguments)}var SY={width:"100%",height:"100%",display:"block"},AY=D.forwardRef((n,t)=>{var e=zx(),i=Bx(),r=MD();if(!La(e)||!La(i))return null;var{children:s,otherAttributes:l,title:u,desc:d}=n,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=r?0:void 0,typeof l.role=="string"?p=l.role:p=r?"application":void 0),D.createElement(yx,Zm({},l,{title:u,desc:d,role:p,tabIndex:f,width:e,height:i,style:SY,ref:t}),s)}),TY=n=>{var{children:t}=n,e=$t(wg);if(!e)return null;var{width:i,height:r,y:s,x:l}=e;return D.createElement(yx,{width:i,height:r,x:l,y:s},t)},fM=D.forwardRef((n,t)=>{var{children:e}=n,i=xY(n,_Y),r=Vi();return r?D.createElement(TY,null,D.createElement(dM,{isPanorama:!0},e)):D.createElement(AY,Zm({ref:t},i),D.createElement(dM,{isPanorama:!1},e))});function EY(){var n=sn(),[t,e]=D.useState(null),i=$t(p5);return D.useEffect(()=>{if(t!=null){var r=t.getBoundingClientRect(),s=r.width/t.offsetWidth;ye(s)&&s!==i&&n(Z3(s))}},[t,n,i]),e}function pM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function CY(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(e),!0).forEach(function(i){OY(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pM(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function OY(n,t,e){return(t=MY(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function MY(n){var t=PY(n,"string");return typeof t=="symbol"?t:t+""}function PY(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function To(){return To=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},To.apply(null,arguments)}var DY=()=>(F7(),null);function Km(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=parseFloat(n);if(!Number.isNaN(t))return t}return 0}var kY=D.forwardRef((n,t)=>{var e,i,r=D.useRef(null),[s,l]=D.useState({containerWidth:Km((e=n.style)===null||e===void 0?void 0:e.width),containerHeight:Km((i=n.style)===null||i===void 0?void 0:i.height)}),u=D.useCallback((f,p)=>{l(v=>{var y=Math.round(f),x=Math.round(p);return v.containerWidth===y&&v.containerHeight===x?v:{containerWidth:y,containerHeight:x}})},[]),d=D.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:v}=f.getBoundingClientRect();u(p,v);var y=A=>{var S=A[0];if(S!=null){var{width:C,height:O}=S.contentRect;u(C,O)}},x=new ResizeObserver(y);x.observe(f),r.current=x}},[t,u]);return D.useEffect(()=>()=>{var f=r.current;f?.disconnect()},[u]),D.createElement(D.Fragment,null,D.createElement(Md,{width:s.containerWidth,height:s.containerHeight}),D.createElement("div",To({ref:d},n)))}),LY=D.forwardRef((n,t)=>{var{width:e,height:i}=n,[r,s]=D.useState({containerWidth:Km(e),containerHeight:Km(i)}),l=D.useCallback((d,f)=>{s(p=>{var v=Math.round(d),y=Math.round(f);return p.containerWidth===v&&p.containerHeight===y?p:{containerWidth:v,containerHeight:y}})},[]),u=D.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();l(f,p)}},[t,l]);return D.createElement(D.Fragment,null,D.createElement(Md,{width:r.containerWidth,height:r.containerHeight}),D.createElement("div",To({ref:u},n)))}),NY=D.forwardRef((n,t)=>{var{width:e,height:i}=n;return D.createElement(D.Fragment,null,D.createElement(Md,{width:e,height:i}),D.createElement("div",To({ref:t},n)))}),jY=D.forwardRef((n,t)=>{var{width:e,height:i}=n;return typeof e=="string"||typeof i=="string"?D.createElement(LY,To({},n,{ref:t})):typeof e=="number"&&typeof i=="number"?D.createElement(NY,To({},n,{width:e,height:i,ref:t})):D.createElement(D.Fragment,null,D.createElement(Md,{width:e,height:i}),D.createElement("div",To({ref:t},n)))});function RY(n){return n?kY:jY}var IY=D.forwardRef((n,t)=>{var{children:e,className:i,height:r,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:v,onMouseUp:y,onTouchEnd:x,onTouchMove:A,onTouchStart:S,style:C,width:O,responsive:N,dispatchTouchEvents:k=!0}=n,j=D.useRef(null),z=sn(),[R,F]=D.useState(null),[q,J]=D.useState(null),ct=EY(),et=Rx(),Z=et?.width>0?et.width:O,Ct=et?.height>0?et.height:r,_t=D.useCallback(ht=>{ct(ht),typeof t=="function"&&t(ht),F(ht),J(ht),ht!=null&&(j.current=ht)},[ct,t,F,J]),kt=D.useCallback(ht=>{z(RN(ht)),z(Cr({handler:s,reactEvent:ht}))},[z,s]),G=D.useCallback(ht=>{z(tx(ht)),z(Cr({handler:f,reactEvent:ht}))},[z,f]),K=D.useCallback(ht=>{z(PL()),z(Cr({handler:p,reactEvent:ht}))},[z,p]),V=D.useCallback(ht=>{z(tx(ht)),z(Cr({handler:v,reactEvent:ht}))},[z,v]),Pt=D.useCallback(()=>{z(HN())},[z]),yt=D.useCallback(ht=>{z(UN(ht.key))},[z]),H=D.useCallback(ht=>{z(Cr({handler:l,reactEvent:ht}))},[z,l]),it=D.useCallback(ht=>{z(Cr({handler:u,reactEvent:ht}))},[z,u]),dt=D.useCallback(ht=>{z(Cr({handler:d,reactEvent:ht}))},[z,d]),bt=D.useCallback(ht=>{z(Cr({handler:y,reactEvent:ht}))},[z,y]),Q=D.useCallback(ht=>{z(Cr({handler:S,reactEvent:ht}))},[z,S]),Tt=D.useCallback(ht=>{k&&z(qN(ht)),z(Cr({handler:A,reactEvent:ht}))},[z,k,A]),Dt=D.useCallback(ht=>{z(Cr({handler:x,reactEvent:ht}))},[z,x]),Qt=RY(N);return D.createElement(KL.Provider,{value:R},D.createElement(tP.Provider,{value:q},D.createElement(Qt,{width:Z??C?.width,height:Ct??C?.height,className:Ge("recharts-wrapper",i),style:CY({position:"relative",cursor:"default",width:Z,height:Ct},C),onClick:kt,onContextMenu:H,onDoubleClick:it,onFocus:Pt,onKeyDown:yt,onMouseDown:dt,onMouseEnter:G,onMouseLeave:K,onMouseMove:V,onMouseUp:bt,onTouchEnd:Dt,onTouchMove:Tt,onTouchStart:Q,ref:_t},D.createElement(DY,null),e)))}),zY=["width","height","responsive","children","className","style","compact","title","desc"];function BY(n,t){if(n==null)return{};var e,i,r=FY(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function FY(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var UY=D.forwardRef((n,t)=>{var{width:e,height:i,responsive:r,children:s,className:l,style:u,compact:d,title:f,desc:p}=n,v=BY(n,zY),y=gs(v);return d?D.createElement(D.Fragment,null,D.createElement(Md,{width:e,height:i}),D.createElement(fM,{otherAttributes:y,title:f,desc:p},s)):D.createElement(IY,{className:l,style:u,width:e,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},D.createElement(fM,{otherAttributes:y,title:f,desc:p,ref:t},D.createElement(SW,null,s)))});function ex(){return ex=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ex.apply(null,arguments)}var HY={top:5,right:5,bottom:5,left:5},$Y={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:HY,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},qY=D.forwardRef(function(t,e){var i,r=Ei(t.categoricalChartProps,$Y),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return D.createElement(gY,{preloadedState:{options:p},reduxStoreName:(i=f.id)!==null&&i!==void 0?i:s},D.createElement(gW,{chartData:f.data}),D.createElement(yY,{layout:r.layout,margin:r.margin}),D.createElement(bY,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),D.createElement(UY,ex({},r,{ref:e})))}),GY=["axis","item"],WY=D.forwardRef((n,t)=>D.createElement(qY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:GY,tooltipPayloadSearcher:A7,categoricalChartProps:n,ref:t}));function WN(n,t){const e=D.useRef(t);D.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const VY=1;function YY(n){return Object.freeze({__version:VY,map:n})}function VN(n,t){return Object.freeze({...n,...t})}const Z1=D.createContext(null);function K1(){const n=D.use(Z1);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function YN(n){function t(e,i){const{instance:r,context:s}=n(e).current;D.useImperativeHandle(i,()=>r);const{children:l}=e;return l==null?null:rd.createElement(Z1,{value:s},l)}return D.forwardRef(t)}function XY(n){function t(e,i){const[r,s]=D.useState(!1),{instance:l}=n(e,s).current;D.useImperativeHandle(i,()=>l),D.useEffect(function(){r&&l.update()},[l,r,e.children]);const u=l._contentNode;return u?rg.createPortal(e.children,u):null}return D.forwardRef(t)}function ZY(n){function t(e,i){const{instance:r}=n(e).current;return D.useImperativeHandle(i,()=>r),null}return D.forwardRef(t)}function Q1(n,t){const e=D.useRef(void 0);D.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function Wg(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function KY(n,t){return function(i,r){const s=K1(),l=n(Wg(i,s),s);return WN(s.map,i.attribution),Q1(l.current,i.eventHandlers),t(l.current,s,i,r),l}}var Qh={exports:{}};var QY=Qh.exports,mM;function JY(){return mM||(mM=1,(function(n,t){(function(e,i){i(t)})(QY,(function(e){var i="1.9.4";function r(c){var m,b,E,M;for(b=1,E=arguments.length;b<E;b++){M=arguments[b];for(m in M)c[m]=M[m]}return c}var s=Object.create||(function(){function c(){}return function(m){return c.prototype=m,new c}})();function l(c,m){var b=Array.prototype.slice;if(c.bind)return c.bind.apply(c,b.call(arguments,1));var E=b.call(arguments,2);return function(){return c.apply(m,E.length?E.concat(b.call(arguments)):arguments)}}var u=0;function d(c){return"_leaflet_id"in c||(c._leaflet_id=++u),c._leaflet_id}function f(c,m,b){var E,M,I,$;return $=function(){E=!1,M&&(I.apply(b,M),M=!1)},I=function(){E?M=arguments:(c.apply(b,arguments),setTimeout($,m),E=!0)},I}function p(c,m,b){var E=m[1],M=m[0],I=E-M;return c===E&&b?c:((c-M)%I+I)%I+M}function v(){return!1}function y(c,m){if(m===!1)return c;var b=Math.pow(10,m===void 0?6:m);return Math.round(c*b)/b}function x(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function A(c){return x(c).split(/\s+/)}function S(c,m){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?s(c.options):{});for(var b in m)c.options[b]=m[b];return c.options}function C(c,m,b){var E=[];for(var M in c)E.push(encodeURIComponent(b?M.toUpperCase():M)+"="+encodeURIComponent(c[M]));return(!m||m.indexOf("?")===-1?"?":"&")+E.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function N(c,m){return c.replace(O,function(b,E){var M=m[E];if(M===void 0)throw new Error("No value provided for variable "+b);return typeof M=="function"&&(M=M(m)),M})}var k=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function j(c,m){for(var b=0;b<c.length;b++)if(c[b]===m)return b;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var F=0;function q(c){var m=+new Date,b=Math.max(0,16-(m-F));return F=m+b,window.setTimeout(c,b)}var J=window.requestAnimationFrame||R("RequestAnimationFrame")||q,ct=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function et(c,m,b){if(b&&J===q)c.call(m);else return J.call(window,l(c,m))}function Z(c){c&&ct.call(window,c)}var Ct={__proto__:null,extend:r,create:s,bind:l,get lastId(){return u},stamp:d,throttle:f,wrapNum:p,falseFn:v,formatNum:y,trim:x,splitWords:A,setOptions:S,getParamString:C,template:N,isArray:k,indexOf:j,emptyImageUrl:z,requestFn:J,cancelFn:ct,requestAnimFrame:et,cancelAnimFrame:Z};function _t(){}_t.extend=function(c){var m=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,E=s(b);E.constructor=m,m.prototype=E;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(m[M]=this[M]);return c.statics&&r(m,c.statics),c.includes&&(kt(c.includes),r.apply(null,[E].concat(c.includes))),r(E,c),delete E.statics,delete E.includes,E.options&&(E.options=b.options?s(b.options):{},r(E.options,c.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,$=E._initHooks.length;I<$;I++)E._initHooks[I].call(this)}},m},_t.include=function(c){var m=this.prototype.options;return r(this.prototype,c),c.options&&(this.prototype.options=m,this.mergeOptions(c.options)),this},_t.mergeOptions=function(c){return r(this.prototype.options,c),this},_t.addInitHook=function(c){var m=Array.prototype.slice.call(arguments,1),b=typeof c=="function"?c:function(){this[c].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function kt(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=k(c)?c:[c];for(var m=0;m<c.length;m++)c[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(c,m,b){if(typeof c=="object")for(var E in c)this._on(E,c[E],m);else{c=A(c);for(var M=0,I=c.length;M<I;M++)this._on(c[M],m,b)}return this},off:function(c,m,b){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var E in c)this._off(E,c[E],m);else{c=A(c);for(var M=arguments.length===1,I=0,$=c.length;I<$;I++)M?this._off(c[I]):this._off(c[I],m,b)}return this},_on:function(c,m,b,E){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(c,m,b)===!1){b===this&&(b=void 0);var M={fn:m,ctx:b};E&&(M.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(M)}},_off:function(c,m,b){var E,M,I;if(this._events&&(E=this._events[c],!!E)){if(arguments.length===1){if(this._firingCount)for(M=0,I=E.length;M<I;M++)E[M].fn=v;delete this._events[c];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var $=this._listens(c,m,b);if($!==!1){var nt=E[$];this._firingCount&&(nt.fn=v,this._events[c]=E=E.slice()),E.splice($,1)}}},fire:function(c,m,b){if(!this.listens(c,b))return this;var E=r({},m,{type:c,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var M=this._events[c];if(M){this._firingCount=this._firingCount+1||1;for(var I=0,$=M.length;I<$;I++){var nt=M[I],st=nt.fn;nt.once&&this.off(c,st,nt.ctx),st.call(nt.ctx||this,E)}this._firingCount--}}return b&&this._propagateEvent(E),this},listens:function(c,m,b,E){typeof c!="string"&&console.warn('"string" type argument expected');var M=m;typeof m!="function"&&(E=!!m,M=void 0,b=void 0);var I=this._events&&this._events[c];if(I&&I.length&&this._listens(c,M,b)!==!1)return!0;if(E){for(var $ in this._eventParents)if(this._eventParents[$].listens(c,m,b,E))return!0}return!1},_listens:function(c,m,b){if(!this._events)return!1;var E=this._events[c]||[];if(!m)return!!E.length;b===this&&(b=void 0);for(var M=0,I=E.length;M<I;M++)if(E[M].fn===m&&E[M].ctx===b)return M;return!1},once:function(c,m,b){if(typeof c=="object")for(var E in c)this._on(E,c[E],m,!0);else{c=A(c);for(var M=0,I=c.length;M<I;M++)this._on(c[M],m,b,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[d(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[d(c)],this},_propagateEvent:function(c){for(var m in this._eventParents)this._eventParents[m].fire(c.type,r({layer:c.target,propagatedFrom:c.target},c),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var K=_t.extend(G);function V(c,m,b){this.x=b?Math.round(c):c,this.y=b?Math.round(m):m}var Pt=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(c){return this.clone()._add(yt(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(yt(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new V(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new V(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pt(this.x),this.y=Pt(this.y),this},distanceTo:function(c){c=yt(c);var m=c.x-this.x,b=c.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(c){return c=yt(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=yt(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function yt(c,m,b){return c instanceof V?c:k(c)?new V(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new V(c.x,c.y):new V(c,m,b)}function H(c,m){if(c)for(var b=m?[c,m]:c,E=0,M=b.length;E<M;E++)this.extend(b[E])}H.prototype={extend:function(c){var m,b;if(!c)return this;if(c instanceof V||typeof c[0]=="number"||"x"in c)m=b=yt(c);else if(c=it(c),m=c.min,b=c.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(c){return yt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return yt(this.min.x,this.max.y)},getTopRight:function(){return yt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var m,b;return typeof c[0]=="number"||c instanceof V?c=yt(c):c=it(c),c instanceof H?(m=c.min,b=c.max):m=b=c,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(c){c=it(c);var m=this.min,b=this.max,E=c.min,M=c.max,I=M.x>=m.x&&E.x<=b.x,$=M.y>=m.y&&E.y<=b.y;return I&&$},overlaps:function(c){c=it(c);var m=this.min,b=this.max,E=c.min,M=c.max,I=M.x>m.x&&E.x<b.x,$=M.y>m.y&&E.y<b.y;return I&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var m=this.min,b=this.max,E=Math.abs(m.x-b.x)*c,M=Math.abs(m.y-b.y)*c;return it(yt(m.x-E,m.y-M),yt(b.x+E,b.y+M))},equals:function(c){return c?(c=it(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function it(c,m){return!c||c instanceof H?c:new H(c,m)}function dt(c,m){if(c)for(var b=m?[c,m]:c,E=0,M=b.length;E<M;E++)this.extend(b[E])}dt.prototype={extend:function(c){var m=this._southWest,b=this._northEast,E,M;if(c instanceof Q)E=c,M=c;else if(c instanceof dt){if(E=c._southWest,M=c._northEast,!E||!M)return this}else return c?this.extend(Tt(c)||bt(c)):this;return!m&&!b?(this._southWest=new Q(E.lat,E.lng),this._northEast=new Q(M.lat,M.lng)):(m.lat=Math.min(E.lat,m.lat),m.lng=Math.min(E.lng,m.lng),b.lat=Math.max(M.lat,b.lat),b.lng=Math.max(M.lng,b.lng)),this},pad:function(c){var m=this._southWest,b=this._northEast,E=Math.abs(m.lat-b.lat)*c,M=Math.abs(m.lng-b.lng)*c;return new dt(new Q(m.lat-E,m.lng-M),new Q(b.lat+E,b.lng+M))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof Q||"lat"in c?c=Tt(c):c=bt(c);var m=this._southWest,b=this._northEast,E,M;return c instanceof dt?(E=c.getSouthWest(),M=c.getNorthEast()):E=M=c,E.lat>=m.lat&&M.lat<=b.lat&&E.lng>=m.lng&&M.lng<=b.lng},intersects:function(c){c=bt(c);var m=this._southWest,b=this._northEast,E=c.getSouthWest(),M=c.getNorthEast(),I=M.lat>=m.lat&&E.lat<=b.lat,$=M.lng>=m.lng&&E.lng<=b.lng;return I&&$},overlaps:function(c){c=bt(c);var m=this._southWest,b=this._northEast,E=c.getSouthWest(),M=c.getNorthEast(),I=M.lat>m.lat&&E.lat<b.lat,$=M.lng>m.lng&&E.lng<b.lng;return I&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,m){return c?(c=bt(c),this._southWest.equals(c.getSouthWest(),m)&&this._northEast.equals(c.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bt(c,m){return c instanceof dt?c:new dt(c,m)}function Q(c,m,b){if(isNaN(c)||isNaN(m))throw new Error("Invalid LatLng object: ("+c+", "+m+")");this.lat=+c,this.lng=+m,b!==void 0&&(this.alt=+b)}Q.prototype={equals:function(c,m){if(!c)return!1;c=Tt(c);var b=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return b<=(m===void 0?1e-9:m)},toString:function(c){return"LatLng("+y(this.lat,c)+", "+y(this.lng,c)+")"},distanceTo:function(c){return Qt.distance(this,Tt(c))},wrap:function(){return Qt.wrapLatLng(this)},toBounds:function(c){var m=180*c/40075017,b=m/Math.cos(Math.PI/180*this.lat);return bt([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};function Tt(c,m,b){return c instanceof Q?c:k(c)&&typeof c[0]!="object"?c.length===3?new Q(c[0],c[1],c[2]):c.length===2?new Q(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new Q(c.lat,"lng"in c?c.lng:c.lon,c.alt):m===void 0?null:new Q(c,m,b)}var Dt={latLngToPoint:function(c,m){var b=this.projection.project(c),E=this.scale(m);return this.transformation._transform(b,E)},pointToLatLng:function(c,m){var b=this.scale(m),E=this.transformation.untransform(c,b);return this.projection.unproject(E)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(c),E=this.transformation.transform(m.min,b),M=this.transformation.transform(m.max,b);return new H(E,M)},infinite:!1,wrapLatLng:function(c){var m=this.wrapLng?p(c.lng,this.wrapLng,!0):c.lng,b=this.wrapLat?p(c.lat,this.wrapLat,!0):c.lat,E=c.alt;return new Q(b,m,E)},wrapLatLngBounds:function(c){var m=c.getCenter(),b=this.wrapLatLng(m),E=m.lat-b.lat,M=m.lng-b.lng;if(E===0&&M===0)return c;var I=c.getSouthWest(),$=c.getNorthEast(),nt=new Q(I.lat-E,I.lng-M),st=new Q($.lat-E,$.lng-M);return new dt(nt,st)}},Qt=r({},Dt,{wrapLng:[-180,180],R:6371e3,distance:function(c,m){var b=Math.PI/180,E=c.lat*b,M=m.lat*b,I=Math.sin((m.lat-c.lat)*b/2),$=Math.sin((m.lng-c.lng)*b/2),nt=I*I+Math.cos(E)*Math.cos(M)*$*$,st=2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt));return this.R*st}}),ht=6378137,Wt={R:ht,MAX_LATITUDE:85.0511287798,project:function(c){var m=Math.PI/180,b=this.MAX_LATITUDE,E=Math.max(Math.min(b,c.lat),-b),M=Math.sin(E*m);return new V(this.R*c.lng*m,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(c){var m=180/Math.PI;return new Q((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*m,c.x*m/this.R)},bounds:(function(){var c=ht*Math.PI;return new H([-c,-c],[c,c])})()};function Zt(c,m,b,E){if(k(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=m,this._c=b,this._d=E}Zt.prototype={transform:function(c,m){return this._transform(c.clone(),m)},_transform:function(c,m){return m=m||1,c.x=m*(this._a*c.x+this._b),c.y=m*(this._c*c.y+this._d),c},untransform:function(c,m){return m=m||1,new V((c.x/m-this._b)/this._a,(c.y/m-this._d)/this._c)}};function xt(c,m,b,E){return new Zt(c,m,b,E)}var U=r({},Qt,{code:"EPSG:3857",projection:Wt,transformation:(function(){var c=.5/(Math.PI*Wt.R);return xt(c,.5,-c,.5)})()}),Y=r({},U,{code:"EPSG:900913"});function pt(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function At(c,m){var b="",E,M,I,$,nt,st;for(E=0,I=c.length;E<I;E++){for(nt=c[E],M=0,$=nt.length;M<$;M++)st=nt[M],b+=(M?"L":"M")+st.x+" "+st.y;b+=m?zt.svg?"z":"x":""}return b||"M0 0"}var wt=document.documentElement.style,Et="ActiveXObject"in window,Gt=Et&&!document.addEventListener,Jt="msLaunchUri"in navigator&&!("documentMode"in document),qt=Oi("webkit"),Yt=Oi("android"),Kt=Oi("android 2")||Oi("android 3"),fe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),St=Yt&&Oi("Google")&&fe<537&&!("AudioNode"in window),Ot=!!window.opera,Xe=!Jt&&Oi("chrome"),le=Oi("gecko")&&!qt&&!Ot&&!Et,ui=!Xe&&Oi("safari"),Yi=Oi("phantom"),na="OTransition"in wt,Ls=navigator.platform.indexOf("Win")===0,Rr=Et&&"transition"in wt,En="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Kt,Xi="MozPerspective"in wt,gi=!window.L_DISABLE_3D&&(Rr||En||Xi)&&!na&&!Yi,Do=typeof orientation<"u"||Oi("mobile"),ov=Do&&qt,lv=Do&&En,ko=!window.PointerEvent&&window.MSPointerEvent,Lo=!!(window.PointerEvent||ko),No="ontouchstart"in window||!!window.TouchEvent,Ia=!window.L_NO_TOUCH&&(No||Lo),Zl=Do&&Ot,jo=Do&&le,cv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vd=(function(){var c=!1;try{var m=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",v,m),window.removeEventListener("testPassiveEventSupport",v,m)}catch{}return c})(),Mu=(function(){return!!document.createElement("canvas").getContext})(),za=!!(document.createElementNS&&pt("svg").createSVGRect),uv=!!za&&(function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Yd=!za&&(function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var m=c.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Xd=navigator.platform.indexOf("Mac")===0,Zd=navigator.platform.indexOf("Linux")===0;function Oi(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var zt={ie:Et,ielt9:Gt,edge:Jt,webkit:qt,android:Yt,android23:Kt,androidStock:St,opera:Ot,chrome:Xe,gecko:le,safari:ui,phantom:Yi,opera12:na,win:Ls,ie3d:Rr,webkit3d:En,gecko3d:Xi,any3d:gi,mobile:Do,mobileWebkit:ov,mobileWebkit3d:lv,msPointer:ko,pointer:Lo,touch:Ia,touchNative:No,mobileOpera:Zl,mobileGecko:jo,retina:cv,passiveEvents:Vd,canvas:Mu,svg:za,vml:Yd,inlineSvg:uv,mac:Xd,linux:Zd},Pu=zt.msPointer?"MSPointerDown":"pointerdown",Du=zt.msPointer?"MSPointerMove":"pointermove",Ir=zt.msPointer?"MSPointerUp":"pointerup",vn=zt.msPointer?"MSPointerCancel":"pointercancel",Rn={touchstart:Pu,touchmove:Du,touchend:Ir,touchcancel:vn},Ba={touchstart:js,touchmove:ra,touchend:ra,touchcancel:ra},ia={},Kd=!1;function hv(c,m,b){return m==="touchstart"&&Ns(),Ba[m]?(b=Ba[m].bind(this,b),c.addEventListener(Rn[m],b,!1),b):(console.warn("wrong event specified:",m),v)}function Qd(c,m,b){if(!Rn[m]){console.warn("wrong event specified:",m);return}c.removeEventListener(Rn[m],b,!1)}function Ro(c){ia[c.pointerId]=c}function ku(c){ia[c.pointerId]&&(ia[c.pointerId]=c)}function Fa(c){delete ia[c.pointerId]}function Ns(){Kd||(document.addEventListener(Pu,Ro,!0),document.addEventListener(Du,ku,!0),document.addEventListener(Ir,Fa,!0),document.addEventListener(vn,Fa,!0),Kd=!0)}function ra(c,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in ia)m.touches.push(ia[b]);m.changedTouches=[m],c(m)}}function js(c,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&on(m),ra(c,m)}function yn(c){var m={},b,E;for(E in c)b=c[E],m[E]=b&&b.bind?b.bind(c):b;return c=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Jd=200;function tf(c,m){c.addEventListener("dblclick",m);var b=0,E;function M(I){if(I.detail!==1){E=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var $=$o(I);if(!($.some(function(st){return st instanceof HTMLLabelElement&&st.attributes.for})&&!$.some(function(st){return st instanceof HTMLInputElement||st instanceof HTMLSelectElement}))){var nt=Date.now();nt-b<=Jd?(E++,E===2&&m(yn(I))):E=1,b=nt}}}return c.addEventListener("click",M),{dblclick:m,simDblclick:M}}function Ua(c,m){c.removeEventListener("dblclick",m.dblclick),c.removeEventListener("click",m.simDblclick)}var aa=Bo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Io=Bo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Lu=Io==="webkitTransition"||Io==="OTransition"?Io+"End":"transitionend";function Nu(c){return typeof c=="string"?document.getElementById(c):c}function zo(c,m){var b=c.style[m]||c.currentStyle&&c.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(c,null);b=E?E[m]:null}return b==="auto"?null:b}function ce(c,m,b){var E=document.createElement(c);return E.className=m||"",b&&b.appendChild(E),E}function Ne(c){var m=c.parentNode;m&&m.removeChild(c)}function Mi(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function Cn(c){var m=c.parentNode;m&&m.lastChild!==c&&m.appendChild(c)}function Ha(c){var m=c.parentNode;m&&m.firstChild!==c&&m.insertBefore(c,m.firstChild)}function ju(c,m){if(c.classList!==void 0)return c.classList.contains(m);var b=Kl(c);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function ne(c,m){if(c.classList!==void 0)for(var b=A(m),E=0,M=b.length;E<M;E++)c.classList.add(b[E]);else if(!ju(c,m)){var I=Kl(c);Rs(c,(I?I+" ":"")+m)}}function Ze(c,m){c.classList!==void 0?c.classList.remove(m):Rs(c,x((" "+Kl(c)+" ").replace(" "+m+" "," ")))}function Rs(c,m){c.className.baseVal===void 0?c.className=m:c.className.baseVal=m}function Kl(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function We(c,m){"opacity"in c.style?c.style.opacity=m:"filter"in c.style&&Ru(c,m)}function Ru(c,m){var b=!1,E="DXImageTransform.Microsoft.Alpha";try{b=c.filters.item(E)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):c.style.filter+=" progid:"+E+"(opacity="+m+")"}function Bo(c){for(var m=document.documentElement.style,b=0;b<c.length;b++)if(c[b]in m)return c[b];return!1}function zr(c,m,b){var E=m||new V(0,0);c.style[aa]=(zt.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(b?" scale("+b+")":"")}function Fe(c,m){c._leaflet_pos=m,zt.any3d?zr(c,m):(c.style.left=m.x+"px",c.style.top=m.y+"px")}function sa(c){return c._leaflet_pos||new V(0,0)}var Is,dr,Iu;if("onselectstart"in document)Is=function(){Xt(window,"selectstart",on)},dr=function(){Pe(window,"selectstart",on)};else{var zs=Bo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Is=function(){if(zs){var c=document.documentElement.style;Iu=c[zs],c[zs]="none"}},dr=function(){zs&&(document.documentElement.style[zs]=Iu,Iu=void 0)}}function Ql(){Xt(window,"dragstart",on)}function Fo(){Pe(window,"dragstart",on)}var Jl,zu;function Bs(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(Pi(),Jl=c,zu=c.style.outlineStyle,c.style.outlineStyle="none",Xt(window,"keydown",Pi))}function Pi(){Jl&&(Jl.style.outlineStyle=zu,Jl=void 0,zu=void 0,Pe(window,"keydown",Pi))}function tc(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function Uo(c){var m=c.getBoundingClientRect();return{x:m.width/c.offsetWidth||1,y:m.height/c.offsetHeight||1,boundingClientRect:m}}var Fs={__proto__:null,TRANSFORM:aa,TRANSITION:Io,TRANSITION_END:Lu,get:Nu,getStyle:zo,create:ce,remove:Ne,empty:Mi,toFront:Cn,toBack:Ha,hasClass:ju,addClass:ne,removeClass:Ze,setClass:Rs,getClass:Kl,setOpacity:We,testProp:Bo,setTransform:zr,setPosition:Fe,getPosition:sa,get disableTextSelection(){return Is},get enableTextSelection(){return dr},disableImageDrag:Ql,enableImageDrag:Fo,preventOutline:Bs,restoreOutline:Pi,getSizedParentNode:tc,getScale:Uo};function Xt(c,m,b,E){if(m&&typeof m=="object")for(var M in m)Ki(c,M,m[M],b);else{m=A(m);for(var I=0,$=m.length;I<$;I++)Ki(c,m[I],b,E)}return this}var Zi="_leaflet_events";function Pe(c,m,b,E){if(arguments.length===1)Bu(c),delete c[Zi];else if(m&&typeof m=="object")for(var M in m)Ho(c,M,m[M],b);else if(m=A(m),arguments.length===2)Bu(c,function(nt){return j(m,nt)!==-1});else for(var I=0,$=m.length;I<$;I++)Ho(c,m[I],b,E);return this}function Bu(c,m){for(var b in c[Zi]){var E=b.split(/\d/)[0];(!m||m(E))&&Ho(c,E,null,null,b)}}var $a={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ki(c,m,b,E){var M=m+d(b)+(E?"_"+d(E):"");if(c[Zi]&&c[Zi][M])return this;var I=function(nt){return b.call(E||c,nt||window.event)},$=I;!zt.touchNative&&zt.pointer&&m.indexOf("touch")===0?I=hv(c,m,I):zt.touch&&m==="dblclick"?I=tf(c,I):"addEventListener"in c?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?c.addEventListener($a[m]||m,I,zt.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(I=function(nt){nt=nt||window.event,Br(c,nt)&&$(nt)},c.addEventListener($a[m],I,!1)):c.addEventListener(m,$,!1):c.attachEvent("on"+m,I),c[Zi]=c[Zi]||{},c[Zi][M]=I}function Ho(c,m,b,E,M){M=M||m+d(b)+(E?"_"+d(E):"");var I=c[Zi]&&c[Zi][M];if(!I)return this;!zt.touchNative&&zt.pointer&&m.indexOf("touch")===0?Qd(c,m,I):zt.touch&&m==="dblclick"?Ua(c,I):"removeEventListener"in c?c.removeEventListener($a[m]||m,I,!1):c.detachEvent("on"+m,I),c[Zi][M]=null}function Qi(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function fr(c){return Ki(c,"wheel",Qi),this}function qa(c){return Xt(c,"mousedown touchstart dblclick contextmenu",Qi),c._leaflet_disable_click=!0,this}function on(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function oa(c){return on(c),Qi(c),this}function $o(c){if(c.composedPath)return c.composedPath();for(var m=[],b=c.target;b;)m.push(b),b=b.parentNode;return m}function qo(c,m){if(!m)return new V(c.clientX,c.clientY);var b=Uo(m),E=b.boundingClientRect;return new V((c.clientX-E.left)/b.x-m.clientLeft,(c.clientY-E.top)/b.y-m.clientTop)}var ef=zt.linux&&zt.chrome?window.devicePixelRatio:zt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Kn(c){return zt.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/ef:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function Br(c,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==c;)b=b.parentNode}catch{return!1}return b!==c}var ec={__proto__:null,on:Xt,off:Pe,stopPropagation:Qi,disableScrollPropagation:fr,disableClickPropagation:qa,preventDefault:on,stop:oa,getPropagationPath:$o,getMousePosition:qo,getWheelDelta:Kn,isExternalTarget:Br,addListener:Xt,removeListener:Pe},Us=K.extend({run:function(c,m,b,E){this.stop(),this._el=c,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=sa(c),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=et(this._animate,this),this._step()},_step:function(c){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),c):(this._runFrame(1),this._complete())},_runFrame:function(c,m){var b=this._startPos.add(this._offset.multiplyBy(c));m&&b._round(),Fe(this._el,b),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),pe=K.extend({options:{crs:U,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,m){m=S(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(Tt(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Io&&zt.any3d&&!zt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Xt(this._proxy,Lu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),c=this._limitCenter(Tt(c),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=r({animate:b.animate},b.zoom),b.pan=r({animate:b.animate,duration:b.duration},b.pan));var E=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,m,b.zoom):this._tryAnimatedPan(c,b.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(c,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(c,m){return this._loaded?this.setView(this.getCenter(),c,{zoom:m}):(this._zoom=c,this)},zoomIn:function(c,m){return c=c||(zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,m)},zoomOut:function(c,m){return c=c||(zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,m)},setZoomAround:function(c,m,b){var E=this.getZoomScale(m),M=this.getSize().divideBy(2),I=c instanceof V?c:this.latLngToContainerPoint(c),$=I.subtract(M).multiplyBy(1-1/E),nt=this.containerPointToLatLng(M.add($));return this.setView(nt,m,{zoom:b})},_getBoundsCenterZoom:function(c,m){m=m||{},c=c.getBounds?c.getBounds():bt(c);var b=yt(m.paddingTopLeft||m.padding||[0,0]),E=yt(m.paddingBottomRight||m.padding||[0,0]),M=this.getBoundsZoom(c,!1,b.add(E));if(M=typeof m.maxZoom=="number"?Math.min(m.maxZoom,M):M,M===1/0)return{center:c.getCenter(),zoom:M};var I=E.subtract(b).divideBy(2),$=this.project(c.getSouthWest(),M),nt=this.project(c.getNorthEast(),M),st=this.unproject($.add(nt).divideBy(2).add(I),M);return{center:st,zoom:M}},fitBounds:function(c,m){if(c=bt(c),!c.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(c,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,m){return this.setView(c,this._zoom,{pan:m})},panBy:function(c,m){if(c=yt(c).round(),m=m||{},!c.x&&!c.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){ne(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,m,b){if(b=b||{},b.animate===!1||!zt.any3d)return this.setView(c,m,b);this._stop();var E=this.project(this.getCenter()),M=this.project(c),I=this.getSize(),$=this._zoom;c=Tt(c),m=m===void 0?$:m;var nt=Math.max(I.x,I.y),st=nt*this.getZoomScale($,m),gt=M.distanceTo(E)||1,Mt=1.42,Ft=Mt*Mt;function se(nn){var $r=nn?-1:1,Ya=nn?st:nt,th=st*st-nt*nt+$r*Ft*Ft*gt*gt,sl=2*Ya*Ft*gt,ol=th/sl,ga=Math.sqrt(ol*ol+1)-ol,qr=ga<1e-9?-18:Math.log(ga);return qr}function On(nn){return(Math.exp(nn)-Math.exp(-nn))/2}function ln(nn){return(Math.exp(nn)+Math.exp(-nn))/2}function yi(nn){return On(nn)/ln(nn)}var be=se(0);function _e(nn){return nt*(ln(be)/ln(be+Mt*nn))}function ue(nn){return nt*(ln(be)*yi(be+Mt*nn)-On(be))/Ft}function pa(nn){return 1-Math.pow(1-nn,1.5)}var Ni=Date.now(),mc=(se(1)-be)/Mt,ma=b.duration?1e3*b.duration:1e3*mc*.8;function Ju(){var nn=(Date.now()-Ni)/ma,$r=pa(nn)*mc;nn<=1?(this._flyToFrame=et(Ju,this),this._move(this.unproject(E.add(M.subtract(E).multiplyBy(ue($r)/gt)),$),this.getScaleZoom(nt/_e($r),$),{flyTo:!0})):this._move(c,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Ju.call(this),this},flyToBounds:function(c,m){var b=this._getBoundsCenterZoom(c,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(c){return c=bt(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var m=this.options.minZoom;return this.options.minZoom=c,this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var m=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,m){this._enforcingBounds=!0;var b=this.getCenter(),E=this._limitCenter(b,this._zoom,bt(c));return b.equals(E)||this.panTo(E,m),this._enforcingBounds=!1,this},panInside:function(c,m){m=m||{};var b=yt(m.paddingTopLeft||m.padding||[0,0]),E=yt(m.paddingBottomRight||m.padding||[0,0]),M=this.project(this.getCenter()),I=this.project(c),$=this.getPixelBounds(),nt=it([$.min.add(b),$.max.subtract(E)]),st=nt.getSize();if(!nt.contains(I)){this._enforcingBounds=!0;var gt=I.subtract(nt.getCenter()),Mt=nt.extend(I).getSize().subtract(st);M.x+=gt.x<0?-Mt.x:Mt.x,M.y+=gt.y<0?-Mt.y:Mt.y,this.panTo(this.unproject(M),m),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=r({animate:!1,pan:!0},c===!0?{animate:!0}:c);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),E=m.divideBy(2).round(),M=b.divideBy(2).round(),I=E.subtract(M);return!I.x&&!I.y?this:(c.animate&&c.pan?this.panBy(I):(c.pan&&this._rawPanBy(I),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=r({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=l(this._handleGeolocationResponse,this),b=l(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,c):navigator.geolocation.getCurrentPosition(m,b,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var m=c.code,b=c.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var m=c.coords.latitude,b=c.coords.longitude,E=new Q(m,b),M=E.toBounds(c.coords.accuracy*2),I=this._locateOptions;if(I.setView){var $=this.getBoundsZoom(M);this.setView(E,I.maxZoom?Math.min($,I.maxZoom):$)}var nt={latlng:E,bounds:M,timestamp:c.timestamp};for(var st in c.coords)typeof c.coords[st]=="number"&&(nt[st]=c.coords[st]);this.fire("locationfound",nt)}},addHandler:function(c,m){if(!m)return this;var b=this[c]=new m(this);return this._handlers.push(b),this.options[c]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)Ne(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,m){var b="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),E=ce("div",b,m||this._mapPane);return c&&(this._panes[c]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),m=this.unproject(c.getBottomLeft()),b=this.unproject(c.getTopRight());return new dt(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,m,b){c=bt(c),b=yt(b||[0,0]);var E=this.getZoom()||0,M=this.getMinZoom(),I=this.getMaxZoom(),$=c.getNorthWest(),nt=c.getSouthEast(),st=this.getSize().subtract(b),gt=it(this.project(nt,E),this.project($,E)).getSize(),Mt=zt.any3d?this.options.zoomSnap:1,Ft=st.x/gt.x,se=st.y/gt.y,On=m?Math.max(Ft,se):Math.min(Ft,se);return E=this.getScaleZoom(On,E),Mt&&(E=Math.round(E/(Mt/100))*(Mt/100),E=m?Math.ceil(E/Mt)*Mt:Math.floor(E/Mt)*Mt),Math.max(M,Math.min(I,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,m){var b=this._getTopLeftPoint(c,m);return new H(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(c)/b.scale(m)},getScaleZoom:function(c,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var E=b.zoom(c*b.scale(m));return isNaN(E)?1/0:E},project:function(c,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(Tt(c),m)},unproject:function(c,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(yt(c),m)},layerPointToLatLng:function(c){var m=yt(c).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(c){var m=this.project(Tt(c))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(Tt(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(bt(c))},distance:function(c,m){return this.options.crs.distance(Tt(c),Tt(m))},containerPointToLayerPoint:function(c){return yt(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return yt(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var m=this.containerPointToLayerPoint(yt(c));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(c)))},mouseEventToContainerPoint:function(c){return qo(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var m=this._container=Nu(c);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Xt(m,"scroll",this._onScroll,this),this._containerId=d(m)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&zt.any3d,ne(c,"leaflet-container"+(zt.touch?" leaflet-touch":"")+(zt.retina?" leaflet-retina":"")+(zt.ielt9?" leaflet-oldie":"")+(zt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=zo(c,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fe(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ne(c.markerPane,"leaflet-zoom-hide"),ne(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,m,b){Fe(this._mapPane,new V(0,0));var E=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var M=this._zoom!==m;this._moveStart(M,b)._move(c,m)._moveEnd(M),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(c,m){return c&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(c,m,b,E){m===void 0&&(m=this._zoom);var M=this._zoom!==m;return this._zoom=m,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),E?b&&b.pinch&&this.fire("zoom",b):((M||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){Fe(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[d(this._container)]=this;var m=c?Pe:Xt;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),zt.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=et(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,m){for(var b=[],E,M=m==="mouseout"||m==="mouseover",I=c.target||c.srcElement,$=!1;I;){if(E=this._targets[d(I)],E&&(m==="click"||m==="preclick")&&this._draggableMoved(E)){$=!0;break}if(E&&E.listens(m,!0)&&(M&&!Br(I,c)||(b.push(E),M))||I===this._container)break;I=I.parentNode}return!b.length&&!$&&!M&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var m=c.target||c.srcElement;if(!(!this._loaded||m._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(m))){var b=c.type;b==="mousedown"&&Bs(m),this._fireDOMEvent(c,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,m,b){if(c.type==="click"){var E=r({},c);E.type="preclick",this._fireDOMEvent(E,E.type,b)}var M=this._findEventTargets(c,m);if(b){for(var I=[],$=0;$<b.length;$++)b[$].listens(m,!0)&&I.push(b[$]);M=I.concat(M)}if(M.length){m==="contextmenu"&&on(c);var nt=M[0],st={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var gt=nt.getLatLng&&(!nt._radius||nt._radius<=10);st.containerPoint=gt?this.latLngToContainerPoint(nt.getLatLng()):this.mouseEventToContainerPoint(c),st.layerPoint=this.containerPointToLayerPoint(st.containerPoint),st.latlng=gt?nt.getLatLng():this.layerPointToLatLng(st.layerPoint)}for($=0;$<M.length;$++)if(M[$].fire(m,st,!0),st.originalEvent._stopped||M[$].options.bubblingMouseEvents===!1&&j(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,m=this._handlers.length;c<m;c++)this._handlers[c].disable()},whenReady:function(c,m){return this._loaded?c.call(m||this,{target:this}):this.on("load",c,m),this},_getMapPanePos:function(){return sa(this._mapPane)||new V(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,m){var b=c&&m!==void 0?this._getNewPixelOrigin(c,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,m){var b=this.getSize()._divideBy(2);return this.project(c,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,m,b){var E=this._getNewPixelOrigin(b,m);return this.project(c,m)._subtract(E)},_latLngBoundsToNewLayerBounds:function(c,m,b){var E=this._getNewPixelOrigin(b,m);return it([this.project(c.getSouthWest(),m)._subtract(E),this.project(c.getNorthWest(),m)._subtract(E),this.project(c.getSouthEast(),m)._subtract(E),this.project(c.getNorthEast(),m)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,m,b){if(!b)return c;var E=this.project(c,m),M=this.getSize().divideBy(2),I=new H(E.subtract(M),E.add(M)),$=this._getBoundsOffset(I,b,m);return Math.abs($.x)<=1&&Math.abs($.y)<=1?c:this.unproject(E.add($),m)},_limitOffset:function(c,m){if(!m)return c;var b=this.getPixelBounds(),E=new H(b.min.add(c),b.max.add(c));return c.add(this._getBoundsOffset(E,m))},_getBoundsOffset:function(c,m,b){var E=it(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),M=E.min.subtract(c.min),I=E.max.subtract(c.max),$=this._rebound(M.x,-I.x),nt=this._rebound(M.y,-I.y);return new V($,nt)},_rebound:function(c,m){return c+m>0?Math.round(c-m)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(m))},_limitZoom:function(c){var m=this.getMinZoom(),b=this.getMaxZoom(),E=zt.any3d?this.options.zoomSnap:1;return E&&(c=Math.round(c/E)*E),Math.max(m,Math.min(b,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ze(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,m){var b=this._getCenterOffset(c)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var c=this._proxy=ce("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(m){var b=aa,E=this._proxy.style[b];zr(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),E===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),m=this.getZoom();zr(this._proxy,this.project(c,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(m),M=this._getCenterOffset(c)._divideBy(1-1/E);return b.animate!==!0&&!this.getSize().contains(M)?!1:(et(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(c,m,!0)},this),!0)},_animateZoom:function(c,m,b,E){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=m,ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:m,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ze(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fu(c,m){return new pe(c,m)}var vi=_t.extend({options:{position:"topright"},initialize:function(c){S(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var m=this._map;return m&&m.removeControl(this),this.options.position=c,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var m=this._container=this.onAdd(c),b=this.getPosition(),E=c._controlCorners[b];return ne(m,"leaflet-control"),b.indexOf("bottom")!==-1?E.insertBefore(m,E.firstChild):E.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),Fr=function(c){return new vi(c)};pe.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},m="leaflet-",b=this._controlContainer=ce("div",m+"control-container",this._container);function E(M,I){var $=m+M+" "+m+I;c[M+I]=ce("div",$,b)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)Ne(this._controlCorners[c]);Ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Go=vi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,m,b,E){return b<E?-1:E<b?1:0}},initialize:function(c,m,b){S(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in c)this._addLayer(c[E],E);for(E in m)this._addLayer(m[E],E,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return vi.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,m){return this._addLayer(c,m),this._map?this._update():this},addOverlay:function(c,m){return this._addLayer(c,m,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var m=this._getLayer(d(c));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):Ze(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ze(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",m=this._container=ce("div",c),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),qa(m),fr(m);var E=this._section=ce("section",c+"-list");b&&(this._map.on("click",this.collapse,this),Xt(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=ce("a",c+"-toggle",m);M.href="#",M.title="Layers",M.setAttribute("role","button"),Xt(M,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){on(I),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=ce("div",c+"-base",E),this._separator=ce("div",c+"-separator",E),this._overlaysList=ce("div",c+"-overlays",E),m.appendChild(E)},_getLayer:function(c){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&d(this._layers[m].layer)===c)return this._layers[m]},_addLayer:function(c,m,b){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(l(function(E,M){return this.options.sortFunction(E.layer,M.layer,E.name,M.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Mi(this._baseLayersList),Mi(this._overlaysList),this._layerControlInputs=[];var c,m,b,E,M=0;for(b=0;b<this._layers.length;b++)E=this._layers[b],this._addItem(E),m=m||E.overlay,c=c||!E.overlay,M+=E.overlay?0:1;return this.options.hideSingleBase&&(c=c&&M>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=m&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var m=this._getLayer(d(c.target)),b=m.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(c,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(m?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=b,E.firstChild},_addItem:function(c){var m=document.createElement("label"),b=this._map.hasLayer(c.layer),E;c.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=b):E=this._createRadioElement("leaflet-base-layers_"+d(this),b),this._layerControlInputs.push(E),E.layerId=d(c.layer),Xt(E,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+c.name;var I=document.createElement("span");m.appendChild(I),I.appendChild(E),I.appendChild(M);var $=c.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,m,b,E=[],M=[];this._handlingClick=!0;for(var I=c.length-1;I>=0;I--)m=c[I],b=this._getLayer(m.layerId).layer,m.checked?E.push(b):m.checked||M.push(b);for(I=0;I<M.length;I++)this._map.hasLayer(M[I])&&this._map.removeLayer(M[I]);for(I=0;I<E.length;I++)this._map.hasLayer(E[I])||this._map.addLayer(E[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,m,b,E=this._map.getZoom(),M=c.length-1;M>=0;M--)m=c[M],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&E<b.options.minZoom||b.options.maxZoom!==void 0&&E>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,Xt(c,"click",on),this.expand();var m=this;setTimeout(function(){Pe(c,"click",on),m._preventClick=!1})}}),nf=function(c,m,b){return new Go(c,m,b)},Uu=vi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var m="leaflet-control-zoom",b=ce("div",m+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,m,b,E,M){var I=ce("a",b,E);return I.innerHTML=c,I.href="#",I.title=m,I.setAttribute("role","button"),I.setAttribute("aria-label",m),qa(I),Xt(I,"click",oa),Xt(I,"click",M,this),Xt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var c=this._map,m="leaflet-disabled";Ze(this._zoomInButton,m),Ze(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(ne(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(ne(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});pe.mergeOptions({zoomControl:!0}),pe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Uu,this.addControl(this.zoomControl))});var dv=function(c){return new Uu(c)},rf=vi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var m="leaflet-control-scale",b=ce("div",m),E=this.options;return this._addScales(E,m+"-line",b),c.on(E.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),b},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,m,b){c.metric&&(this._mScale=ce("div",m,b)),c.imperial&&(this._iScale=ce("div",m,b))},_update:function(){var c=this._map,m=c.getSize().y/2,b=c.distance(c.containerPointToLatLng([0,m]),c.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var m=this._getRoundNum(c),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/c)},_updateImperial:function(c){var m=c*3.2808399,b,E,M;m>5280?(b=m/5280,E=this._getRoundNum(b),this._updateScale(this._iScale,E+" mi",E/b)):(M=this._getRoundNum(m),this._updateScale(this._iScale,M+" ft",M/m))},_updateScale:function(c,m,b){c.style.width=Math.round(this.options.maxWidth*b)+"px",c.innerHTML=m},_getRoundNum:function(c){var m=Math.pow(10,(Math.floor(c)+"").length-1),b=c/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),Hu=function(c){return new rf(c)},fv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$u=vi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(zt.inlineSvg?fv+" ":"")+"Leaflet</a>"},initialize:function(c){S(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=ce("div","leaflet-control-attribution"),qa(this._container);for(var m in c._layers)c._layers[m].getAttribution&&this.addAttribution(c._layers[m].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var m in this._attributions)this._attributions[m]&&c.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),c.length&&b.push(c.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});pe.mergeOptions({attributionControl:!0}),pe.addInitHook(function(){this.options.attributionControl&&new $u().addTo(this)});var pv=function(c){return new $u(c)};vi.Layers=Go,vi.Zoom=Uu,vi.Scale=rf,vi.Attribution=$u,Fr.layers=nf,Fr.zoom=dv,Fr.scale=Hu,Fr.attribution=pv;var pr=_t.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pr.addTo=function(c,m){return c.addHandler(m,this),this};var mv={Events:G},qu=zt.touch?"touchstart mousedown":"mousedown",la=K.extend({options:{clickTolerance:3},initialize:function(c,m,b,E){S(this,E),this._element=c,this._dragStartTarget=m||c,this._preventOutline=b},enable:function(){this._enabled||(Xt(this._dragStartTarget,qu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(la._dragging===this&&this.finishDrag(!0),Pe(this._dragStartTarget,qu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!ju(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){la._dragging===this&&this.finishDrag();return}if(!(la._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(la._dragging=this,this._preventOutline&&Bs(this._element),Ql(),Is(),!this._moving)){this.fire("down");var m=c.touches?c.touches[0]:c,b=tc(this._element);this._startPoint=new V(m.clientX,m.clientY),this._startPos=sa(this._element),this._parentScale=Uo(b);var E=c.type==="mousedown";Xt(document,E?"mousemove":"touchmove",this._onMove,this),Xt(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var m=c.touches&&c.touches.length===1?c.touches[0]:c,b=new V(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,on(c),this._moved||(this.fire("dragstart"),this._moved=!0,ne(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),Fe(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){Ze(document.body,"leaflet-dragging"),this._lastTarget&&(Ze(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pe(document,"mousemove touchmove",this._onMove,this),Pe(document,"mouseup touchend touchcancel",this._onUp,this),Fo(),dr();var m=this._moved&&this._moving;this._moving=!1,la._dragging=!1,m&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function af(c,m,b){var E,M=[1,4,2,8],I,$,nt,st,gt,Mt,Ft,se;for(I=0,Mt=c.length;I<Mt;I++)c[I]._code=Ga(c[I],m);for(nt=0;nt<4;nt++){for(Ft=M[nt],E=[],I=0,Mt=c.length,$=Mt-1;I<Mt;$=I++)st=c[I],gt=c[$],st._code&Ft?gt._code&Ft||(se=nc(gt,st,Ft,m,b),se._code=Ga(se,m),E.push(se)):(gt._code&Ft&&(se=nc(gt,st,Ft,m,b),se._code=Ga(se,m),E.push(se)),E.push(st));c=E}return c}function sf(c,m){var b,E,M,I,$,nt,st,gt,Mt;if(!c||c.length===0)throw new Error("latlngs not passed");Di(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Ft=Tt([0,0]),se=bt(c),On=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());On<1700&&(Ft=Gu(c));var ln=c.length,yi=[];for(b=0;b<ln;b++){var be=Tt(c[b]);yi.push(m.project(Tt([be.lat-Ft.lat,be.lng-Ft.lng])))}for(nt=st=gt=0,b=0,E=ln-1;b<ln;E=b++)M=yi[b],I=yi[E],$=M.y*I.x-I.y*M.x,st+=(M.x+I.x)*$,gt+=(M.y+I.y)*$,nt+=$*3;nt===0?Mt=yi[0]:Mt=[st/nt,gt/nt];var _e=m.unproject(yt(Mt));return Tt([_e.lat+Ft.lat,_e.lng+Ft.lng])}function Gu(c){for(var m=0,b=0,E=0,M=0;M<c.length;M++){var I=Tt(c[M]);m+=I.lat,b+=I.lng,E++}return Tt([m/E,b/E])}var Wu={__proto__:null,clipPolygon:af,polygonCenter:sf,centroid:Gu};function of(c,m){if(!m||!c.length)return c.slice();var b=m*m;return c=vv(c,b),c=cf(c,b),c}function lf(c,m,b){return Math.sqrt(Wo(c,m,b,!0))}function gv(c,m,b){return Wo(c,m,b)}function cf(c,m){var b=c.length,E=typeof Uint8Array<"u"?Uint8Array:Array,M=new E(b);M[0]=M[b-1]=1,Vu(c,M,m,0,b-1);var I,$=[];for(I=0;I<b;I++)M[I]&&$.push(c[I]);return $}function Vu(c,m,b,E,M){var I=0,$,nt,st;for(nt=E+1;nt<=M-1;nt++)st=Wo(c[nt],c[E],c[M],!0),st>I&&($=nt,I=st);I>b&&(m[$]=1,Vu(c,m,b,E,$),Vu(c,m,b,$,M))}function vv(c,m){for(var b=[c[0]],E=1,M=0,I=c.length;E<I;E++)yv(c[E],c[M])>m&&(b.push(c[E]),M=E);return M<I-1&&b.push(c[I-1]),b}var uf;function hf(c,m,b,E,M){var I=E?uf:Ga(c,b),$=Ga(m,b),nt,st,gt;for(uf=$;;){if(!(I|$))return[c,m];if(I&$)return!1;nt=I||$,st=nc(c,m,nt,b,M),gt=Ga(st,b),nt===I?(c=st,I=gt):(m=st,$=gt)}}function nc(c,m,b,E,M){var I=m.x-c.x,$=m.y-c.y,nt=E.min,st=E.max,gt,Mt;return b&8?(gt=c.x+I*(st.y-c.y)/$,Mt=st.y):b&4?(gt=c.x+I*(nt.y-c.y)/$,Mt=nt.y):b&2?(gt=st.x,Mt=c.y+$*(st.x-c.x)/I):b&1&&(gt=nt.x,Mt=c.y+$*(nt.x-c.x)/I),new V(gt,Mt,M)}function Ga(c,m){var b=0;return c.x<m.min.x?b|=1:c.x>m.max.x&&(b|=2),c.y<m.min.y?b|=4:c.y>m.max.y&&(b|=8),b}function yv(c,m){var b=m.x-c.x,E=m.y-c.y;return b*b+E*E}function Wo(c,m,b,E){var M=m.x,I=m.y,$=b.x-M,nt=b.y-I,st=$*$+nt*nt,gt;return st>0&&(gt=((c.x-M)*$+(c.y-I)*nt)/st,gt>1?(M=b.x,I=b.y):gt>0&&(M+=$*gt,I+=nt*gt)),$=c.x-M,nt=c.y-I,E?$*$+nt*nt:new V(M,I)}function Di(c){return!k(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function ic(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Di(c)}function Hs(c,m){var b,E,M,I,$,nt,st,gt;if(!c||c.length===0)throw new Error("latlngs not passed");Di(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Mt=Tt([0,0]),Ft=bt(c),se=Ft.getNorthWest().distanceTo(Ft.getSouthWest())*Ft.getNorthEast().distanceTo(Ft.getNorthWest());se<1700&&(Mt=Gu(c));var On=c.length,ln=[];for(b=0;b<On;b++){var yi=Tt(c[b]);ln.push(m.project(Tt([yi.lat-Mt.lat,yi.lng-Mt.lng])))}for(b=0,E=0;b<On-1;b++)E+=ln[b].distanceTo(ln[b+1])/2;if(E===0)gt=ln[0];else for(b=0,I=0;b<On-1;b++)if($=ln[b],nt=ln[b+1],M=$.distanceTo(nt),I+=M,I>E){st=(I-E)/M,gt=[nt.x-st*(nt.x-$.x),nt.y-st*(nt.y-$.y)];break}var be=m.unproject(yt(gt));return Tt([be.lat+Mt.lat,be.lng+Mt.lng])}var bv={__proto__:null,simplify:of,pointToSegmentDistance:lf,closestPointOnSegment:gv,clipSegment:hf,_getEdgeIntersection:nc,_getBitCode:Ga,_sqClosestPointOnSegment:Wo,isFlat:Di,_flat:ic,polylineCenter:Hs},rc={project:function(c){return new V(c.lng,c.lat)},unproject:function(c){return new Q(c.y,c.x)},bounds:new H([-180,-90],[180,90])},ac={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var m=Math.PI/180,b=this.R,E=c.lat*m,M=this.R_MINOR/b,I=Math.sqrt(1-M*M),$=I*Math.sin(E),nt=Math.tan(Math.PI/4-E/2)/Math.pow((1-$)/(1+$),I/2);return E=-b*Math.log(Math.max(nt,1e-10)),new V(c.lng*m*b,E)},unproject:function(c){for(var m=180/Math.PI,b=this.R,E=this.R_MINOR/b,M=Math.sqrt(1-E*E),I=Math.exp(-c.y/b),$=Math.PI/2-2*Math.atan(I),nt=0,st=.1,gt;nt<15&&Math.abs(st)>1e-7;nt++)gt=M*Math.sin($),gt=Math.pow((1-gt)/(1+gt),M/2),st=Math.PI/2-2*Math.atan(I*gt)-$,$+=st;return new Q($*m,c.x*m/b)}},df={__proto__:null,LonLat:rc,Mercator:ac,SphericalMercator:Wt},ff=r({},Qt,{code:"EPSG:3395",projection:ac,transformation:(function(){var c=.5/(Math.PI*ac.R);return xt(c,.5,-c,.5)})()}),Yu=r({},Qt,{code:"EPSG:4326",projection:rc,transformation:xt(1/180,1,-1/180,.5)}),$s=r({},Dt,{projection:rc,transformation:xt(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,m){var b=m.lng-c.lng,E=m.lat-c.lat;return Math.sqrt(b*b+E*E)},infinite:!0});Dt.Earth=Qt,Dt.EPSG3395=ff,Dt.EPSG3857=U,Dt.EPSG900913=Y,Dt.EPSG4326=Yu,Dt.Simple=$s;var Ji=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[d(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[d(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var m=c.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});pe.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var m=d(c);return this._layers[m]?this:(this._layers[m]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var m=d(c);return this._layers[m]?(this._loaded&&c.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return d(c)in this._layers},eachLayer:function(c,m){for(var b in this._layers)c.call(m,this._layers[b]);return this},_addLayers:function(c){c=c?k(c)?c:[c]:[];for(var m=0,b=c.length;m<b;m++)this.addLayer(c[m])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[d(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var m=d(c);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,m=-1/0,b=this._getZoomSpan();for(var E in this._zoomBoundLayers){var M=this._zoomBoundLayers[E].options;c=M.minZoom===void 0?c:Math.min(c,M.minZoom),m=M.maxZoom===void 0?m:Math.max(m,M.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=c===1/0?void 0:c,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qs=Ji.extend({initialize:function(c,m){S(this,m),this._layers={};var b,E;if(c)for(b=0,E=c.length;b<E;b++)this.addLayer(c[b])},addLayer:function(c){var m=this.getLayerId(c);return this._layers[m]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var m=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(c){var m=typeof c=="number"?c:this.getLayerId(c);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var m=Array.prototype.slice.call(arguments,1),b,E;for(b in this._layers)E=this._layers[b],E[c]&&E[c].apply(E,m);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,m){for(var b in this._layers)c.call(m,this._layers[b]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return d(c)}}),_v=function(c,m){return new qs(c,m)},mr=qs.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),qs.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),qs.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new dt;for(var m in this._layers){var b=this._layers[m];c.extend(b.getBounds?b.getBounds():b.getLatLng())}return c}}),pf=function(c,m){return new mr(c,m)},gr=_t.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){S(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,m){var b=this._getIconUrl(c);if(!b){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(E,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(c,m){var b=this.options,E=b[m+"Size"];typeof E=="number"&&(E=[E,E]);var M=yt(E),I=yt(m==="shadow"&&b.shadowAnchor||b.iconAnchor||M&&M.divideBy(2,!0));c.className="leaflet-marker-"+m+" "+(b.className||""),I&&(c.style.marginLeft=-I.x+"px",c.style.marginTop=-I.y+"px"),M&&(c.style.width=M.x+"px",c.style.height=M.y+"px")},_createImg:function(c,m){return m=m||document.createElement("img"),m.src=c,m},_getIconUrl:function(c){return zt.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function Vo(c){return new gr(c)}var Yo=gr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof Yo.imagePath!="string"&&(Yo.imagePath=this._detectIconPath()),(this.options.imagePath||Yo.imagePath)+gr.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var m=function(b,E,M){var I=E.exec(b);return I&&I[M]};return c=m(c,/^url\((['"])?(.+)\1\)$/,2),c&&m(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=ce("div","leaflet-default-icon-path",document.body),m=zo(c,"background-image")||zo(c,"backgroundImage");if(document.body.removeChild(c),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Xo=pr.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new la(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ne(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ze(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var m=this._marker,b=m._map,E=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,I=sa(m._icon),$=b.getPixelBounds(),nt=b.getPixelOrigin(),st=it($.min._subtract(nt).add(M),$.max._subtract(nt).subtract(M));if(!st.contains(I)){var gt=yt((Math.max(st.max.x,I.x)-st.max.x)/($.max.x-st.max.x)-(Math.min(st.min.x,I.x)-st.min.x)/($.min.x-st.min.x),(Math.max(st.max.y,I.y)-st.max.y)/($.max.y-st.max.y)-(Math.min(st.min.y,I.y)-st.min.y)/($.min.y-st.min.y)).multiplyBy(E);b.panBy(gt,{animate:!1}),this._draggable._newPos._add(gt),this._draggable._startPos._add(gt),Fe(m._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=et(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=et(this._adjustPan.bind(this,c)))},_onDrag:function(c){var m=this._marker,b=m._shadow,E=sa(m._icon),M=m._map.layerPointToLatLng(E);b&&Fe(b,E),m._latlng=M,c.latlng=M,c.oldLatLng=this._oldLatLng,m.fire("move",c).fire("drag",c)},_onDragEnd:function(c){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),Zo=Ji.extend({options:{icon:new Yo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,m){S(this,m),this._latlng=Tt(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var m=this._latlng;return this._latlng=Tt(c),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=c.icon.createIcon(this._icon),E=!1;b!==this._icon&&(this._icon&&this._removeIcon(),E=!0,c.title&&(b.title=c.title),b.tagName==="IMG"&&(b.alt=c.alt||"")),ne(b,m),c.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(b,"focus",this._panOnFocus,this);var M=c.icon.createShadow(this._shadow),I=!1;M!==this._shadow&&(this._removeShadow(),I=!0),M&&(ne(M,m),M.alt=""),this._shadow=M,c.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&I&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(this._icon,"focus",this._panOnFocus,this),Ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ne(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&Fe(this._icon,c),this._shadow&&Fe(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xo)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xo(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&We(this._icon,c),this._shadow&&We(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var m=this.options.icon.options,b=m.iconSize?yt(m.iconSize):yt(0,0),E=m.iconAnchor?yt(m.iconAnchor):yt(0,0);c.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:b.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mf(c,m){return new Zo(c,m)}var vr=Ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return S(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gs=vr.extend({options:{fill:!0,radius:10},initialize:function(c,m){S(this,m),this._latlng=Tt(c),this._radius=this.options.radius},setLatLng:function(c){var m=this._latlng;return this._latlng=Tt(c),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var m=c&&c.radius||this._radius;return vr.prototype.setStyle.call(this,c),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,m=this._radiusY||c,b=this._clickTolerance(),E=[c+b,m+b];this._pxBounds=new H(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gf(c,m){return new Gs(c,m)}var sc=Gs.extend({initialize:function(c,m,b){if(typeof m=="number"&&(m=r({},b,{radius:m})),S(this,m),this._latlng=Tt(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:vr.prototype.setStyle,_project:function(){var c=this._latlng.lng,m=this._latlng.lat,b=this._map,E=b.options.crs;if(E.distance===Qt.distance){var M=Math.PI/180,I=this._mRadius/Qt.R/M,$=b.project([m+I,c]),nt=b.project([m-I,c]),st=$.add(nt).divideBy(2),gt=b.unproject(st).lat,Mt=Math.acos((Math.cos(I*M)-Math.sin(m*M)*Math.sin(gt*M))/(Math.cos(m*M)*Math.cos(gt*M)))/M;(isNaN(Mt)||Mt===0)&&(Mt=I/Math.cos(Math.PI/180*m)),this._point=st.subtract(b.getPixelOrigin()),this._radius=isNaN(Mt)?0:st.x-b.project([gt,c-Mt]).x,this._radiusY=st.y-$.y}else{var Ft=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(Ft).x}this._updateBounds()}});function vf(c,m,b){return new sc(c,m,b)}var Ur=vr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,m){S(this,m),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var m=1/0,b=null,E=Wo,M,I,$=0,nt=this._parts.length;$<nt;$++)for(var st=this._parts[$],gt=1,Mt=st.length;gt<Mt;gt++){M=st[gt-1],I=st[gt];var Ft=E(c,M,I,!0);Ft<m&&(m=Ft,b=E(c,M,I))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,m){return m=m||this._defaultShape(),c=Tt(c),m.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new dt,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Di(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var m=[],b=Di(c),E=0,M=c.length;E<M;E++)b?(m[E]=Tt(c[E]),this._bounds.extend(m[E])):m[E]=this._convertLatLngs(c[E]);return m},_project:function(){var c=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),m=new V(c,c);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(c,m,b){var E=c[0]instanceof Q,M=c.length,I,$;if(E){for($=[],I=0;I<M;I++)$[I]=this._map.latLngToLayerPoint(c[I]),b.extend($[I]);m.push($)}else for(I=0;I<M;I++)this._projectLatlngs(c[I],m,b)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,E,M,I,$,nt,st;for(b=0,M=0,I=this._rings.length;b<I;b++)for(st=this._rings[b],E=0,$=st.length;E<$-1;E++)nt=hf(st[E],st[E+1],c,E,!0),nt&&(m[M]=m[M]||[],m[M].push(nt[0]),(nt[1]!==st[E+1]||E===$-2)&&(m[M].push(nt[1]),M++))}},_simplifyPoints:function(){for(var c=this._parts,m=this.options.smoothFactor,b=0,E=c.length;b<E;b++)c[b]=of(c[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,m){var b,E,M,I,$,nt,st=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(b=0,I=this._parts.length;b<I;b++)for(nt=this._parts[b],E=0,$=nt.length,M=$-1;E<$;M=E++)if(!(!m&&E===0)&&lf(c,nt[M],nt[E])<=st)return!0;return!1}});function xv(c,m){return new Ur(c,m)}Ur._flat=ic;var Ws=Ur.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var m=Ur.prototype._convertLatLngs.call(this,c),b=m.length;return b>=2&&m[0]instanceof Q&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(c){Ur.prototype._setLatLngs.call(this,c),Di(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Di(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,m=this.options.weight,b=new V(m,m);if(c=new H(c.min.subtract(b),c.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,M=this._rings.length,I;E<M;E++)I=af(this._rings[E],c,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var m=!1,b,E,M,I,$,nt,st,gt;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(I=0,st=this._parts.length;I<st;I++)for(b=this._parts[I],$=0,gt=b.length,nt=gt-1;$<gt;nt=$++)E=b[$],M=b[nt],E.y>c.y!=M.y>c.y&&c.x<(M.x-E.x)*(c.y-E.y)/(M.y-E.y)+E.x&&(m=!m);return m||Ur.prototype._containsPoint.call(this,c,!0)}});function wv(c,m){return new Ws(c,m)}var Hr=mr.extend({initialize:function(c,m){S(this,m),this._layers={},c&&this.addData(c)},addData:function(c){var m=k(c)?c:c.features,b,E,M;if(m){for(b=0,E=m.length;b<E;b++)M=m[b],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var I=this.options;if(I.filter&&!I.filter(c))return this;var $=In(c,I);return $?($.feature=cc(c),$.defaultOptions=$.options,this.resetStyle($),I.onEachFeature&&I.onEachFeature(c,$),this.addLayer($)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=r({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(m){this._setLayerStyle(m,c)},this)},_setLayerStyle:function(c,m){c.setStyle&&(typeof m=="function"&&(m=m(c.feature)),c.setStyle(m))}});function In(c,m){var b=c.type==="Feature"?c.geometry:c,E=b?b.coordinates:null,M=[],I=m&&m.pointToLayer,$=m&&m.coordsToLatLng||oc,nt,st,gt,Mt;if(!E&&!b)return null;switch(b.type){case"Point":return nt=$(E),Vs(I,c,nt,m);case"MultiPoint":for(gt=0,Mt=E.length;gt<Mt;gt++)nt=$(E[gt]),M.push(Vs(I,c,nt,m));return new mr(M);case"LineString":case"MultiLineString":return st=Ko(E,b.type==="LineString"?0:1,$),new Ur(st,m);case"Polygon":case"MultiPolygon":return st=Ko(E,b.type==="Polygon"?1:2,$),new Ws(st,m);case"GeometryCollection":for(gt=0,Mt=b.geometries.length;gt<Mt;gt++){var Ft=In({geometry:b.geometries[gt],type:"Feature",properties:c.properties},m);Ft&&M.push(Ft)}return new mr(M);case"FeatureCollection":for(gt=0,Mt=b.features.length;gt<Mt;gt++){var se=In(b.features[gt],m);se&&M.push(se)}return new mr(M);default:throw new Error("Invalid GeoJSON object.")}}function Vs(c,m,b,E){return c?c(m,b):new Zo(b,E&&E.markersInheritOptions&&E)}function oc(c){return new Q(c[1],c[0],c[2])}function Ko(c,m,b){for(var E=[],M=0,I=c.length,$;M<I;M++)$=m?Ko(c[M],m-1,b):(b||oc)(c[M]),E.push($);return E}function lc(c,m){return c=Tt(c),c.alt!==void 0?[y(c.lng,m),y(c.lat,m),y(c.alt,m)]:[y(c.lng,m),y(c.lat,m)]}function Qo(c,m,b,E){for(var M=[],I=0,$=c.length;I<$;I++)M.push(m?Qo(c[I],Di(c[I])?0:m-1,b,E):lc(c[I],E));return!m&&b&&M.length>0&&M.push(M[0].slice()),M}function ca(c,m){return c.feature?r({},c.feature,{geometry:m}):cc(m)}function cc(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var ua={toGeoJSON:function(c){return ca(this,{type:"Point",coordinates:lc(this.getLatLng(),c)})}};Zo.include(ua),sc.include(ua),Gs.include(ua),Ur.include({toGeoJSON:function(c){var m=!Di(this._latlngs),b=Qo(this._latlngs,m?1:0,!1,c);return ca(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),Ws.include({toGeoJSON:function(c){var m=!Di(this._latlngs),b=m&&!Di(this._latlngs[0]),E=Qo(this._latlngs,b?2:m?1:0,!0,c);return m||(E=[E]),ca(this,{type:(b?"Multi":"")+"Polygon",coordinates:E})}}),qs.include({toMultiPoint:function(c){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(c).geometry.coordinates)}),ca(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(c){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(c);var b=m==="GeometryCollection",E=[];return this.eachLayer(function(M){if(M.toGeoJSON){var I=M.toGeoJSON(c);if(b)E.push(I.geometry);else{var $=cc(I);$.type==="FeatureCollection"?E.push.apply(E,$.features):E.push($)}}}),b?ca(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function uc(c,m){return new Hr(c,m)}var Jo=uc,Ys=Ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,m,b){this._url=c,this._bounds=bt(m),S(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&Cn(this._image),this},bringToBack:function(){return this._map&&Ha(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=bt(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",m=this._image=c?this._url:ce("img");if(ne(m,"leaflet-image-layer"),this._zoomAnimated&&ne(m,"leaflet-zoom-animated"),this.options.className&&ne(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onload=l(this.fire,this,"load"),m.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(c){var m=this._map.getZoomScale(c.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;zr(this._image,b,m)},_reset:function(){var c=this._image,m=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();Fe(c,m.min),c.style.width=b.x+"px",c.style.height=b.y+"px"},_updateOpacity:function(){We(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),yf=function(c,m,b){return new Ys(c,m,b)},ha=Ys.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",m=this._image=c?this._url:ce("video");if(ne(m,"leaflet-image-layer"),this._zoomAnimated&&ne(m,"leaflet-zoom-animated"),this.options.className&&ne(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onloadeddata=l(this.fire,this,"load"),c){for(var b=m.getElementsByTagName("source"),E=[],M=0;M<b.length;M++)E.push(b[M].src);this._url=b.length>0?E:[m.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var $=ce("source");$.src=this._url[I],m.appendChild($)}}});function Xs(c,m,b){return new ha(c,m,b)}var hc=Ys.extend({_initImage:function(){var c=this._image=this._url;ne(c,"leaflet-image-layer"),this._zoomAnimated&&ne(c,"leaflet-zoom-animated"),this.options.className&&ne(c,this.options.className),c.onselectstart=v,c.onmousemove=v}});function bf(c,m,b){return new hc(c,m,b)}var zn=Ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,m){c&&(c instanceof Q||k(c))?(this._latlng=Tt(c),S(this,m)):(S(this,c),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&We(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&We(this._container,1),this.bringToFront(),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(We(this._container,0),this._removeTimeout=setTimeout(l(Ne,void 0,this._container),200)):Ne(this._container),this.options.interactive&&(Ze(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=Tt(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Cn(this._container),this},bringToBack:function(){return this._map&&Ha(this._container),this},_prepareOpen:function(c){var m=this._source;if(!m._map)return!1;if(m instanceof mr){m=null;var b=this._source._layers;for(var E in b)if(b[E]._map){m=b[E];break}if(!m)return!1;this._source=m}if(!c)if(m.getCenter)c=m.getCenter();else if(m.getLatLng)c=m.getLatLng();else if(m.getBounds)c=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")c.innerHTML=m;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),m=yt(this.options.offset),b=this._getAnchor();this._zoomAnimated?Fe(this._container,c.add(b)):m=m.add(c).add(b);var E=this._containerBottom=-m.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=E+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});pe.include({_initOverlay:function(c,m,b,E){var M=m;return M instanceof c||(M=new c(E).setContent(m)),b&&M.setLatLng(b),M}}),Ji.include({_initOverlay:function(c,m,b,E){var M=b;return M instanceof c?(S(M,E),M._source=this):(M=m&&!E?m:new c(E,this),M.setContent(b)),M}});var tl=zn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,zn.prototype.openOn.call(this,c)},onAdd:function(c){zn.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vr||this._source.on("preclick",Qi))},onRemove:function(c){zn.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vr||this._source.off("preclick",Qi))},getEvents:function(){var c=zn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",m=this._container=ce("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=ce("div",c+"-content-wrapper",m);if(this._contentNode=ce("div",c+"-content",b),qa(m),fr(this._contentNode),Xt(m,"contextmenu",Qi),this._tipContainer=ce("div",c+"-tip-container",m),this._tip=ce("div",c+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=ce("a",c+"-close-button",m);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',Xt(E,"click",function(M){on(M),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,m=c.style;m.width="",m.whiteSpace="nowrap";var b=c.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var E=c.offsetHeight,M=this.options.maxHeight,I="leaflet-popup-scrolled";M&&E>M?(m.height=M+"px",ne(c,I)):Ze(c,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),b=this._getAnchor();Fe(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,m=parseInt(zo(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,E=this._containerWidth,M=new V(this._containerLeft,-b-this._containerBottom);M._add(sa(this._container));var I=c.layerPointToContainerPoint(M),$=yt(this.options.autoPanPadding),nt=yt(this.options.autoPanPaddingTopLeft||$),st=yt(this.options.autoPanPaddingBottomRight||$),gt=c.getSize(),Mt=0,Ft=0;I.x+E+st.x>gt.x&&(Mt=I.x+E-gt.x+st.x),I.x-Mt-nt.x<0&&(Mt=I.x-nt.x),I.y+b+st.y>gt.y&&(Ft=I.y+b-gt.y+st.y),I.y-Ft-nt.y<0&&(Ft=I.y-nt.y),(Mt||Ft)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([Mt,Ft]))}},_getAnchor:function(){return yt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_f=function(c,m){return new tl(c,m)};pe.mergeOptions({closePopupOnClick:!0}),pe.include({openPopup:function(c,m,b){return this._initOverlay(tl,c,m,b).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),Ji.include({bindPopup:function(c,m){return this._popup=this._initOverlay(tl,this._popup,c,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof mr||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){oa(c);var m=c.layer||c.target;if(this._popup._source===m&&!(m instanceof vr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=m,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var el=zn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){zn.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){zn.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=zn.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",m=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ce("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var m,b,E=this._map,M=this._container,I=E.latLngToContainerPoint(E.getCenter()),$=E.layerPointToContainerPoint(c),nt=this.options.direction,st=M.offsetWidth,gt=M.offsetHeight,Mt=yt(this.options.offset),Ft=this._getAnchor();nt==="top"?(m=st/2,b=gt):nt==="bottom"?(m=st/2,b=0):nt==="center"?(m=st/2,b=gt/2):nt==="right"?(m=0,b=gt/2):nt==="left"?(m=st,b=gt/2):$.x<I.x?(nt="right",m=0,b=gt/2):(nt="left",m=st+(Mt.x+Ft.x)*2,b=gt/2),c=c.subtract(yt(m,b,!0)).add(Mt).add(Ft),Ze(M,"leaflet-tooltip-right"),Ze(M,"leaflet-tooltip-left"),Ze(M,"leaflet-tooltip-top"),Ze(M,"leaflet-tooltip-bottom"),ne(M,"leaflet-tooltip-"+nt),Fe(M,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&We(this._container,c)},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(m)},_getAnchor:function(){return yt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Sv=function(c,m){return new el(c,m)};pe.include({openTooltip:function(c,m,b){return this._initOverlay(el,c,m,b).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),Ji.include({bindTooltip:function(c,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(el,this._tooltip,c,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var m=c?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof mr||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var m=typeof c.getElement=="function"&&c.getElement();m&&(Xt(m,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),Xt(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var m=typeof c.getElement=="function"&&c.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var m=c.latlng,b,E;this._tooltip.options.sticky&&c.originalEvent&&(b=this._map.mouseEventToContainerPoint(c.originalEvent),E=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(m)}});var xf=gr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var m=c&&c.tagName==="DIV"?c:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Mi(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var E=yt(b.bgPos);m.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Av(c){return new xf(c)}gr.Default=Yo;var Zs=Ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:zt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){S(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),Ne(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Cn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ha(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof V?c:new V(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var m=this.getPane().children,b=-c(-1/0,1/0),E=0,M=m.length,I;E<M;E++)I=m[E].style.zIndex,m[E]!==this._container&&I&&(b=c(b,+I));isFinite(b)&&(this.options.zIndex=b+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!zt.ielt9){We(this._container,this.options.opacity);var c=+new Date,m=!1,b=!1;for(var E in this._tiles){var M=this._tiles[E];if(!(!M.current||!M.loaded)){var I=Math.min(1,(c-M.loaded)/200);We(M.el,I),I<1?m=!0:(M.active?b=!0:this._onOpaqueTile(M),M.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(Z(this._fadeFrame),this._fadeFrame=et(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=ce("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,m=this.options.maxZoom;if(c!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===c?(this._levels[b].el.style.zIndex=m-Math.abs(c-b),this._onUpdateLevel(b)):(Ne(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var E=this._levels[c],M=this._map;return E||(E=this._levels[c]={},E.el=ce("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=m,E.origin=M.project(M.unproject(M.getPixelOrigin()),c).round(),E.zoom=c,this._setZoomTransform(E,M.getCenter(),M.getZoom()),v(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var c,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)m=this._tiles[c],m.retain=m.current;for(c in this._tiles)if(m=this._tiles[c],m.current&&!m.active){var E=m.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var m in this._tiles)this._tiles[m].coords.z===c&&this._removeTile(m)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)Ne(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,m,b,E){var M=Math.floor(c/2),I=Math.floor(m/2),$=b-1,nt=new V(+M,+I);nt.z=+$;var st=this._tileCoordsToKey(nt),gt=this._tiles[st];return gt&&gt.active?(gt.retain=!0,!0):(gt&&gt.loaded&&(gt.retain=!0),$>E?this._retainParent(M,I,$,E):!1)},_retainChildren:function(c,m,b,E){for(var M=2*c;M<2*c+2;M++)for(var I=2*m;I<2*m+2;I++){var $=new V(M,I);$.z=b+1;var nt=this._tileCoordsToKey($),st=this._tiles[nt];if(st&&st.active){st.retain=!0;continue}else st&&st.loaded&&(st.retain=!0);b+1<E&&this._retainChildren(M,I,b+1,E)}},_resetView:function(c){var m=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var m=this.options;return m.minNativeZoom!==void 0&&c<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<c?m.maxNativeZoom:c},_setView:function(c,m,b,E){var M=Math.round(m);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var I=this.options.updateWhenZooming&&M!==this._tileZoom;(!E||I)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(c),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(c,m)},_setZoomTransforms:function(c,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],c,m)},_setZoomTransform:function(c,m,b){var E=this._map.getZoomScale(b,c.zoom),M=c.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(m,b)).round();zt.any3d?zr(c.el,M,E):Fe(c.el,M)},_resetGrid:function(){var c=this._map,m=c.options.crs,b=this._tileSize=this.getTileSize(),E=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,m.wrapLng[0]],E).x/b.x),Math.ceil(c.project([0,m.wrapLng[1]],E).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([m.wrapLat[0],0],E).y/b.x),Math.ceil(c.project([m.wrapLat[1],0],E).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),E=m.getZoomScale(b,this._tileZoom),M=m.project(c,this._tileZoom).floor(),I=m.getSize().divideBy(E*2);return new H(M.subtract(I),M.add(I))},_update:function(c){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(c===void 0&&(c=m.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(c),M=this._pxBoundsToTileRange(E),I=M.getCenter(),$=[],nt=this.options.keepBuffer,st=new H(M.getBottomLeft().subtract([nt,-nt]),M.getTopRight().add([nt,-nt]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var gt in this._tiles){var Mt=this._tiles[gt].coords;(Mt.z!==this._tileZoom||!st.contains(new V(Mt.x,Mt.y)))&&(this._tiles[gt].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(c,b);return}for(var Ft=M.min.y;Ft<=M.max.y;Ft++)for(var se=M.min.x;se<=M.max.x;se++){var On=new V(se,Ft);if(On.z=this._tileZoom,!!this._isValidTile(On)){var ln=this._tiles[this._tileCoordsToKey(On)];ln?ln.current=!0:$.push(On)}}if($.sort(function(be,_e){return be.distanceTo(I)-_e.distanceTo(I)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yi=document.createDocumentFragment();for(se=0;se<$.length;se++)this._addTile($[se],yi);this._level.el.appendChild(yi)}}}},_isValidTile:function(c){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(c.x<b.min.x||c.x>b.max.x)||!m.wrapLat&&(c.y<b.min.y||c.y>b.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(c);return bt(this.options.bounds).overlaps(E)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var m=this._map,b=this.getTileSize(),E=c.scaleBy(b),M=E.add(b),I=m.unproject(E,c.z),$=m.unproject(M,c.z);return[I,$]},_tileCoordsToBounds:function(c){var m=this._tileCoordsToNwSe(c),b=new dt(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var m=c.split(":"),b=new V(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(c){var m=this._tiles[c];m&&(Ne(m.el),delete this._tiles[c],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){ne(c,"leaflet-tile");var m=this.getTileSize();c.style.width=m.x+"px",c.style.height=m.y+"px",c.onselectstart=v,c.onmousemove=v,zt.ielt9&&this.options.opacity<1&&We(c,this.options.opacity)},_addTile:function(c,m){var b=this._getTilePos(c),E=this._tileCoordsToKey(c),M=this.createTile(this._wrapCoords(c),l(this._tileReady,this,c));this._initTile(M),this.createTile.length<2&&et(l(this._tileReady,this,c,null,M)),Fe(M,b),this._tiles[E]={el:M,coords:c,current:!0},m.appendChild(M),this.fire("tileloadstart",{tile:M,coords:c})},_tileReady:function(c,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:c});var E=this._tileCoordsToKey(c);b=this._tiles[E],b&&(b.loaded=+new Date,this._map._fadeAnimated?(We(b.el,0),Z(this._fadeFrame),this._fadeFrame=et(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(ne(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),zt.ielt9||!this._map._fadeAnimated?et(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var m=new V(this._wrapX?p(c.x,this._wrapX):c.x,this._wrapY?p(c.y,this._wrapY):c.y);return m.z=c.z,m},_pxBoundsToTileRange:function(c){var m=this.getTileSize();return new H(c.min.unscaleBy(m).floor(),c.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function wf(c){return new Zs(c)}var da=Zs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,m){this._url=c,m=S(this,m),m.detectRetina&&zt.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,m){return this._url===c&&m===void 0&&(m=!0),this._url=c,m||this.redraw(),this},createTile:function(c,m){var b=document.createElement("img");return Xt(b,"load",l(this._tileOnLoad,this,m,b)),Xt(b,"error",l(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(c),b},getTileUrl:function(c){var m={r:zt.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-c.y;this.options.tms&&(m.y=b),m["-y"]=b}return N(this._url,r(m,this.options))},_tileOnLoad:function(c,m){zt.ielt9?setTimeout(l(c,this,null,m),0):c(null,m)},_tileOnError:function(c,m,b){var E=this.options.errorTileUrl;E&&m.getAttribute("src")!==E&&(m.src=E),c(b,m)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,E=this.options.zoomOffset;return b&&(c=m-c),c+E},_getSubdomain:function(c){var m=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var c,m;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(m=this._tiles[c].el,m.onload=v,m.onerror=v,!m.complete)){m.src=z;var b=this._tiles[c].coords;Ne(m),delete this._tiles[c],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(c){var m=this._tiles[c];if(m)return m.el.setAttribute("src",z),Zs.prototype._removeTile.call(this,c)},_tileReady:function(c,m,b){if(!(!this._map||b&&b.getAttribute("src")===z))return Zs.prototype._tileReady.call(this,c,m,b)}});function ki(c,m){return new da(c,m)}var nl=da.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,m){this._url=c;var b=r({},this.defaultWmsParams);for(var E in m)E in this.options||(b[E]=m[E]);m=S(this,m);var M=m.detectRetina&&zt.retina?2:1,I=this.getTileSize();b.width=I.x*M,b.height=I.y*M,this.wmsParams=b},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,da.prototype.onAdd.call(this,c)},getTileUrl:function(c){var m=this._tileCoordsToNwSe(c),b=this._crs,E=it(b.project(m[0]),b.project(m[1])),M=E.min,I=E.max,$=(this._wmsVersion>=1.3&&this._crs===Yu?[M.y,M.x,I.y,I.x]:[M.x,M.y,I.x,I.y]).join(","),nt=da.prototype.getTileUrl.call(this,c);return nt+C(this.wmsParams,nt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(c,m){return r(this.wmsParams,c),m||this.redraw(),this}});function Li(c,m){return new nl(c,m)}da.WMS=nl,ki.wms=Li;var hi=Ji.extend({options:{padding:.1},initialize:function(c){S(this,c),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,m){var b=this._map.getZoomScale(m,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,m),I=E.multiplyBy(-b).add(M).subtract(this._map._getNewPixelOrigin(c,m));zt.any3d?zr(this._container,I,b):Fe(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-c)).round();this._bounds=new H(b,b.add(m.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dc=hi.extend({options:{tolerance:0},getEvents:function(){var c=hi.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){hi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");Xt(c,"mousemove",this._onMouseMove,this),Xt(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Xt(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,Ne(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var m in this._layers)c=this._layers[m],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){hi.prototype._update.call(this);var c=this._bounds,m=this._container,b=c.getSize(),E=zt.retina?2:1;Fe(m,c.min),m.width=E*b.x,m.height=E*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",zt.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){hi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[d(c)]=c;var m=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var m=c._order,b=m.next,E=m.prev;b?b.prev=E:this._drawLast=E,E?E.next=b:this._drawFirst=b,delete c._order,delete this._layers[d(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var m=c.options.dashArray.split(/[, ]+/),b=[],E,M;for(M=0;M<m.length;M++){if(E=Number(m[M]),isNaN(E))return;b.push(E)}c.options._dashArray=b}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||et(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var m=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(c._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(c._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var m=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)c=E.layer,(!m||c._pxBounds&&c._pxBounds.intersects(m))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,m){if(this._drawing){var b,E,M,I,$=c._parts,nt=$.length,st=this._ctx;if(nt){for(st.beginPath(),b=0;b<nt;b++){for(E=0,M=$[b].length;E<M;E++)I=$[b][E],st[E?"lineTo":"moveTo"](I.x,I.y);m&&st.closePath()}this._fillStroke(st,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var m=c._point,b=this._ctx,E=Math.max(Math.round(c._radius),1),M=(Math.max(Math.round(c._radiusY),1)||E)/E;M!==1&&(b.save(),b.scale(1,M)),b.beginPath(),b.arc(m.x,m.y/M,E,0,Math.PI*2,!1),M!==1&&b.restore(),this._fillStroke(b,c)}},_fillStroke:function(c,m){var b=m.options;b.fill&&(c.globalAlpha=b.fillOpacity,c.fillStyle=b.fillColor||b.color,c.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(c.setLineDash&&c.setLineDash(m.options&&m.options._dashArray||[]),c.globalAlpha=b.opacity,c.lineWidth=b.weight,c.strokeStyle=b.color,c.lineCap=b.lineCap,c.lineJoin=b.lineJoin,c.stroke())},_onClick:function(c){for(var m=this._map.mouseEventToLayerPoint(c),b,E,M=this._drawFirst;M;M=M.next)b=M.layer,b.options.interactive&&b._containsPoint(m)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(b))&&(E=b);this._fireEvent(E?[E]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,m)}},_handleMouseOut:function(c){var m=this._hoveredLayer;m&&(Ze(this._container,"leaflet-interactive"),this._fireEvent([m],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,m){if(!this._mouseHoverThrottled){for(var b,E,M=this._drawFirst;M;M=M.next)b=M.layer,b.options.interactive&&b._containsPoint(m)&&(E=b);E!==this._hoveredLayer&&(this._handleMouseOut(c),E&&(ne(this._container,"leaflet-interactive"),this._fireEvent([E],c,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,m,b){this._map._fireDOMEvent(m,b||m.type,c)},_bringToFront:function(c){var m=c._order;if(m){var b=m.next,E=m.prev;if(b)b.prev=E;else return;E?E.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(c)}},_bringToBack:function(c){var m=c._order;if(m){var b=m.next,E=m.prev;if(E)E.next=b;else return;b?b.prev=E:E&&(this._drawLast=E),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(c)}}});function il(c){return zt.canvas?new dc(c):null}var fa=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Xu={_initContainer:function(){this._container=ce("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(hi.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var m=c._container=fa("shape");ne(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",c._path=fa("path"),m.appendChild(c._path),this._updateStyle(c),this._layers[d(c)]=c},_addPath:function(c){var m=c._container;this._container.appendChild(m),c.options.interactive&&c.addInteractiveTarget(m)},_removePath:function(c){var m=c._container;Ne(m),c.removeInteractiveTarget(m),delete this._layers[d(c)]},_updateStyle:function(c){var m=c._stroke,b=c._fill,E=c.options,M=c._container;M.stroked=!!E.stroke,M.filled=!!E.fill,E.stroke?(m||(m=c._stroke=fa("stroke")),M.appendChild(m),m.weight=E.weight+"px",m.color=E.color,m.opacity=E.opacity,E.dashArray?m.dashStyle=k(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=E.lineCap.replace("butt","flat"),m.joinstyle=E.lineJoin):m&&(M.removeChild(m),c._stroke=null),E.fill?(b||(b=c._fill=fa("fill")),M.appendChild(b),b.color=E.fillColor||E.color,b.opacity=E.fillOpacity):b&&(M.removeChild(b),c._fill=null)},_updateCircle:function(c){var m=c._point.round(),b=Math.round(c._radius),E=Math.round(c._radiusY||b);this._setPath(c,c._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+E+" 0,"+65535*360)},_setPath:function(c,m){c._path.v=m},_bringToFront:function(c){Cn(c._container)},_bringToBack:function(c){Ha(c._container)}},yr=zt.vml?fa:pt,Ks=hi.extend({_initContainer:function(){this._container=yr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ne(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){hi.prototype._update.call(this);var c=this._bounds,m=c.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),Fe(b,c.min),b.setAttribute("viewBox",[c.min.x,c.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(c){var m=c._path=yr("path");c.options.className&&ne(m,c.options.className),c.options.interactive&&ne(m,"leaflet-interactive"),this._updateStyle(c),this._layers[d(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){Ne(c._path),c.removeInteractiveTarget(c._path),delete this._layers[d(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var m=c._path,b=c.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(c,m){this._setPath(c,At(c._parts,m))},_updateCircle:function(c){var m=c._point,b=Math.max(Math.round(c._radius),1),E=Math.max(Math.round(c._radiusY),1)||b,M="a"+b+","+E+" 0 1,0 ",I=c._empty()?"M0 0":"M"+(m.x-b)+","+m.y+M+b*2+",0 "+M+-b*2+",0 ";this._setPath(c,I)},_setPath:function(c,m){c._path.setAttribute("d",m)},_bringToFront:function(c){Cn(c._path)},_bringToBack:function(c){Ha(c._path)}});zt.vml&&Ks.include(Xu);function rl(c){return zt.svg||zt.vml?new Ks(c):null}pe.include({getRenderer:function(c){var m=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var m=this._paneRenderers[c];return m===void 0&&(m=this._createRenderer({pane:c}),this._paneRenderers[c]=m),m},_createRenderer:function(c){return this.options.preferCanvas&&il(c)||rl(c)}});var Wa=Ws.extend({initialize:function(c,m){Ws.prototype.initialize.call(this,this._boundsToLatLngs(c),m)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=bt(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function Tv(c,m){return new Wa(c,m)}Ks.create=yr,Ks.pointsToPath=At,Hr.geometryToLayer=In,Hr.coordsToLatLng=oc,Hr.coordsToLatLngs=Ko,Hr.latLngToCoords=lc,Hr.latLngsToCoords=Qo,Hr.getFeature=ca,Hr.asFeature=cc,pe.mergeOptions({boxZoom:!0});var di=pr.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Is(),Ql(),this._startPoint=this._map.mouseEventToContainerPoint(c),Xt(document,{contextmenu:oa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=ce("div","leaflet-zoom-box",this._container),ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var m=new H(this._point,this._startPoint),b=m.getSize();Fe(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(Ne(this._box),Ze(this._container,"leaflet-crosshair")),dr(),Fo(),Pe(document,{contextmenu:oa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var m=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pe.addInitHook("addHandler","boxZoom",di),pe.mergeOptions({doubleClickZoom:!0});var fc=pr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var m=this._map,b=m.getZoom(),E=m.options.zoomDelta,M=c.originalEvent.shiftKey?b-E:b+E;m.options.doubleClickZoom==="center"?m.setZoom(M):m.setZoomAround(c.containerPoint,M)}});pe.addInitHook("addHandler","doubleClickZoom",fc),pe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var br=pr.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new la(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ze(this._map._container,"leaflet-grab"),Ze(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=bt(this._map.options.maxBounds);this._offsetLimit=it(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,m){return c-(c-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;c.x<m.min.x&&(c.x=this._viscousLimit(c.x,m.min.x)),c.y<m.min.y&&(c.y=this._viscousLimit(c.y,m.min.y)),c.x>m.max.x&&(c.x=this._viscousLimit(c.x,m.max.x)),c.y>m.max.y&&(c.y=this._viscousLimit(c.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,m=Math.round(c/2),b=this._initialWorldOffset,E=this._draggable._newPos.x,M=(E-m+b)%c+m-b,I=(E+m+b)%c-m-b,$=Math.abs(M+b)<Math.abs(I+b)?M:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(c){var m=this._map,b=m.options,E=!b.inertia||c.noInertia||this._times.length<2;if(m.fire("dragend",c),E)m.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,$=b.easeLinearity,nt=M.multiplyBy($/I),st=nt.distanceTo([0,0]),gt=Math.min(b.inertiaMaxSpeed,st),Mt=nt.multiplyBy(gt/st),Ft=gt/(b.inertiaDeceleration*$),se=Mt.multiplyBy(-Ft/2).round();!se.x&&!se.y?m.fire("moveend"):(se=m._limitOffset(se,m.options.maxBounds),et(function(){m.panBy(se,{duration:Ft,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});pe.addInitHook("addHandler","dragging",br),pe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zu=pr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),Xt(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,m=document.documentElement,b=c.scrollTop||m.scrollTop,E=c.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(E,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var m=this._panKeys={},b=this.keyCodes,E,M;for(E=0,M=b.left.length;E<M;E++)m[b.left[E]]=[-1*c,0];for(E=0,M=b.right.length;E<M;E++)m[b.right[E]]=[c,0];for(E=0,M=b.down.length;E<M;E++)m[b.down[E]]=[0,c];for(E=0,M=b.up.length;E<M;E++)m[b.up[E]]=[0,-1*c]},_setZoomDelta:function(c){var m=this._zoomKeys={},b=this.keyCodes,E,M;for(E=0,M=b.zoomIn.length;E<M;E++)m[b.zoomIn[E]]=c;for(E=0,M=b.zoomOut.length;E<M;E++)m[b.zoomOut[E]]=-c},_addHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var m=c.keyCode,b=this._map,E;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(E=this._panKeys[m],c.shiftKey&&(E=yt(E).multiplyBy(3)),b.options.maxBounds&&(E=b._limitOffset(yt(E),b.options.maxBounds)),b.options.worldCopyJump){var M=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(E)));b.panTo(M)}else b.panBy(E)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;oa(c)}}});pe.addInitHook("addHandler","keyboard",Zu),pe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var al=pr.extend({addHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var m=Kn(c),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var E=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),E),oa(c)},_performZoom:function(){var c=this._map,m=c.getZoom(),b=this._map.options.zoomSnap||0;c._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,I=b?Math.ceil(M/b)*b:M,$=c._limitZoom(m+(this._delta>0?I:-I))-m;this._delta=0,this._startTime=null,$&&(c.options.scrollWheelZoom==="center"?c.setZoom(m+$):c.setZoomAround(this._lastMousePos,m+$))}});pe.addInitHook("addHandler","scrollWheelZoom",al);var Va=600;pe.mergeOptions({tapHold:zt.touchNative&&zt.safari&&zt.mobile,tapTolerance:15});var pc=pr.extend({addHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var m=c.touches[0];this._startPos=this._newPos=new V(m.clientX,m.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Xt(document,"touchend",on),Xt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),Va),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){Pe(document,"touchend",on),Pe(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)},_onMove:function(c){var m=c.touches[0];this._newPos=new V(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,m){var b=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});pe.addInitHook("addHandler","tapHold",pc),pe.mergeOptions({touchZoom:zt.touch,bounceAtZoomLimits:!0});var Ku=pr.extend({addHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ze(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var m=this._map;if(!(!c.touches||c.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(c.touches[0]),E=m.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(E)._divideBy(2))),this._startDist=b.distanceTo(E),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),on(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(c.touches[0]),E=m.mouseEventToContainerPoint(c.touches[1]),M=b.distanceTo(E)/this._startDist;if(this._zoom=m.getScaleZoom(M,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&M<1||this._zoom>m.getMaxZoom()&&M>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var I=b._add(E)._divideBy(2)._subtract(this._centerPoint);if(M===1&&I.x===0&&I.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var $=l(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=et($,this,!0),on(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});pe.addInitHook("addHandler","touchZoom",Ku),pe.BoxZoom=di,pe.DoubleClickZoom=fc,pe.Drag=br,pe.Keyboard=Zu,pe.ScrollWheelZoom=al,pe.TapHold=pc,pe.TouchZoom=Ku,e.Bounds=H,e.Browser=zt,e.CRS=Dt,e.Canvas=dc,e.Circle=sc,e.CircleMarker=Gs,e.Class=_t,e.Control=vi,e.DivIcon=xf,e.DivOverlay=zn,e.DomEvent=ec,e.DomUtil=Fs,e.Draggable=la,e.Evented=K,e.FeatureGroup=mr,e.GeoJSON=Hr,e.GridLayer=Zs,e.Handler=pr,e.Icon=gr,e.ImageOverlay=Ys,e.LatLng=Q,e.LatLngBounds=dt,e.Layer=Ji,e.LayerGroup=qs,e.LineUtil=bv,e.Map=pe,e.Marker=Zo,e.Mixin=mv,e.Path=vr,e.Point=V,e.PolyUtil=Wu,e.Polygon=Ws,e.Polyline=Ur,e.Popup=tl,e.PosAnimation=Us,e.Projection=df,e.Rectangle=Wa,e.Renderer=hi,e.SVG=Ks,e.SVGOverlay=hc,e.TileLayer=da,e.Tooltip=el,e.Transformation=Zt,e.Util=Ct,e.VideoOverlay=ha,e.bind=l,e.bounds=it,e.canvas=il,e.circle=vf,e.circleMarker=gf,e.control=Fr,e.divIcon=Av,e.extend=r,e.featureGroup=pf,e.geoJSON=uc,e.geoJson=Jo,e.gridLayer=wf,e.icon=Vo,e.imageOverlay=yf,e.latLng=Tt,e.latLngBounds=bt,e.layerGroup=_v,e.map=Fu,e.marker=mf,e.point=yt,e.polygon=wv,e.polyline=xv,e.popup=_f,e.rectangle=Tv,e.setOptions=S,e.stamp=d,e.svg=rl,e.svgOverlay=bf,e.tileLayer=ki,e.tooltip=Sv,e.transformation=xt,e.version=i,e.videoOverlay=Xs;var Qu=window.L;e.noConflict=function(){return window.L=Qu,this},window.L=e}))})(Qh,Qh.exports)),Qh.exports}var Ou=JY();const XN=Ra(Ou);function Vg(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function Yg(n,t){return t==null?function(i,r){const s=D.useRef(void 0);return s.current||(s.current=n(i,r)),s}:function(i,r){const s=D.useRef(void 0);s.current||(s.current=n(i,r));const l=D.useRef(i),{instance:u}=s.current;return D.useEffect(function(){l.current!==i&&(t(u,i,l.current),l.current=i)},[u,i,t]),s}}function ZN(n,t){D.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function KN(n){return function(e){const i=K1(),r=n(Wg(e,i),i);return WN(i.map,e.attribution),Q1(r.current,e.eventHandlers),ZN(r.current,i),r}}function tX(n,t){const e=D.useRef(void 0);D.useEffect(function(){if(t.pathOptions!==e.current){const r=t.pathOptions??{};n.instance.setStyle(r),e.current=r}},[n,t])}function eX(n){return function(e){const i=K1(),r=n(Wg(e,i),i);return Q1(r.current,e.eventHandlers),ZN(r.current,i),tX(r.current,e),r}}function nX(n,t){const e=Yg(n,t),i=KN(e);return YN(i)}function iX(n,t){const e=Yg(n),i=KY(e,t);return XY(i)}function rX(n,t){const e=Yg(n,t),i=eX(e);return YN(i)}function aX(n,t){const e=Yg(n,t),i=KN(e);return ZY(i)}function sX(n,t,e){const{opacity:i,zIndex:r}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),r!=null&&r!==e.zIndex&&n.setZIndex(r)}function oX({bounds:n,boundsOptions:t,center:e,children:i,className:r,id:s,placeholder:l,style:u,whenReady:d,zoom:f,...p},v){const[y]=D.useState({className:r,id:s,style:u}),[x,A]=D.useState(null),S=D.useRef(void 0);D.useImperativeHandle(v,()=>x?.map??null,[x]);const C=D.useCallback(N=>{if(N!==null&&!S.current){const k=new Ou.Map(N,p);S.current=k,e!=null&&f!=null?k.setView(e,f):n!=null&&k.fitBounds(n,t),d!=null&&k.whenReady(d),A(YY(k))}},[]);D.useEffect(()=>()=>{x?.map.remove()},[x]);const O=x?rd.createElement(Z1,{value:x},i):l??null;return rd.createElement("div",{...y,ref:C},O)}const lX=D.forwardRef(oX),cX=nX(function({position:t,...e},i){const r=new Ou.Marker(t,e);return Vg(r,VN(i,{overlayContainer:r}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),uX=rX(function({positions:t,...e},i){const r=new Ou.Polyline(t,e);return Vg(r,VN(i,{overlayContainer:r}))},function(t,e,i){e.positions!==i.positions&&t.setLatLngs(e.positions)}),hX=iX(function(t,e){const i=new Ou.Popup(t,e.overlayContainer);return Vg(i,e)},function(t,e,{position:i},r){D.useEffect(function(){const{instance:l}=t;function u(f){f.popup===l&&(l.update(),r(!0))}function d(f){f.popup===l&&r(!1)}return e.map.on({popupopen:u,popupclose:d}),e.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){e.map.off({popupopen:u,popupclose:d}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(l)}},[t,e,r,i])}),dX=aX(function({url:t,...e},i){const r=new Ou.TileLayer(t,Wg(e,i));return Vg(r,i)},function(t,e,i){sX(t,e,i);const{url:r}=e;r!=null&&r!==i.url&&t.setUrl(r)}),ei=[];for(let n=0;n<256;++n)ei.push((n+256).toString(16).slice(1));function fX(n,t=0){return(ei[n[t+0]]+ei[n[t+1]]+ei[n[t+2]]+ei[n[t+3]]+"-"+ei[n[t+4]]+ei[n[t+5]]+"-"+ei[n[t+6]]+ei[n[t+7]]+"-"+ei[n[t+8]]+ei[n[t+9]]+"-"+ei[n[t+10]]+ei[n[t+11]]+ei[n[t+12]]+ei[n[t+13]]+ei[n[t+14]]+ei[n[t+15]]).toLowerCase()}let Wb;const pX=new Uint8Array(16);function mX(){if(!Wb){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Wb=crypto.getRandomValues.bind(crypto)}return Wb(pX)}const gX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gM={randomUUID:gX};function vX(n,t,e){n=n||{};const i=n.random??n.rng?.()??mX();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,fX(i)}function Vb(n,t,e){return gM.randomUUID&&!n?gM.randomUUID():vX(n)}const _i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),nx=[.001,0,0,.001,0,0],Yb=1.35,ar={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},_d="pdfjs_internal_editor_",re={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ve={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},yX={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ix={TRIANGLES:1,LATTICE:2},Pn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},An={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},qc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Xg={ERRORS:0,WARNINGS:1,INFOS:5},xd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},$h={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},bX={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Zg=Xg.WARNINGS;function _X(n){Number.isInteger(n)&&(Zg=n)}function xX(){return Zg}function Kg(n){Zg>=Xg.INFOS&&console.info(`Info: ${n}`)}function te(n){Zg>=Xg.WARNINGS&&console.warn(`Warning: ${n}`)}function Me(n){throw new Error(n)}function Oe(n,t){n||Me(t)}function wX(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function QN(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"&&(e.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),e.tryConvertEncoding))try{n=OX(n)}catch{}const i=t?URL.parse(n,t):URL.parse(n);return wX(i)?i:null}function JN(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&QN(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ee(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Yl=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class vM extends Yl{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Xb extends Yl{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class rx extends Yl{constructor(t){super(t,"InvalidPDFException")}}class Qm extends Yl{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class SX extends Yl{constructor(t){super(t,"FormatError")}}class Eo extends Yl{constructor(t){super(t,"AbortException")}}function AX(n){(typeof n!="object"||n?.length===void 0)&&Me("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),l=n.subarray(r,s);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function Qg(n){typeof n!="string"&&Me("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function TX(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function EX(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function CX(){try{return new Function(""),!0}catch{return!1}}class Ln{static get isLittleEndian(){return ee(this,"isLittleEndian",EX())}static get isEvalSupported(){return ee(this,"isEvalSupported",CX())}static get isOffscreenCanvasSupported(){return ee(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ee(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return ee(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return ee(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return ee(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return ee(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Zb=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class Lt{static makeHexColor(t,e,i){return`#${Zb[t]}${Zb[e]}${Zb[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const r=t[i],s=t[i+1];t[i]=r*e[0]+s*e[2]+e[4],t[i+1]=r*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],s=e[1],l=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const v=t[i+p],y=t[i+p+1];t[i+p]=v*r+y*l+d,t[i+p+1]=v*s+y*u+f}}static applyInverseTransform(t,e){const i=t[0],r=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,i){const r=e[0],s=e[1],l=e[2],u=e[3],d=e[4],f=e[5],p=t[0],v=t[1],y=t[2],x=t[3];let A=r*p+d,S=A,C=r*y+d,O=C,N=u*v+f,k=N,j=u*x+f,z=j;if(s!==0||l!==0){const R=s*p,F=s*y,q=l*v,J=l*x;A+=q,O+=q,C+=J,S+=J,N+=R,z+=R,j+=F,k+=F}i[0]=Math.min(i[0],A,C,S,O),i[1]=Math.min(i[1],N,j,k,z),i[2]=Math.max(i[2],A,C,S,O),i[3]=Math.max(i[3],N,j,k,z)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],s=t[2],l=t[3],u=i**2+r**2,d=i*s+r*l,f=s**2+l**2,p=(u+f)/2,v=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+v||1),e[1]=Math.sqrt(p-v||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>l?null:[i,s,r,l]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,s){s[0]=Math.min(s[0],t,i),s[1]=Math.min(s[1],e,r),s[2]=Math.max(s[2],t,i),s[3]=Math.max(s[3],e,r)}static#t(t,e,i,r,s,l,u,d,f,p){if(f<=0||f>=1)return;const v=1-f,y=f*f,x=y*f,A=v*(v*(v*t+3*f*e)+3*y*i)+x*r,S=v*(v*(v*s+3*f*l)+3*y*u)+x*d;p[0]=Math.min(p[0],A),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],A),p[3]=Math.max(p[3],S)}static#e(t,e,i,r,s,l,u,d,f,p,v,y){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,i,r,s,l,u,d,-v/p,y);return}const x=p**2-4*v*f;if(x<0)return;const A=Math.sqrt(x),S=2*f;this.#t(t,e,i,r,s,l,u,d,(-p+A)/S,y),this.#t(t,e,i,r,s,l,u,d,(-p-A)/S,y)}static bezierBoundingBox(t,e,i,r,s,l,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,i,s,u,e,r,l,d,3*(-t+3*(i-s)+u),6*(t-2*i+s),3*(i-t),f),this.#e(t,i,s,u,e,r,l,d,3*(-e+3*(r-l)+d),6*(e-2*r+l),3*(r-e),f)}}function OX(n){return decodeURIComponent(escape(n))}let Kb=null,yM=null;function MX(n){return Kb||(Kb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,yM=new Map([["","t"]])),n.replaceAll(Kb,(t,e,i)=>e?e.normalize("NFKC"):yM.get(i))}function tj(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),AX(n)}const Xc="pdfjs_internal_id_";function PX(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...s]=e;if(!n(i)&&!Number.isInteger(i)||!t(r))return!1;const l=s.length;let u=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of s)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function ai(n,t,e){return Math.min(Math.max(n,t),e)}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class wd{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(s){if(!s)return;let l=null;const u=s.name;if(u==="#text")l=s.value;else if(wd.shouldBuildText(u))s?.attributes?.textContent?l=s.attributes.textContent:s.value&&(l=s.value);else return;if(l!==null&&e.push({str:l}),!!s.children)for(const d of s.children)r(d)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class ej{static setupStorage(t,e,i,r,s){const l=r.getValue(e,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),s==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?t.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),s==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of i.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:s}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&s.addLinkAttributes(t,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(t,l.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,s=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:s,linkService:i});const u=s!=="richText",d=t.div;if(d.append(l),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=v}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);l.append(v),u&&wd.shouldBuildText(r.name)&&f.push(v)}return{textDivs:f}}const p=[[r,-1,l]];for(;p.length>0;){const[v,y,x]=p.at(-1);if(y+1===v.children.length){p.pop();continue}const A=v.children[++p.at(-1)[1]];if(A===null)continue;const{name:S}=A;if(S==="#text"){const O=document.createTextNode(A.value);f.push(O),x.append(O);continue}const C=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,S):document.createElement(S);if(x.append(C),A.attributes&&this.setAttributes({html:C,element:A,storage:e,intent:s,linkService:i}),A.children?.length>0)p.push([A,-1,C]);else if(A.value){const O=document.createTextNode(A.value);u&&wd.shouldBuildText(S)&&f.push(O),C.append(O)}}for(const v of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const os="http://www.w3.org/2000/svg";class mu{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Hd(n,t="text"){if(Jh(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class $d{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:s=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=l,i*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,v,y,x;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,v=0,y=0,x=1;break;case 90:p=0,v=1,y=1,x=0;break;case 270:p=0,v=-1,y=-1,x=0;break;case 0:p=1,v=0,y=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,x=-x);let A,S,C,O;p===0?(A=Math.abs(f-t[1])*i+s,S=Math.abs(d-t[0])*i+l,C=(t[3]-t[1])*i,O=(t[2]-t[0])*i):(A=Math.abs(d-t[0])*i+s,S=Math.abs(f-t[1])*i+l,C=(t[2]-t[0])*i,O=(t[3]-t[1])*i),this.transform=[p*i,v*i,y*i,x*i,A-p*i*d-y*i*f,S-v*i*d-x*i*f],this.width=C,this.height=O}get rawDims(){const t=this.viewBox;return ee(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new $d({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){const i=[t,e];return Lt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];Lt.applyTransform(e,this.transform);const i=[t[2],t[3]];return Lt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return Lt.applyInverseTransform(i,this.transform),i}}class J1 extends Yl{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Jg(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function tw(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function DX(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function kX(n,t="document.pdf"){if(typeof n!="string")return t;if(Jg(n))return te('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const r=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},s=/\.pdf$/i,l=i.pathname.split("/").at(-1);if(s.test(l))return r(l);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const f of u)if(s.test(f))return r(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(s.test(f))return r(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return r(d[0])}return t}class bM{started=Object.create(null);times=[];time(t){t in this.started&&te(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||te(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:s}of this.times)t.push(`${i.padEnd(e)} ${s-r}ms
`);return t.join("")}}function Jh(n,t){const e=t?URL.parse(n,t):URL.parse(n);return e?.protocol==="http:"||e?.protocol==="https:"}function Nr(n){n.preventDefault()}function fn(n){n.preventDefault(),n.stopPropagation()}function LX(n){console.log("Deprecated API usage: "+n)}class ax{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,f==="-"?(l+=p,u+=v):f==="+"&&(l-=p,u-=v),new Date(Date.UTC(i,r,s,l,u,d))}}function NX(n,{scale:t=1,rotation:e=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new $d({viewBox:s,userUnit:1,scale:t,rotation:e})}function qd(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(te(`Not a valid color format: "${n}"`),[0,0,0])}function jX(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,qd(i))}t.remove()}function rn(n){const{a:t,b:e,c:i,d:r,e:s,f:l}=n.getTransform();return[t,e,i,r,s,l]}function Aa(n){const{a:t,b:e,c:i,d:r,e:s,f:l}=n.getTransform().invertSelf();return[t,e,i,r,s,l]}function Hl(n,t,e=!1,i=!0){if(t instanceof $d){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:l}=n,u=Ln.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${s}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,v=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=v):(l.width=v,l.height=p)}i&&n.setAttribute("data-main-rotation",t.rotation)}class ja{constructor(){const{pixelRatio:t}=ja;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,s=-1){let l=1/0,u=1/0,d=1/0;i=ja.capPixels(i,s),i>0&&(l=Math.sqrt(i/(t*e))),r!==-1&&(u=r/t,d=r/e);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const sx=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class RX{static get isDarkMode(){return ee(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class IX{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),ee(this,"commentForegroundColor",qd(i))}}function zX(n,t,e,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),t=Math.round(t*i+r),e=Math.round(e*i+r),[n,t,e]}function _M(n,t){const e=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(e,i,r),l=Math.min(e,i,r),u=(s+l)/2;if(s===l)t[0]=t[1]=0;else{const d=s-l;switch(t[1]=u<.5?d/(s+l):d/(2-s-l),s){case e:t[0]=((i-r)/d+(i<r?6:0))*60;break;case i:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-i)/d+4)*60;break}}t[2]=u}function ox(n,t){const e=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,l=s*(1-Math.abs(e/60%2-1)),u=r-s/2;switch(Math.floor(e/60)){case 0:t[0]=s+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=s+u,t[2]=u;break;case 2:t[0]=u,t[1]=s+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=s+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=s+u;break;case 5:case 6:t[0]=s+u,t[1]=u,t[2]=l+u;break}}function xM(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function wM(n,t,e){ox(n,e),e.map(xM);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];ox(t,e),e.map(xM);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const SM=new Map;function BX(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=SM.get(e);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),l=r.subarray(3,6);_M(n,l);const u=r.subarray(6,9);_M(t,u);const d=u[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),wM(l,u,s)<f){let p,v;d?(p=l[2],v=1):(p=0,v=l[2]);const y=.005;for(;v-p>y;){const x=l[2]=(p+v)/2;d===wM(l,u,s)<f?p=x:v=x}l[2]=d?v:p}return ox(l,s),i=Lt.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),SM.set(e,i),i}function nj({html:n,dir:t,className:e},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=t||"auto";const l=n.split(/(?:\r\n?|\n)/);for(let u=0,d=l.length;u<d;++u){const f=l[u];s.append(document.createTextNode(f)),u<d-1&&s.append(document.createElement("br"))}r.append(s)}else ej.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",e),i.append(r)}function ij(n){const t=new Path2D;if(!n)return t;for(let e=0,i=n.length;e<i;)switch(n[e++]){case $h.moveTo:t.moveTo(n[e++],n[e++]);break;case $h.lineTo:t.lineTo(n[e++],n[e++]);break;case $h.curveTo:t.bezierCurveTo(n[e++],n[e++],n[e++],n[e++],n[e++],n[e++]);break;case $h.quadraticCurveTo:t.quadraticCurveTo(n[e++],n[e++],n[e++],n[e++]);break;case $h.closePath:t.closePath();break;default:te(`Unrecognized drawing path operator: ${n[e-1]}`);break}return t}class Ee{static#t=null;static#e=null;static#i=null;static#n=0;static#a=[];get pagesNumber(){return Ee.#n}set pagesNumber(t){Ee.#n!==t&&(Ee.#n=t,t===0&&(Ee.#e=null,Ee.#t=null))}addListener(t){Ee.#a.push(t)}removeListener(t){const e=Ee.#a.indexOf(t);e>=0&&Ee.#a.splice(e,1)}#s(){for(const t of Ee.#a)t()}#r(t){if(Ee.#e)return;const e=Ee.#n,i=new Uint32Array(3*e),r=Ee.#e=i.subarray(0,e),s=Ee.#t=i.subarray(e,2*e);if(t)for(let l=0;l<e;l++)r[l]=s[l]=l+1;Ee.#i=i.subarray(2*e)}movePages(t,e,i){this.#r(!0);const r=Ee.#e,s=Ee.#t;Ee.#i.set(s);const l=e.length,u=new Uint32Array(l);let d=0;for(let x=0;x<l;x++){const A=e[x]-1;u[x]=r[A],A<i&&(d+=1)}const f=Ee.#n;let p=i-d;const v=f-l;p=ai(p,0,v);for(let x=0,A=0;x<f;x++)t.has(x+1)||(r[A++]=r[x]);r.copyWithin(p+l,p,v),r.set(u,p);let y=!1;for(let x=0,A=f;x<A;x++){const S=r[x];y||=S!==x+1,s[S-1]=x+1}this.#s(),y||(this.pagesNumber=0)}hasBeenAltered(){return Ee.#e!==null}getPageMappingForSaving(){return{pageIndices:Ee.#t?Ee.#t.map(t=>t-1):null}}getPrevPageNumber(t){return Ee.#i[Ee.#e[t-1]-1]}getPageNumber(t){return Ee.#t?.[t-1]??t}getPageId(t){return Ee.#e?.[t-1]??t}static get instance(){return ee(this,"instance",new Ee)}getMapping(){return Ee.#e.subarray(0,this.pagesNumber)}}class id{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(t){this.#i=t,id.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Nr,{signal:e}),t.addEventListener("pointerdown",id.#l,{signal:e}));const i=this.#n=document.createElement("div");i.className="buttons",t.append(i);const r=this.#i.toolbarPosition;if(r){const{style:s}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*l}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,fn(t)}#h(t){this.#i._focusEventsAllowed=!0,fn(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Nr,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",id.#c[t]),this.#f(i)&&i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(i)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#a=t}addComment(t,e=null){if(this.#s)return;const i=t.renderForToolbar();if(!i)return;this.#f(i);const r=this.#r=this.#g;e?(this.#n.insertBefore(i,e),this.#n.insertBefore(r,e)):this.#n.append(i,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){t==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(t,e){switch(t){case"colorPicker":e&&this.addColorPicker(e);break;case"altText":e&&await this.addAltText(e);break;case"editSignature":e&&await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":e&&this.addComment(e);break}}async addButtonBefore(t,e,i){if(!e&&t==="comment")return;const r=this.#n.querySelector(i);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class FX{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Nr,{signal:e});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let i=0,r=0;for(const s of t){const l=s.y+s.height;if(l<i)continue;const u=s.x+(e?s.width:0);if(l>i){r=u,i=l;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,i]}show(t,e,i){const[r,s]=this.#a(e,i),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,i,r){const s=document.createElement("button");s.classList.add("basic",t),s.tabIndex=0,s.setAttribute("data-l10n-id",e);const l=document.createElement("span");s.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",i);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(s.addEventListener("contextmenu",Nr,{signal:u}),s.addEventListener("click",r,{signal:u})),this.#t.append(s)}}function rj(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}class Ce{static#t=NaN;static#e=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(t){(Ce.#e||=new Set).add(t)}static setPointer(t,e){Ce.#t||=e,Ce.#n??=t}static setTimeStamp(t){Ce.#i=t}static isSamePointerId(t){return Ce.#t===t}static isSamePointerIdOrRemove(t){return Ce.#t===t?!0:(Ce.#e?.delete(t),!1)}static isSamePointerType(t){return Ce.#n===t}static isInitializedAndDifferentPointerType(t){return Ce.#n!==null&&!Ce.isSamePointerType(t)}static isSameTimeStamp(t){return Ce.#i===t}static isUsingMultiplePointers(){return Ce.#e?.size>=1}static clearPointerType(){Ce.#n=null}static clearPointerIds(){Ce.#t=NaN,Ce.#e=null}static clearTimeStamp(){Ce.#i=NaN}}class UX{#t=0;get id(){return`${_d}${this.#t++}`}}class ew{#t=tj();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ee(this,"_isSVGFittingCanvas",s)}async#n(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=await Hd(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=ew._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},l.onload=async()=>{const v=i.svgUrl=l.result;u.src=await s?`${v}#svgView(preserveAspectRatio(none))`:v},u.onerror=l.onerror=p});l.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){te(r),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:r,type:s}=t;return this.#n(`${e}_${i}_${r}_${s}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const i=await e;return this.#n(t,i)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class HX{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:i,type:s};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===s){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Gd{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ln.platform;for(const[i,r,s={}]of t)for(const l of i){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:r,options:s}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:r,options:s}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:l=[],checker:u=null}}=i;u&&!u(t,e)||(r.bind(t,...l,e)(),s||fn(e))}}class nw{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return jX(t),ee(this,"_colors",t)}convert(t){const e=qd(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((s,l)=>s===e[l]))return nw._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Lt.makeHexColor(...e):t}}class Co{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new HX;#l=null;#d=null;#h=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#T=null;#S=null;#x=null;#C=null;#_=!1;#A=null;#P=new UX;#O=!1;#M=!1;#I=!1;#k=null;#N=null;#z=null;#j=null;#q=null;#E=re.NONE;#w=new Set;#L=null;#B=null;#U=null;#V=null;#W=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#R=null;#G=null;#Q=null;#J=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Co.prototype,e=l=>l.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ee(this,"_keyboardManager",new Gd([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#G.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,i,r,s,l,u,d,f,p,v,y,x,A,S,C){const O=this._signal=this.#t.signal;this.#G=t,this.#Q=e,this.#J=i,this.#s=r,this.#l=s,this.#B=l,this.#W=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:O}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:O}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:O}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:O}),u._on("setpreference",this.onSetPreference.bind(this),{signal:O}),u._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:O}),u._on("pagesedited",this.onPagesEdited.bind(this),{signal:O}),window.addEventListener("pointerdown",()=>{this.#M=!0},{capture:!0,signal:O}),window.addEventListener("pointerup",()=>{this.#M=!1},{capture:!0,signal:O}),this.#st(),this.#dt(),this.#et(),this.#r=d.annotationStorage,this.#T=d.filterFactory,this.#U=f,this.#C=p||null,this.#v=v,this.#b=y,this.#y=x,this.#q=A||null,this.viewParameters={realScale:mu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=C!==!1,s?.setSidebarUiManager(this)}destroy(){this.#F?.resolve(),this.#F=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#j?.clear(),this.#e=null,this.#w.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#B?.destroy(),this.#A?.hide(),this.#A=null,this.#z?.destroy(),this.#z=null,this.#i=null,this.#S&&(clearTimeout(this.#S),this.#S=null),this.#R&&(clearTimeout(this.#R),this.#R=null),this._editorUndoBar?.destroy(),this.#W=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return ee(this,"hcmFilter",this.#U?this.#T.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return ee(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return ee(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return ee(this,"highlightColors",null);const e=new Map,i=!!this.#U;for(const[r,s]of t){const l=r.endsWith("_HCM");if(i&&l){e.set(r.replace("_HCM",""),s);continue}!i&&!l&&e.set(r,s)}return ee(this,"highlightColors",e)}get highlightColorNames(){return ee(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#z=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,i,r){this.#l?.showDialog(this,t,e,i,r)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}deleteComment(t,e){const i=()=>{t.comment=e},r=()=>{this._editorUndoBar?.show(i,"comment"),this.toggleComment(null),t.comment=null};this.addCommands({cmd:r,undo:i,mustExec:!0})}toggleComment(t,e,i=void 0){this.#l?.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await i}getSignature(t){this.#B?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#B}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#y=e)}onPagesEdited({pagesMapper:t}){for(const r of this.#n.values())r.updatePageIndex(t.getPrevPageNumber(r.pageIndex+1)-1);const e=this.#a,i=this.#a=new Map;for(const[r,s]of e){const l=t.getPrevPageNumber(r+1)-1;if(l===-1){s.destroy();continue}i.set(l,s),s.updatePageIndex(l)}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#G.focus()}findParent(t,e){for(const i of this.#a.values()){const{x:r,y:s,width:l,height:u}=i.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=s&&e<=s+u)return i}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*mu.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#K({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#a.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:u}=i,d=i.toString(),p=this.#K(i).closest(".textLayer"),v=this.getSelectionBoxes(p);if(!v)return;i.empty();const y=this.#tt(p),x=this.#E===re.NONE,A=()=>{const S=y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:v,anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:u,text:d});x&&this.showAllEditors("highlight",!0,!0),e&&S?.editComment()};if(x){this.switchToMode(re.HIGHLIGHT,A);return}A()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#K(t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#A||=new FX(this),this.#A.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${_d}${t}`,i=this.#r.getRawValue(e);return i&&this.#r.remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#at(){const t=document.getSelection();if(!t||t.isCollapsed){this.#L&&(this.#A?.hide(),this.#L=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#L)return;const r=this.#K(t).closest(".textLayer");if(!r){this.#L&&(this.#A?.hide(),this.#L=null,this.#D({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#L=e,this.#D({hasSelectedText:!0}),!(this.#E!==re.HIGHLIGHT&&this.#E!==re.NONE)&&(this.#E===re.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#E===re.HIGHLIGHT?this.#tt(r):null;if(s?.toggleDrawing(),this.#M){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),s?.toggleDrawing(!0),f.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else s?.toggleDrawing(!0),this.#X("main_toolbar")}}#X(t=""){this.#E===re.HIGHLIGHT?this.highlightSelection(t):this.#v&&this.#rt()}#st(){document.addEventListener("selectionchange",this.#at.bind(this),{signal:this._signal})}#ot(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#lt(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#w)if(e.div.contains(t)){this.#N=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[t,e]=this.#N;this.#N=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#k)return;this.#k=new AbortController;const t=this.combinedSignal(this.#k);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ct(){this.#k?.abort(),this.#k=null}#ut(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#ht(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#ct(),this.setEditingState(!1)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#w){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(s.type)){l.paste(s,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){te(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const d of i){const f=await r.deserialize(d);if(!f)return;s.push(f)}const l=()=>{for(const d of s)this.#nt(d);this.#it(s)},u=()=>{for(const d of s)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(s){te(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==re.NONE&&!this.isEditorHandlingKeyboard&&Co._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(t){Object.entries(t).some(([i,r])=>this.#Y[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#E===re.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#$([[ve.HIGHLIGHT_FREE,!0]]))}#$(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ot(),this.#ut(),this.#D({isEditing:this.#E!==re.NONE,isEmpty:this.#Z(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#lt(),this.#ht(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#$(e.defaultPropertiesToUpdate)}}getId(){return this.#P.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#O?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,r=!1,s=!1,l=!1){if(this.#E!==t&&!(this.#F&&(await this.#F.promise,!this.#F))){if(this.#F=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#E===re.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#E=t,t===re.NONE){this.setEditingState(!1),this.#pt();for(const u of this.#n.values())u.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#F.resolve();return}for(const u of this.#n.values())u.addStandaloneCommentButton();t===re.SIGNATURE&&await this.#B?.loadSignatures(),i&&Ce.clearPointerType(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const u of this.#a.values())u.updateMode(t);if(t===re.POPUP){this.#i||=await this.#W.getAnnotationsByType(new Set(this.#u.map(f=>f._editorType)));const u=new Set,d=[];for(const f of this.#n.values()){const{annotationElementId:p,hasComment:v,deleted:y}=f;p&&u.add(p),v&&!y&&d.push(f.getData())}for(const f of this.#i){const{id:p,popupRef:v,contentsObj:y}=f;v&&y?.str&&!u.has(p)&&!this.#g.has(p)&&d.push(f)}this.#l?.showSidebar(d)}if(!e){r&&this.addNewEditorFromKeyboard(),this.#F.resolve();return}for(const u of this.#n.values())u.uid===e?(this.setSelected(u),l?u.editComment():s?u.enterInEditMode():u.focus()):u.unselect();this.#F.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case ve.CREATE:this.currentLayer.addNewEditor(e);return;case ve.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of this.#w)i.updateParams(t,e);else for(const i of this.#u)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const s of this.#n.values())s.editorType===t&&s.show(e);(this.#V?.get(ve.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#$([[ve.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#I!==t){this.#I=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#O){this.#O=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#O){this.#O=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.focusMainContainer(),this.#S=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#j?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#nt(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#$(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#w);return t}updateUI(t){this.#mt===t&&this.#$(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#$(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#w.has(t)){this.#w.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#w.add(t),t.select(),this.#$(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#h?.commitOrRemove();for(const e of this.#w)e!==t&&e.unselect();this.#w.clear(),this.#w.add(t),t.select(),this.#$(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#w.has(t)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(t){t.unselect(),this.#w.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Z()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Z()})}addCommands(t){this.#c.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Z()})}cleanUndoStack(t){this.#c.cleanType(t)}#Z(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#w],i=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const s of e)s.remove()},r=()=>{for(const s of e)this.#nt(s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#it(t){for(const e of this.#w)e.unselect();this.#w.clear();for(const e of t)e.isEmpty()||(this.#w.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#w)t.commit();this.#it(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==re.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#w)t.unselect();this.#w.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[r,s]=this.#H,l=[...this.#w],u=1e3;this.#R&&clearTimeout(this.#R),this.#R=setTimeout(()=>{this.#R=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,s),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-s),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const t of this.#w)this.#m.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const t=this.#m;this.#m=null;let e=!1;for(const[{x:r,y:s,pageIndex:l},u]of t)u.newX=r,u.newY=s,u.newPageIndex=l,e||=r!==u.savedX||s!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const i=(r,s,l,u)=>{if(this.#n.has(r.id)){const d=this.#a.get(u);d?r._setParentAndPosition(d,s,l):(r.pageIndex=u,r.x=s,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:l,newPageIndex:u}]of t)i(r,s,l,u)},undo:()=>{for(const[r,{savedX:s,savedY:l,savedPageIndex:u}]of t)i(r,s,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#m)for(const i of this.#m.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}isEditingMode(){return this.#E!==re.NONE}get imageManager(){return ee(this,"imageManager",new ew)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,v,y)=>({x:(p-r)/l,y:1-(f+v-i)/s,width:y/l,height:v/s});break;case"180":u=(f,p,v,y)=>({x:1-(f+v-i)/s,y:1-(p+y-r)/l,width:v/s,height:y/l});break;case"270":u=(f,p,v,y)=>({x:1-(p+y-r)/l,y:(f-i)/s,width:y/l,height:v/s});break;default:u=(f,p,v,y)=>({x:(f-i)/s,y:(p-r)/l,width:v/s,height:y/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const v=e.getRangeAt(f);if(!v.collapsed)for(const{x:y,y:x,width:A,height:S}of v.getClientRects())A===0||S===0||d.push(u(y,x,A,S))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#r.getRawValue(e);i&&(this.#E===re.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const r=this.#j?.get(t);r&&(r.setCanvas(e,i),this.#j.delete(t))}addMissingCanvas(t,e){(this.#j||=new Map).set(t,e)}}class Ca{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,Ca.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Ca._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Ca.#f.missing),e.setAttribute("data-l10n-id",Ca.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;t.addEventListener("contextmenu",Nr,{signal:i}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#r=!0,r(s))},{signal:i}),await this.#m(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await Ca._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(this.#l=i,this.#d=r),!(this.#t===t&&this.#e===e)&&(s||(this.#t=t,this.#e=e),this.#m())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Ca.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Ca.#f[`${this.#g}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Ip{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:i}=this.#t.getBoundingClientRect(),{x:r,y:s,width:l,height:u}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+i-s)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",Nr,{signal:i}),e&&(t.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,fn(s)},{capture:!0,signal:i}),t.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,fn(s)},{capture:!0,signal:i})),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#i=!0,r(s))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),t}edit(t){const e=this.commentPopupPositionInLayer;let i,r;if(e)[i,r]=e;else{[i,r]=this.#n.commentButtonPosition;const{width:p,height:v,x:y,y:x}=this.#n;i=y+i*p,r=x+r*v}const s=this.#n.parent.boundingClientRect,{x:l,y:u,width:d,height:f}=s;this.#n._uiManager.editComment(this.#n,l+i*d,u+r*f,{...t,parentDimensions:s})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#c=!0;return}this.#r=t,this.#o=new Date,this.#c=!1}restoreData({text:t,richText:e,date:i}){this.#r=t,this.#s=e,this.#o=i,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class tv{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#i=i,this.#n=e,this.#a=r,this.#s=s,this.#r=l,this.#d=new AbortController,this.#c=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ja.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#c,r.signal]),l=this.#t,u={capture:!0,signal:s,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(fn(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#c,this.#h.signal]),s=this.#t,l={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),l);const u=this.#m.bind(this);s.addEventListener("touchend",u,l),s.addEventListener("touchcancel",u,l),l.capture=!0,s.addEventListener("pointerdown",fn,l),s.addEventListener("pointermove",fn,l),s.addEventListener("pointercancel",fn,l),s.addEventListener("pointerup",fn,l),this.#a?.()}if(fn(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;fn(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:s}=e,{screenX:l,screenY:u}=i,d=this.#l,{touch0X:f,touch0Y:p,touch1X:v,touch1Y:y}=d,x=v-f,A=y-p,S=l-r,C=u-s,O=Math.hypot(S,C)||1,N=Math.hypot(x,A)||1;if(!this.#e&&Math.abs(N-O)<=tv.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=s,d.touch1X=l,d.touch1Y=u,!this.#e){this.#e=!0;return}const k=[(r+l)/2,(s+u)/2];this.#s?.(k,N,O)}#m(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#l&&(fn(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class Ht{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#T=0;#S=0;#x=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#A=Ht._zIndex++;static _borderLineWidth=-1;static _colorManager=new nw;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Ht.prototype._resizeWithKeyboard,e=Co.TRANSLATE_SMALL,i=Co.TRANSLATE_BIG;return ee(this,"_resizerKeyboardManager",new Gd([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Ht.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,l];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}updatePageIndex(t){this.pageIndex=t}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ee(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new $X({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ht._l10n??=t,Ht._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ht._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ht._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Me("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(t){this.#_=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#R(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[s,l]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/s,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}#P([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#P(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#P(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:v,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,v,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=i;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=Ht,r=i/t,s=i/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:s,y:l,width:u,height:d}=this;if(u*=i,d*=r,s*=i,l*=r,this._mustFixPosition)switch(t){case 0:s=ai(s,0,i-u),l=ai(l,0,r-d);break;case 90:s=ai(s,0,i-d),l=ai(l,u,r);break;case 180:s=ai(s,u,i),l=ai(l,d,r);break;case 270:s=ai(s,d,i),l=ai(l,0,r-u);break}this.x=s/=i,this.y=l/=r;const[f,p]=this.getBaseTranslation();s+=f,l+=p,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#O(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Ht.#O(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Ht.#O(t,e,360-this.parentRotation)}#M(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#k.bind(this,i),{signal:e}),r.addEventListener("contextmenu",Nr,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#k(t,e){e.preventDefault();const{isMac:i}=Ln.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const s=new AbortController,l=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#j.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",fn,{passive:!1,signal:l}),window.addEventListener("contextmenu",Nr,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#z()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#N(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#z(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#d;this.#d=null;const s=this.x,l=this.y,u=this.width,d=this.height;s===t&&l===e&&u===i&&d===r||this.addCommands({cmd:this.#N.bind(this,s,l,u,d),undo:this.#N.bind(this,t,e,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#j(t,e){const[i,r]=this.parentDimensions,s=this.x,l=this.y,u=this.width,d=this.height,f=Ht.MIN_SIZE/i,p=Ht.MIN_SIZE/r,v=this.#M(this.rotation),y=(G,K)=>[v[0]*G+v[2]*K,v[1]*G+v[3]*K],x=this.#M(360-this.rotation),A=(G,K)=>[x[0]*G+x[2]*K,x[1]*G+x[3]*K];let S,C,O=!1,N=!1;switch(t){case"topLeft":O=!0,S=(G,K)=>[0,0],C=(G,K)=>[G,K];break;case"topMiddle":S=(G,K)=>[G/2,0],C=(G,K)=>[G/2,K];break;case"topRight":O=!0,S=(G,K)=>[G,0],C=(G,K)=>[0,K];break;case"middleRight":N=!0,S=(G,K)=>[G,K/2],C=(G,K)=>[0,K/2];break;case"bottomRight":O=!0,S=(G,K)=>[G,K],C=(G,K)=>[0,0];break;case"bottomMiddle":S=(G,K)=>[G/2,K],C=(G,K)=>[G/2,0];break;case"bottomLeft":O=!0,S=(G,K)=>[0,K],C=(G,K)=>[G,0];break;case"middleLeft":N=!0,S=(G,K)=>[0,K/2],C=(G,K)=>[G,K/2];break}const k=S(u,d),j=C(u,d);let z=y(...j);const R=Ht._round(s+z[0]),F=Ht._round(l+z[1]);let q=1,J=1,ct,et;if(e.fromKeyboard)({deltaX:ct,deltaY:et}=e);else{const{screenX:G,screenY:K}=e,[V,Pt]=this.#l;[ct,et]=this.screenToPageTranslation(G-V,K-Pt),this.#l[0]=G,this.#l[1]=K}if([ct,et]=A(ct/i,et/r),O){const G=Math.hypot(u,d);q=J=Math.max(Math.min(Math.hypot(j[0]-k[0]-ct,j[1]-k[1]-et)/G,1/u,1/d),f/u,p/d)}else N?q=ai(Math.abs(j[0]-k[0]-ct),f,1)/u:J=ai(Math.abs(j[1]-k[1]-et),p,1)/d;const Z=Ht._round(u*q),Ct=Ht._round(d*J);z=y(...C(Z,Ct));const _t=R-z[0],kt=F-z[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=Z,this.height=Ct,this.x=_t,this.y=kt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new id(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Ca.initialize(Ht._l10n),this.#i=new Ca(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Ip(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){if(!this.#n)return null;const{data:{richText:t,text:e,date:i,deleted:r}}=this.#n;return{text:e,richText:t,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Ip(this),typeof t=="object"&&t!==null?this.#n.restoreData(t):this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(this.#n||=new Ip(this),this.#n.setInitialText(t,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Ip(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[s]=this.pageDimensions,[l]=this.pageTranslation,u=l+s+1,d=r-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),rj(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new tv({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#E.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#q(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#E(t,e,i){let s=.7*(i/e)+1-.7;if(s===1)return;const l=this.#M(this.rotation),u=(R,F)=>[l[0]*R+l[2]*F,l[1]*R+l[3]*F],[d,f]=this.parentDimensions,p=this.x,v=this.y,y=this.width,x=this.height,A=Ht.MIN_SIZE/d,S=Ht.MIN_SIZE/f;s=Math.max(Math.min(s,1/y,1/x),A/y,S/x);const C=Ht._round(y*s),O=Ht._round(x*s);if(C===y&&O===x)return;this.#u||=[p,v,y,x];const N=u(y/2,x/2),k=Ht._round(p+N[0]),j=Ht._round(v+N[1]),z=u(C/2,O/2);this.x=k-z[0],this.y=j-z[1],this.width=C,this.height=O,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#z()}pointerdown(t){const{isMac:e}=Ln.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#B(t);return}this.#L(t)}#L(t){const{isMac:e}=Ln.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:s},u=f=>{r.abort(),this.#r=null,this.#m=!1,this._uiManager.endDragSession()||this.#L(f),i&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#S=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:v,pointerId:y}=f;if(y!==this.#r){fn(f);return}const[x,A]=this.screenToPageTranslation(p-this.#T,v-this.#S);this.#T=p,this.#S=v,this._uiManager.dragSelectedEditors(x,A)},l),window.addEventListener("touchmove",fn,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#C||f.isPrimary)&&u(f),fn(f)},l));const d=f=>{if(!this.#r||this.#r===f.pointerId){u(f);return}fn(f)};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[s,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/r,p=e/r,v=this.x*s,y=this.y*l,x=this.width*s,A=this.height*l;switch(i){case 0:return[v+f+u,l-y-p-A+d,v+f+x+u,l-y-p+d];case 90:return[v+p+u,l-y+f+d,v+p+A+u,l-y+f+x+d];case 180:return[v-f-x+u,l-y+p+d,v-f+u,l-y+p+A+d];case 270:return[v-p-A+u,l-y-f-x+d,v-p+u,l-y-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,s,l]=t,u=s-i,d=l-r;switch(this.rotation){case 0:return[i,e-l,u,d];case 90:return[i,e-r,d,u];case 180:return[s,e-r,u,d];case 270:return[s,e-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Ht._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:r,deleted:s,richText:l},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:i||p,popupRef:!s,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:l}=window;return e<l&&r>0&&t<s&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[s,l]=r.pageDimensions,[u,d,f,p]=r.getRectInCurrentCoords(t.rect,l);return r.x=u/s,r.y=d/l,r.width=f/s,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#R(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#C?.destroy(),this.#C=null,this.#h?.remove(),this.#h=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,r,s,l]=this.getPDFRect();return[Ht._round(i+(s-i)*t),Ht._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#V.bind(this),u=this.#W.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#Y.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",Ht._l10nResizer[p])}}const i=this.#e[0];let r=0;for(const l of e){if(l===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(s!==r){if(s<r)for(let u=0;u<r-s;u++)this.#c.append(this.#c.firstElementChild);else if(s>r)for(let u=0;u<s-r;u++)this.#c.firstElementChild.before(this.#c.lastElementChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Ht._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){Ht._resizerKeyboardManager.exec(this,t)}#W(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#R()}#Y(t){this.#g=this.#b?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#j(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#R(){this.#b=!1,this.#H(-1),this.#z()}_stopResizingWithKeyboard(){this.#R(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:i}=t;let r=this.#x.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(i),this.#x.size===0&&(this.#x=null)},Ht._telemetryTimeout),this.#x.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstElementChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class $X extends Ht{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const AM=3285377520,Tr=4294901760,Ta=65535;class aj{constructor(t){this.h1=t?t&4294967295:AM,this.h2=t?t&4294967295:AM}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let S=0,C=t.length;S<C;S++){const O=t.charCodeAt(S);O<=255?e[i++]=O:(e[i++]=O>>>8,e[i++]=O&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,l=new Uint32Array(e.buffer,0,r);let u=0,d=0,f=this.h1,p=this.h2;const v=3432918353,y=461845907,x=v&Ta,A=y&Ta;for(let S=0;S<r;S++)S&1?(u=l[S],u=u*v&Tr|u*x&Ta,u=u<<15|u>>>17,u=u*y&Tr|u*A&Ta,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[S],d=d*v&Tr|d*x&Ta,d=d<<15|d>>>17,d=d*y&Tr|d*A&Ta,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,s){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*v&Tr|u*x&Ta,u=u<<15|u>>>17,u=u*y&Tr|u*A&Ta,r&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Tr|t*36045&Ta,e=e*4283543511&Tr|((e<<16|t>>>16)*2950163797&Tr)>>>16,t^=e>>>1,t=t*444984403&Tr|t*60499&Ta,e=e*3301882366&Tr|((e<<16|t>>>16)*3120437893&Tr)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const lx=Object.freeze({map:null,hash:"",transfer:void 0});class iw{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof Ht&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof Ht)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let r=!1;if(i!==void 0)for(const[s,l]of Object.entries(e))i[s]!==l&&(r=!0,i[s]=l);else r=!0,this.#n.set(t,e);r&&this.#a(),e instanceof Ht&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new sj(this)}get serializable(){if(this.#n.size===0)return lx;const t=new Map,e=new aj,i=[],r=Object.create(null);let s=!1;for(const[l,u]of this.#n){const d=u instanceof Ht?u.serialize(!1,r):u;u.page&&(u.pageIndex=u.page._pageIndex,delete u.page),d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),s||=!!d.bitmap)}if(s)for(const l of t.values())l.bitmap&&i.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:lx}get editorStats(){let t=null;const e=new Map;let i=0,r=0;for(const s of this.#n.values()){if(!(s instanceof Ht)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const l=s.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let v=d.get(f);v||(v=new Map,d.set(f,v));const y=v.get(p)??0;v.set(p,y+1)}}if((r>0||i>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:i}),!t)return null;for(const[s,l]of e)t[s]=l.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const i=this.#i?.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class sj extends iw{#t;constructor(t){super();const{map:e,hash:i,transfer:r}=t.serializable,s=structuredClone(e,r?{transfer:r}:null);this.#t={map:s,hash:i,transfer:r}}get print(){Me("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return ee(this,"modifiedIds",{ids:new Set,hash:""})}}class qX{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(Oe(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:l}=t,u=new FontFace(r,s,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),i?.(t)}catch{te(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Me("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw te(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return ee(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ee(this,"isSyncFontLoadingSupported",_i||Ln.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Oe(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ee(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(j,z){return j.charCodeAt(z)<<24|j.charCodeAt(z+1)<<16|j.charCodeAt(z+2)<<8|j.charCodeAt(z+3)&255}function r(j,z,R,F){const q=j.substring(0,z),J=j.substring(z+R);return q+F+J}let s,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(j,z){if(++f>30){te("Load test font never loaded."),z();return}if(d.font="30px "+j,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(p.bind(null,j,z))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,v.length,v);const A=16,S=1482184792;let C=i(y,A);for(s=0,l=v.length-3;s<l;s+=4)C=C-S+i(v,s)|0;s<v.length&&(C=C-S+i(v+"XXX",s)|0),y=r(y,A,4,TX(C));const O=`url(data:font/opentype;base64,${btoa(y)});`,N=`@font-face {font-family:"${v}";src:${O}}`;this.insertRule(N);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const j of[t.loadedName,v]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=j,k.append(z)}this._document.body.append(k),p(v,()=>{k.remove(),e.complete()})}}class GX{#t;constructor(t,e=null,i,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${this.data.toBase64()});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(l){te(`getPathGenerator - ignoring character: "${l}".`)}const s=ij(r?.path);return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=s}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}set disableFontFace(t){ee(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}set bbox(t){ee(this,"bbox",t)}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class tu{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,i={};let r=0;for(const f of tu.strings){const p=e.encode(t[f]);i[f]=p,r+=4+p.length}const s=new ArrayBuffer(r),l=new Uint8Array(s),u=new DataView(s);let d=0;for(const f of tu.strings){const p=i[f],v=p.length;u.setUint32(d,v),l.set(p,d+4),d+=4+v}return Oe(d===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Oe(t<tu.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class eu{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,i={};let r=0;for(const y of eu.strings){const x=e.encode(t[y]);i[y]=x,r+=4+x.length}r+=4;let s,l,u=1+r;t.style&&(s=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+s.length+4+l.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let v=0;p.setUint8(v++,t.guessFallback?1:0),p.setUint32(v,0),v+=4,r=0;for(const y of eu.strings){const x=i[y],A=x.length;r+=4+A,p.setUint32(v,A),f.set(x,v+4),v+=4+A}return p.setUint32(v-r-4,r),t.style&&(p.setUint32(v,s.length),f.set(s,v+4),v+=4+s.length,p.setUint32(v,l.length),f.set(l,v+4),v+=4+l.length),Oe(v<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(v)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Oe(t<eu.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),i=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),s=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:i,weight:s}}}class Be{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){Oe(t<Be.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,r=this.#o.getUint8(e)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Oe(t<Be.numbers.length,"Invalid number index"),this.#o.getFloat64(Be.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Be.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=Be.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=Be.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#d(t){Oe(t<Be.strings.length,"Invalid string index");let e=Be.#a+4;for(let s=0;s<t;s++)e+=this.#o.getUint32(e)+4;const i=this.#o.getUint32(e),r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,e+4,i)),this.#r.decode(r)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Be.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const s=this.#o.getUint32(t);if(s!==0)return new Uint8Array(this.#s,t+4,s)}clearData(){let t=Be.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const s=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,s).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Be.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#s,t+4,r)),new tu(s.buffer)}get systemFontInfo(){let t=Be.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,t+4,i)),new eu(r.buffer)}static write(t){const e=t.systemFontInfo?eu.write(t.systemFontInfo):null,i=t.cssFontInfo?tu.write(t.cssFontInfo):null,r=new TextEncoder,s={};let l=0;for(const S of Be.strings)s[S]=r.encode(t[S]),l+=4+s[S].length;const u=Be.#a+4+l+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let v=0;const y=Be.bools.length;let x=0,A=0;for(let S=0;S<y;S++){const C=t[Be.bools[S]];x|=(C===void 0?0:C?2:1)<<A,A+=2,(A===8||S===y-1)&&(p.setUint8(v++,x),x=0,A=0)}Oe(v===Be.#t,"FontInfo.write: Boolean properties offset mismatch");for(const S of Be.numbers)p.setFloat64(v,t[S]),v+=8;if(Oe(v===Be.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(v++,4);for(const S of t.bbox)p.setInt16(v,S,!0),v+=2}else p.setUint8(v++,0),v+=8;if(Oe(v===Be.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(v++,6);for(const S of t.fontMatrix)p.setFloat64(v,S,!0),v+=8}else p.setUint8(v++,0),v+=48;if(Oe(v===Be.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(v++,1);for(const S of t.defaultVMetrics)p.setInt16(v,S,!0),v+=2}else p.setUint8(v++,0),v+=6;Oe(v===Be.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Be.#a,0),v+=4;for(const S of Be.strings){const C=s[S],O=C.length;p.setUint32(v,O),f.set(C,v+4),v+=4+O}if(p.setUint32(Be.#a,v-Be.#a-4),!e)p.setUint32(v,0),v+=4;else{const S=e.byteLength;p.setUint32(v,S),Oe(v+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),v+4),v+=4+S}if(!i)p.setUint32(v,0),v+=4;else{const S=i.byteLength;p.setUint32(v,S),Oe(v+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),v+4),v+=4+S}return t.data===void 0?(p.setUint32(v,0),v+=4):(p.setUint32(v,t.data.length),f.set(t.data,v+4),v+=4+t.data.length),Oe(v<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(v)}}class Hn{static#t=0;static#e=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,i=null,r=[],s=[],l=[],u=[],d=null,f=null;switch(t[0]){case"RadialAxial":e=t[1]==="axial"?1:2,i=t[2],l=t[3],e===1?r.push(...t[4],...t[5]):r.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,d=t[1],r=t[2],s=t[3],u=t[4]||[],i=t[6],f=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const p=Math.floor(r.length/2),v=Math.floor(s.length/3),y=l.length,x=u.length;let A=0;for(const z of u)A+=1,A=Math.ceil(A/4)*4,A+=4+z.coords.length*4,A+=4+z.colors.length*4,z.verticesPerRow!==void 0&&(A+=4);const S=20+p*8+v*3+y*8+(i?16:0)+(f?3:0)+A,C=new ArrayBuffer(S),O=new DataView(C),N=new Uint8Array(C);O.setUint8(Hn.#t,e),O.setUint8(Hn.#e,i?1:0),O.setUint8(Hn.#i,f?1:0),O.setUint8(Hn.#n,d),O.setUint32(Hn.#a,p,!0),O.setUint32(Hn.#s,v,!0),O.setUint32(Hn.#r,y,!0),O.setUint32(Hn.#o,x,!0);let k=20;new Float32Array(C,k,p*2).set(r),k+=p*8,N.set(s,k),k+=v*3;for(const[z,R]of l)O.setFloat32(k,z,!0),k+=4,O.setUint32(k,parseInt(R.slice(1),16),!0),k+=4;if(i)for(const z of i)O.setFloat32(k,z,!0),k+=4;f&&(N.set(f,k),k+=3);for(let z=0;z<u.length;z++){const R=u[z];O.setUint8(k,R.type),k+=1,k=Math.ceil(k/4)*4,O.setUint32(k,R.coords.length,!0),k+=4,new Int32Array(C,k,R.coords.length).set(R.coords),k+=R.coords.length*4,O.setUint32(k,R.colors.length,!0),k+=4,new Int32Array(C,k,R.colors.length).set(R.colors),k+=R.colors.length*4,R.verticesPerRow!==void 0&&(O.setUint32(k,R.verticesPerRow,!0),k+=4)}return C}getIR(){const t=this.view,e=this.data[Hn.#t],i=!!this.data[Hn.#e],r=!!this.data[Hn.#i],s=t.getUint32(Hn.#a,!0),l=t.getUint32(Hn.#s,!0),u=t.getUint32(Hn.#r,!0),d=t.getUint32(Hn.#o,!0);let f=20;const p=new Float32Array(this.buffer,f,s*2);f+=s*8;const v=new Uint8Array(this.buffer,f,l*3);f+=l*3;const y=[];for(let C=0;C<u;++C){const O=t.getFloat32(f,!0);f+=4;const N=t.getUint32(f,!0);f+=4,y.push([O,`#${N.toString(16).padStart(6,"0")}`])}let x=null;if(i){x=[];for(let C=0;C<4;++C)x.push(t.getFloat32(f,!0)),f+=4}let A=null;r&&(A=new Uint8Array(this.buffer,f,3),f+=3);const S=[];for(let C=0;C<d;++C){const O=t.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const N=t.getUint32(f,!0);f+=4;const k=new Int32Array(this.buffer,f,N);f+=N*4;const j=t.getUint32(f,!0);f+=4;const z=new Int32Array(this.buffer,f,j);f+=j*4;const R={type:O,coords:k,colors:z};O===ix.LATTICE&&(R.verticesPerRow=t.getUint32(f,!0),f+=4),S.push(R)}if(e===1)return["RadialAxial","axial",x,y,Array.from(p.slice(0,2)),Array.from(p.slice(2,4)),null,null];if(e===2)return["RadialAxial","radial",x,y,[p[0],p[1]],[p[3],p[4]],p[2],p[5]];if(e===3){const C=this.data[Hn.#n];let O=null;if(p.length>0){let N=p[0],k=p[0],j=p[1],z=p[1];for(let R=0;R<p.length;R+=2){const F=p[R],q=p[R+1];N=N>F?F:N,j=j>q?q:j,k=k<F?F:k,z=z<q?q:z}O=[N,j,k,z]}return["Mesh",C,p,v,S,O,x,A]}throw new Error(`Unsupported pattern kind: ${e}`)}}class WX{static write(t){let e,i;return Ln.isFloat16ArraySupported?(i=new ArrayBuffer(t.length*2),e=new Float16Array(i)):(i=new ArrayBuffer(t.length*4),e=new Float32Array(i)),e.set(t),i}#t;constructor(t){this.#t=t}get path(){return Ln.isFloat16ArraySupported?new Float16Array(this.#t):new Float32Array(this.#t)}}function VX(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(_i)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function YX(n){if(_i&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Qg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zp(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const cx=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,XX=n=>typeof n=="object"&&typeof n?.name=="string",ZX=PX.bind(null,cx,XX);class KX{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:s}=i;if(s.aborted){te("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",l),s.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Bp={DATA:1,ERROR:2},Sn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function TM(){}function Ui(n){if(n instanceof Eo||n instanceof rx||n instanceof vM||n instanceof Qm||n instanceof Xb)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Me('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Eo(n.message);case"InvalidPDFException":return new rx(n.message);case"PasswordException":return new vM(n.message,n.code);case"ResponseException":return new Qm(n.message,n.status,n.missing);case"UnknownErrorException":return new Xb(n.message,n.details)}return new Xb(n.message,n.toString())}class td{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Bp.DATA)r.resolve(t.data);else if(t.callback===Bp.ERROR)r.reject(Ui(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(l){s.postMessage({sourceName:i,targetName:r,callback:Bp.DATA,callbackId:t.callbackId,data:l})},function(l){s.postMessage({sourceName:i,targetName:r,callback:Bp.ERROR,callbackId:t.callbackId,reason:Ui(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(l){s.reject(l)}return s.promise}sendWithStream(t,e,i,r){const s=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[s]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:s,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[s].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:Sn.PULL,streamId:s,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Oe(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[s].cancelCall=p,this.streamControllers[s].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:Sn.CANCEL,streamId:s,reason:Ui(f)}),p.promise}},i)}#i(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,v){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Sn.ENQUEUE,streamId:e,chunk:f},v)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Sn.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Oe(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Sn.ERROR,streamId:e,reason:Ui(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Sn.START_COMPLETE,streamId:e,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Sn.START_COMPLETE,streamId:e,reason:Ui(f)})})}#n(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Sn.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Ui(t.reason));break;case Sn.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Ui(t.reason));break;case Sn.PULL:if(!u){s.postMessage({sourceName:i,targetName:r,stream:Sn.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||TM).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Sn.PULL_COMPLETE,streamId:e,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Sn.PULL_COMPLETE,streamId:e,reason:Ui(f)})});break;case Sn.ENQUEUE:if(Oe(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case Sn.CLOSE:if(Oe(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case Sn.ERROR:Oe(l,"error should have stream controller"),l.controller.error(Ui(t.reason)),this.#a(l,e);break;case Sn.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Ui(t.reason)),this.#a(l,e);break;case Sn.CANCEL:if(!u)break;const d=Ui(t.reason);Promise.try(u.onCancel||TM,d).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Sn.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Sn.CANCEL_COMPLETE,streamId:e,reason:Ui(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class oj{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Me("Abstract method `_createCanvas` called.")}}class QX extends oj{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class lj{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Me("Abstract method `_fetch` called.")}}class EM extends lj{async _fetch(t){const e=await Hd(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Qg(e)}}class cj{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,s){return"none"}destroy(t=!1){}}class JX extends cj{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#a.createElementNS(os,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#a.createElementNS(os,"defs"),t.append(i),i.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let v=0;v<256;v++)f[v]=d[v]/255;const p=f.join(",");return[p,p,p]}const[e,i,r]=t,s=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)s[d]=e[d]/255,l[d]=i[d]/255,u[d]=r[d]/255;return[s.join(","),l.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Jg(e)?te('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=JN(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,r,s]=this.#d(t),l=t.length===1?i:`${i}${r}${s}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#r++}`,d=this.#h(u);this.#o.set(t,d),this.#o.set(l,d);const f=this.#m(u);return this.#p(i,r,s,f),d}addHCMFilter(t,e){const i=`${t}-${e}`,r="base";let s=this.#c.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#c.set(r,s)),!t||!e))return s.url;const l=this.#b(t);t=Lt.makeHexColor(...l);const u=this.#b(e);if(e=Lt.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return s.url;const d=new Array(256);for(let x=0;x<=255;x++){const A=x/255;d[x]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,v=s.filter=this.#m(p);this.#p(f,f,f,v),this.#g(v);const y=(x,A)=>{const S=l[x]/255,C=u[x]/255,O=new Array(A+1);for(let N=0;N<=A;N++)O[N]=S+N/A*(C-S);return O.join(",")};return this.#p(y(0,5),y(1,5),y(2,5),v),s.url=this.#h(p),s.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#d([t]),r=`alpha_${i}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const s=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#h(s);this.#o.set(t,l),this.#o.set(r,l);const u=this.#m(s);return this.#v(i,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#d([t]),r=`luminosity_${i}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#h(s);this.#o.set(t,l),this.#o.set(r,l);const u=this.#m(s);return this.#f(u),t&&this.#v(i,u),l}addHighlightHCMFilter(t,e,i,r,s){const l=`${e}-${i}-${r}-${s}`;let u=this.#c.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(t,u)),!e||!i))return u.url;const[d,f]=[e,i].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),v=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,x]=[r,s].map(this.#b.bind(this));v<p&&([p,v,y,x]=[v,p,x,y]),this.#l.style.color="";const A=(O,N,k)=>{const j=new Array(256),z=(v-p)/k,R=O/255,F=(N-O)/(255*k);let q=0;for(let J=0;J<=k;J++){const ct=Math.round(p+J*z),et=R+J*F;for(let Z=q;Z<=ct;Z++)j[Z]=et;q=ct+1}for(let J=q;J<256;J++)j[J]=j[q-1];return j.join(",")},S=`g_${this.#n}_hcm_${t}_filter`,C=u.filter=this.#m(S);return this.#g(C),this.#p(A(y[0],x[0],5),A(y[1],x[1],5),A(y[2],x[2],5),C),u.url=this.#h(S),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const e=this.#a.createElementNS(os,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(os,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(os,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,i){const r=this.#a.createElementNS(os,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#p(t,e,i,r){const s=this.#a.createElementNS(os,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",t),this.#u(s,"feFuncG",e),this.#u(s,"feFuncB",i)}#v(t,e){const i=this.#a.createElementNS(os,"feComponentTransfer");e.append(i),this.#u(i,"feFuncA",t)}#b(t){return this.#l.style.color=t,qd(getComputedStyle(this.#l).getPropertyValue("color"))}}class uj{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Me("Abstract method `_fetch` called.")}}class CM extends uj{async _fetch(t){const e=await Hd(t,"arraybuffer");return new Uint8Array(e)}}class hj{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Me("Abstract method `_fetch` called.")}}class OM extends hj{async _fetch(t){const e=await Hd(t,"arraybuffer");return new Uint8Array(e)}}_i&&te("Please use the `legacy` build in Node.js environments.");async function rw(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class tZ extends cj{}class eZ extends oj{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class nZ extends lj{async _fetch(t){return rw(t)}}class iZ extends uj{async _fetch(t){return rw(t)}}class rZ extends hj{async _fetch(t){return rw(t)}}const Hc="__forcedDependency",{floor:MM,ceil:PM}=Math;function Fp(n,t,e,i,r,s){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],i),n[t*4+2]=Math.max(n[t*4+2],r),n[t*4+3]=Math.max(n[t*4+3],s)}const ux=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class aZ{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===ux}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Up=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};class sZ{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Hc]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#m;#u;#p;constructor(t,e,i=!1){this.#f=t.width,this.#g=t.height,this.#v(e),i&&(this.#p=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#v(t,this.#u)}#v(t,e){const i=new ArrayBuffer(t*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),e&&e.length>0?(this.#u.set(e),this.#u.fill(ux,e.length)):this.#u.fill(ux)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Hc]:{__proto__:this.#e[Hc]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const i=this.#n.pop();return i!==void 0&&(Up(this.#p,t)?.dependencies.add(i),this.#u[t]=this.#u[i]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Up(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(Up(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(Lt.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,i){this.#t[t]=this.#i.get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Hc,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Hc,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,i,r,s,l){const u=Lt.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];Lt.axialAlignedBoundingBox([i,s,r,l],u,d);const f=Lt.intersect(this.#r,d);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,i,r,s,l){const u=this.#r;if(u[0]===1/0)return this;const d=Lt.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return Lt.axialAlignedBoundingBox([i,s,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return Lt.axialAlignedBoundingBox([i,s,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,i,r=1,s=0,l=0,u){const d=i.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(i),f!==!1&&(p=[0,0,0,0],Lt.axialAlignedBoundingBox(d,i.fontMatrix,p),(r!==1||s!==0||l!==0)&&Lt.scaleMinMax([r,0,0,-r,s,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const v=u();return d&&p&&f===void 0&&(f=p[0]<=s-v.actualBoundingBoxLeft&&p[2]>=s+v.actualBoundingBoxRight&&p[1]<=l-v.actualBoundingBoxAscent&&p[3]>=l+v.actualBoundingBoxDescent,this.#h.set(i,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,s-v.actualBoundingBoxLeft,s+v.actualBoundingBoxRight,l-v.actualBoundingBoxAscent,l+v.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#g,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const i=this.#l,r=this.#t,s=this.#e;for(const l of e)l in this.#t?i.add(r[l]):l in s&&s[l].forEach(i.add,i);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Hc]),this.#p){const i=Up(this.#p,t),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(t),i.isRenderingOperation=!0}if(this.#c===t){const i=MM(this.#o[0]*256/this.#f),r=MM(this.#o[1]*256/this.#g),s=PM(this.#o[2]*256/this.#f),l=PM(this.#o[3]*256/this.#g);Fp(this.#m,t,i,r,s,l);for(const u of this.#l)u!==t&&Fp(this.#m,u,i,r,s,l);for(const u of this.#n)u!==t&&Fp(this.#m,u,i,r,s,l);for(const u of this.#a)u!==t&&Fp(this.#m,u,i,r,s,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const i=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new aZ(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Jm{#t;#e;#i;#n=0;#a=0;constructor(t,e,i){if(t instanceof Jm&&t.#i===!!i)return t;this.#t=t,this.#e=e,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,i,r,s,l){return this.#i||this.#t.recordClipBox(this.#e,e,i,r,s,l),this}recordBBox(t,e,i,r,s,l){return this.#i||this.#t.recordBBox(this.#e,e,i,r,s,l),this}recordCharacterBBox(t,e,i,r,s,l,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,i,r,s,l,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Er={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},oi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function hx(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}class aw{isModifyingCurrentTransform(){return!1}getPattern(){Me("Abstract method `getPattern` called.")}}class oZ extends aw{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(t,e=null){let i,r=this._p0,s=this._p1;if(e&&(r=r.slice(),s=s.slice(),Lt.applyTransform(r,e),Lt.applyTransform(s,e)),this._type==="axial")i=t.createLinearGradient(r[0],r[1],s[0],s[1]);else if(this._type==="radial"){let l=this._r0,u=this._r1;if(e){const d=new Float32Array(2);Lt.singularValueDecompose2dScale(e,d),l*=d[0],u*=d[0]}i=t.createRadialGradient(r[0],r[1],l,s[0],s[1],u)}for(const l of this._colorStops)i.addColorStop(l[0],l[1]);return i}getPattern(t,e,i,r){let s;if(r===oi.STROKE||r===oi.FILL){if(this.isOriginBased()){let y=Lt.transform(i,e.baseTransform);this.matrix&&(y=Lt.transform(y,this.matrix));const x=.001,A=Math.hypot(y[0],y[1]),S=Math.hypot(y[2],y[3]),C=(y[0]*y[2]+y[1]*y[3])/(A*S);if(Math.abs(C)<x)if(this.isRadial()){if(Math.abs(A-S)<x)return this._createGradient(t,y)}else return this._createGradient(t,y)}const l=e.current.getClippedPathBoundingBox(r,rn(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),i=Lt.transform(i,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),hx(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),s=t.createPattern(f.canvas,"no-repeat");const v=new DOMMatrix(i);s.setTransform(v)}else hx(t,this._bbox),s=this._createGradient(t);return s}}function Qb(n,t,e,i,r,s,l,u){const d=t.coords,f=t.colors,p=n.data,v=n.width*4;let y;d[e+1]>d[i+1]&&(y=e,e=i,i=y,y=s,s=l,l=y),d[i+1]>d[r+1]&&(y=i,i=r,r=y,y=l,l=u,u=y),d[e+1]>d[i+1]&&(y=e,e=i,i=y,y=s,s=l,l=y);const x=(d[e]+t.offsetX)*t.scaleX,A=(d[e+1]+t.offsetY)*t.scaleY,S=(d[i]+t.offsetX)*t.scaleX,C=(d[i+1]+t.offsetY)*t.scaleY,O=(d[r]+t.offsetX)*t.scaleX,N=(d[r+1]+t.offsetY)*t.scaleY;if(A>=N)return;const k=f[s],j=f[s+1],z=f[s+2],R=f[l],F=f[l+1],q=f[l+2],J=f[u],ct=f[u+1],et=f[u+2],Z=Math.round(A),Ct=Math.round(N);let _t,kt,G,K,V,Pt,yt,H;for(let it=Z;it<=Ct;it++){if(it<C){const Dt=it<A?0:(A-it)/(A-C);_t=x-(x-S)*Dt,kt=k-(k-R)*Dt,G=j-(j-F)*Dt,K=z-(z-q)*Dt}else{let Dt;it>N?Dt=1:C===N?Dt=0:Dt=(C-it)/(C-N),_t=S-(S-O)*Dt,kt=R-(R-J)*Dt,G=F-(F-ct)*Dt,K=q-(q-et)*Dt}let dt;it<A?dt=0:it>N?dt=1:dt=(A-it)/(A-N),V=x-(x-O)*dt,Pt=k-(k-J)*dt,yt=j-(j-ct)*dt,H=z-(z-et)*dt;const bt=Math.round(Math.min(_t,V)),Q=Math.round(Math.max(_t,V));let Tt=v*it+bt*4;for(let Dt=bt;Dt<=Q;Dt++)dt=(_t-Dt)/(_t-V),dt<0?dt=0:dt>1&&(dt=1),p[Tt++]=kt-(kt-Pt)*dt|0,p[Tt++]=G-(G-yt)*dt|0,p[Tt++]=K-(K-H)*dt|0,p[Tt++]=255}}function lZ(n,t,e){const i=t.coords,r=t.colors;let s,l;switch(t.type){case ix.LATTICE:const u=t.verticesPerRow,d=Math.floor(i.length/u)-1,f=u-1;for(s=0;s<d;s++){let p=s*u;for(let v=0;v<f;v++,p++)Qb(n,e,i[p],i[p+1],i[p+u],r[p],r[p+1],r[p+u]),Qb(n,e,i[p+u+1],i[p+1],i[p+u],r[p+u+1],r[p+1],r[p+u])}break;case ix.TRIANGLES:for(s=0,l=i.length;s<l;s+=3)Qb(n,e,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class cZ extends aw{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,v=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),x=f/v,A=p/y,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/x,scaleY:1/A},C=v+4,O=y+4,N=i.getCanvas("mesh",C,O),k=N.context,j=k.createImageData(v,y);if(e){const R=j.data;for(let F=0,q=R.length;F<q;F+=4)R[F]=e[0],R[F+1]=e[1],R[F+2]=e[2],R[F+3]=255}for(const R of this._figures)lZ(j,R,S);return k.putImageData(j,2,2),{canvas:N.canvas,offsetX:u-2*x,offsetY:d-2*A,scaleX:x,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){hx(t,this._bbox);const s=new Float32Array(2);if(r===oi.SHADING)Lt.singularValueDecompose2dScale(rn(t),s);else if(this.matrix){Lt.singularValueDecompose2dScale(this.matrix,s);const[u,d]=s;Lt.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=u,s[1]*=d}else Lt.singularValueDecompose2dScale(e.baseTransform,s);const l=this._createMeshCanvas(s,r===oi.SHADING?null:this._background,e.cachedCanvases);return r!==oi.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class uZ extends aw{getPattern(){return"hotpink"}}function hZ(n){switch(n[0]){case"RadialAxial":return new oZ(n);case"Mesh":return new cZ(n);case"Dummy":return new uZ}throw new Error(`Unknown IR type: ${n[0]}`)}const DM={COLORED:1,UNCOLORED:2};class sw{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:i,operatorList:r,paintType:s,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Kg("TilingType: "+l);const v=i[0],y=i[1],x=i[2],A=i[3],S=x-v,C=A-y,O=new Float32Array(2);Lt.singularValueDecompose2dScale(this.matrix,O);const[N,k]=O;Lt.singularValueDecompose2dScale(this.baseTransform,O);const j=N*O[0],z=k*O[1];let R=S,F=C,q=!1,J=!1;const ct=Math.ceil(f*j),et=Math.ceil(p*z),Z=Math.ceil(S*j),Ct=Math.ceil(C*z);ct>=Z?R=f:q=!0,et>=Ct?F=p:J=!0;const _t=this.getSizeAndScale(R,this.ctx.canvas.width,j),kt=this.getSizeAndScale(F,this.ctx.canvas.height,z),G=t.cachedCanvases.getCanvas("pattern",_t.size,kt.size),K=G.context,V=d.createCanvasGraphics(K,e);if(V.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(V,s,u),K.translate(-_t.scale*v,-kt.scale*y),V.transform(0,_t.scale,0,0,kt.scale,0,0),K.save(),V.dependencyTracker?.save(),this.clipBbox(V,v,y,x,A),V.baseTransform=rn(V.ctx),V.executeOperatorList(r),V.endDrawing(),V.dependencyTracker?.restore(),K.restore(),q||J){const Pt=G.canvas;q&&(R=f),J&&(F=p);const yt=this.getSizeAndScale(R,this.ctx.canvas.width,j),H=this.getSizeAndScale(F,this.ctx.canvas.height,z),it=yt.size,dt=H.size,bt=t.cachedCanvases.getCanvas("pattern-workaround",it,dt),Q=bt.context,Tt=q?Math.floor(S/f):0,Dt=J?Math.floor(C/p):0;for(let Qt=0;Qt<=Tt;Qt++)for(let ht=0;ht<=Dt;ht++)Q.drawImage(Pt,it*Qt,dt*ht,it,dt,0,0,it,dt);return{canvas:bt.canvas,scaleX:yt.scale,scaleY:H.scale,offsetX:v,offsetY:y}}return{canvas:G.canvas,scaleX:_t.scale,scaleY:kt.scale,offsetX:v,offsetY:y}}getSizeAndScale(t,e,i){const r=Math.max(sw.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*i);return s>=r?s=r:i=s/t,{scale:i,size:s}}clipBbox(t,e,i,r,s){const l=r-e,u=s-i;t.ctx.rect(e,i,l,u),Lt.axialAlignedBoundingBox([e,i,r,s],rn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,s=t.current;switch(e){case DM.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;r.fillStyle=s.fillColor=l,r.strokeStyle=s.strokeColor=u;break;case DM.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new SX(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r,s){let l=i;r!==oi.SHADING&&(l=Lt.transform(l,e.baseTransform),this.matrix&&(l=Lt.transform(l,this.matrix)));const u=this.createPatternCanvas(e,s);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function dZ({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:l=!1}){const u=Ln.isLittleEndian?4278190080:255,[d,f]=l?[s,u]:[u,s],p=i>>3,v=i&7,y=n.length;e=new Uint32Array(e.buffer);let x=0;for(let A=0;A<r;A++){for(const C=t+p;t<C;t++){const O=t<y?n[t]:255;e[x++]=O&128?f:d,e[x++]=O&64?f:d,e[x++]=O&32?f:d,e[x++]=O&16?f:d,e[x++]=O&8?f:d,e[x++]=O&4?f:d,e[x++]=O&2?f:d,e[x++]=O&1?f:d}if(v===0)continue;const S=t<y?n[t++]:255;for(let C=0;C<v;C++)e[x++]=S&1<<7-C?f:d}return{srcPos:t,destPos:x}}const kM=16,LM=100,fZ=15,NM=10,Hi=16,Jb=new DOMMatrix,or=new Float32Array(2),Zc=new Float32Array([1/0,1/0,-1/0,-1/0]);function pZ(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,r,s,l,u){t.transform(e,i,r,s,l,u),this.__originalTransform(e,i,r,s,l,u)},n.setTransform=function(e,i,r,s,l,u){t.setTransform(e,i,r,s,l,u),this.__originalSetTransform(e,i,r,s,l,u)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,s,l,u){t.bezierCurveTo(e,i,r,s,l,u),this.__originalBezierCurveTo(e,i,r,s,l,u)},n.rect=function(e,i,r,s){t.rect(e,i,r,s),this.__originalRect(e,i,r,s)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class mZ{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Hp(n,t,e,i,r,s,l,u,d,f){const[p,v,y,x,A,S]=rn(n);if(v===0&&y===0){const N=l*p+A,k=Math.round(N),j=u*x+S,z=Math.round(j),R=(l+d)*p+A,F=Math.abs(Math.round(R)-k)||1,q=(u+f)*x+S,J=Math.abs(Math.round(q)-z)||1;return n.setTransform(Math.sign(p),0,0,Math.sign(x),k,z),n.drawImage(t,e,i,r,s,0,0,F,J),n.setTransform(p,v,y,x,A,S),[F,J]}if(p===0&&x===0){const N=u*y+A,k=Math.round(N),j=l*v+S,z=Math.round(j),R=(u+f)*y+A,F=Math.abs(Math.round(R)-k)||1,q=(l+d)*v+S,J=Math.abs(Math.round(q)-z)||1;return n.setTransform(0,Math.sign(v),Math.sign(y),0,k,z),n.drawImage(t,e,i,r,s,0,0,J,F),n.setTransform(p,v,y,x,A,S),[J,F]}n.drawImage(t,e,i,r,s,l,u,d,f);const C=Math.hypot(p,v),O=Math.hypot(y,x);return[C*d,O*f]}class jM{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=nx;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Pn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,i){i?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Zc.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=oi.FILL,e=null){const i=this.minMax.slice();if(t===oi.STROKE){e||Me("Stroke bounding box must include transform."),Lt.singularValueDecompose2dScale(e,or);const r=or[0]*this.lineWidth/2,s=or[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const t=Lt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Zc,0)}getClippedPathBoundingBox(t=oi.FILL,e=null){return Lt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function RM(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%Hi,s=(e-r)/Hi,l=r===0?s:s+1,u=n.createImageData(i,Hi);let d=0,f;const p=t.data,v=u.data;let y,x,A,S;if(t.kind===tm.GRAYSCALE_1BPP){const C=p.byteLength,O=new Uint32Array(v.buffer,0,v.byteLength>>2),N=O.length,k=i+7>>3,j=4294967295,z=Ln.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(A=y<s?Hi:r,f=0,x=0;x<A;x++){const R=C-d;let F=0;const q=R>k?i:R*8-7,J=q&-8;let ct=0,et=0;for(;F<J;F+=8)et=p[d++],O[f++]=et&128?j:z,O[f++]=et&64?j:z,O[f++]=et&32?j:z,O[f++]=et&16?j:z,O[f++]=et&8?j:z,O[f++]=et&4?j:z,O[f++]=et&2?j:z,O[f++]=et&1?j:z;for(;F<q;F++)ct===0&&(et=p[d++],ct=128),O[f++]=et&ct?j:z,ct>>=1}for(;f<N;)O[f++]=0;n.putImageData(u,0,y*Hi)}}else if(t.kind===tm.RGBA_32BPP){for(x=0,S=i*Hi*4,y=0;y<s;y++)v.set(p.subarray(d,d+S)),d+=S,n.putImageData(u,0,x),x+=Hi;y<l&&(S=i*r*4,v.set(p.subarray(d,d+S)),n.putImageData(u,0,x))}else if(t.kind===tm.RGB_24BPP)for(A=Hi,S=i*A,y=0;y<l;y++){for(y>=s&&(A=r,S=i*A),f=0,x=S;x--;)v[f++]=p[d++],v[f++]=p[d++],v[f++]=p[d++],v[f++]=255;n.putImageData(u,0,y*Hi)}else throw new Error(`bad image kind: ${t.kind}`)}function IM(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%Hi,s=(e-r)/Hi,l=r===0?s:s+1,u=n.createImageData(i,Hi);let d=0;const f=t.data,p=u.data;for(let v=0;v<l;v++){const y=v<s?Hi:r;({srcPos:d}=dZ({src:f,srcPos:d,dest:p,width:i,height:y,nonBlackColor:0})),n.putImageData(u,0,v*Hi)}}function qh(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function $p(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function zM(n,t){if(t)return!0;Lt.singularValueDecompose2dScale(n,or);const e=Math.fround(ja.pixelRatio*mu.PDF_TO_CSS_UNITS);return or[0]<=e&&or[1]<=e}const gZ=["butt","round","square"],vZ=["miter","round","bevel"],yZ={},BM={};class nu{constructor(t,e,i,r,s,{optionalContentConfig:l,markedContentStack:u=null},d,f,p){this.ctx=t,this.current=new jM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new mZ(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,i=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,l),this.ctx.fillStyle=u,i){const d=this.cachedCanvases.getCanvas("transparent",s,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...rn(this.compositeCtx))}this.ctx.save(),$p(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=rn(this.ctx)}executeOperatorList(t,e,i,r,s){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>NM&&typeof i=="function",v=p?Date.now()+fZ:0;let y=0;const x=this.commonObjs,A=this.objs;let S,C;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,i),d;if(!s||s(d))if(S=u[d],C=l[d]??null,S!==xd.dependency)C===null?this[S](d):this[S](d,...C);else for(const O of C){this.dependencyTracker?.recordNamedData(O,d);const N=O.startsWith("g_")?x:A;if(!N.has(O))return N.get(O,i),d}if(d++,d===f)return d;if(p&&++y>NM){if(Date.now()>v)return i(),d;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=i,d=r,f="prescale1",p,v;for(;s>2&&u>1||l>2&&d>1;){let y=u,x=d;s>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),s/=u/y),l>2&&d>1&&(x=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/x),p=this.cachedCanvases.getCanvas(f,y,x),v=p.context,v.clearRect(0,0,y,x),v.drawImage(t,0,0,u,d,0,0,y,x),t=p.canvas,u=y,d=x,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const i=this.ctx,{width:r,height:s}=e,l=this.current.fillColor,u=this.current.patternFill,d=rn(i);let f,p,v,y;if((e.bitmap||e.data)&&e.count>1){const ct=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(ct),f||(f=new Map,this._cachedBitmapsMap.set(ct,f));const et=f.get(p);if(et&&!u){const Z=Math.round(Math.min(d[0],d[2])+d[4]),Ct=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Er.transformAndFill),{canvas:et,offsetX:Z,offsetY:Ct}}v=et}v||(y=this.cachedCanvases.getCanvas("maskCanvas",r,s),IM(y.context,e));let x=Lt.transform(d,[1/r,0,0,-1/s,0,0]);x=Lt.transform(x,[1,0,0,1,0,-s]);const A=Zc.slice();Lt.axialAlignedBoundingBox([0,0,r,s],x,A);const[S,C,O,N]=A,k=Math.round(O-S)||1,j=Math.round(N-C)||1,z=this.cachedCanvases.getCanvas("fillCanvas",k,j),R=z.context,F=S,q=C;R.translate(-F,-q),R.transform(...x),v||(v=this._scaleImage(y.canvas,Aa(R)),v=v.img,f&&u&&f.set(p,v)),R.imageSmoothingEnabled=zM(rn(R),e.interpolate),Hp(R,v,0,0,v.width,v.height,0,0,r,s),R.globalCompositeOperation="source-in";const J=Lt.transform(Aa(R),[1,0,0,1,-F,-q]);return R.fillStyle=u?l.getPattern(i,this,J,oi.FILL,t):l,R.fillRect(0,0,r,s),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,z.canvas)),this.dependencyTracker?.recordDependencies(t,Er.transformAndFill),{canvas:z.canvas,offsetX:Math.round(F),offsetY:Math.round(q)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=gZ[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=vZ[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[i,r]of e)switch(i){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const l=this.ctx=s.context;l.setTransform(this.suspendedCtx.getTransform()),qh(this.suspendedCtx,l),pZ(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),qh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const s=r[0],l=r[1],u=r[2]-s,d=r[3]-l;u===0||d===0||(this.genericComposeSMask(e.context,i,u,d,e.subtype,e.backdrop,e.transferMap,s,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,s,l,u,d,f,p,v){let y=t.canvas,x=d-p,A=f-v;if(l)if(x<0||A<0||x+i>y.width||A+r>y.height){const C=this.cachedCanvases.getCanvas("maskExtension",i,r),O=C.context;O.drawImage(y,-x,-A),O.globalCompositeOperation="destination-atop",O.fillStyle=l,O.fillRect(0,0,i,r),O.globalCompositeOperation="source-over",y=C.canvas,x=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(x,A,i,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(x,A,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(d,f,i,r),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(y,x,A,i,r,d,f,i,r),e.restore()}save(t){this.inSMaskMode&&qh(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&qh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,s,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,i,r,s,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,r){let[s]=i;if(!r){s||=i[0]=new Path2D,this[e](t,s);return}if(this.dependencyTracker!==null){const l=e===xd.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}s instanceof Path2D||(s=i[0]=ij(s)),Lt.axialAlignedBoundingBox(r,rn(this.ctx),this.current.minMax),this[e](t,s),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const l=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Aa(r),oi.STROKE,t),l){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Er.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(oi.STROKE,rn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){const r=this.ctx,s=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=s.getPattern(r,this,Aa(r),oi.FILL,t),f){const p=new Path2D;p.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,Er.fill),u&&(r.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Er.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=yZ}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=BM}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:p}of e)p&&r.addPath(p,new DOMMatrix(l).preMultiplySelf(s).translate(u,d).scale(f,-f));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||nx,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&te("Invalid font matrix for font "+e),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",u=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let p=i;i<kM?p=kM:i>LM&&(p=LM),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r}paintChar(t,e,i,r,s,l){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,v=d.fontSize/d.fontSizeScale,y=p&Pn.FILL_STROKE_MASK,x=!!(p&Pn.ADD_TO_PATH_FLAG),A=d.patternFill&&!f.missingFile,S=d.patternStroke&&!f.missingFile;let C;if((f.disableFontFace||x||A||S)&&!f.missingFile&&(C=f.getPathGenerator(this.commonObjs,e)),C&&(f.disableFontFace||A||S)){u.save(),u.translate(i,r),u.scale(v,-v),this.dependencyTracker?.recordCharacterBBox(t,u,f);let O;if(y===Pn.FILL||y===Pn.FILL_STROKE)if(s){O=u.getTransform(),u.setTransform(...s);const N=this.#i(C,O,s);u.fill(N)}else u.fill(C);if(y===Pn.STROKE||y===Pn.FILL_STROKE)if(l){O||=u.getTransform(),u.setTransform(...l);const{a:N,b:k,c:j,d:z}=O,R=Lt.inverseTransform(l),F=Lt.transform([N,k,j,z,0,0],R);Lt.singularValueDecompose2dScale(F,or),u.lineWidth*=Math.max(or[0],or[1])/v,u.stroke(this.#i(C,O,l))}else u.lineWidth/=v,u.stroke(C);u.restore()}else(y===Pn.FILL||y===Pn.FILL_STROKE)&&(u.fillText(e,i,r),this.dependencyTracker?.recordCharacterBBox(t,u,f,v,i,r,()=>u.measureText(e))),(y===Pn.STROKE||y===Pn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,v,i,r,()=>u.measureText(e)).recordDependencies(t,Er.stroke),u.strokeText(e,i,r));x&&((this.pendingTextPaths||=[]).push({transform:rn(u),x:i,y:r,fontSize:v,path:C}),this.dependencyTracker?.recordCharacterBBox(t,u,f,v,i,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return ee(this,"isFontSubpixelAAEnabled",i)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Er.showText).resetBBox(t),this.current.textRenderingMode&Pn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const s=i.fontSize;if(s===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,v=i.textHScale*p,y=e.length,x=r.vertical,A=x?1:-1,S=r.defaultVMetrics,C=s*i.fontMatrix[0],O=i.textRenderingMode===Pn.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),p>0?l.scale(v,-1):l.scale(v,1);let N,k;const j=i.textRenderingMode&Pn.FILL_STROKE_MASK,z=j===Pn.FILL||j===Pn.FILL_STROKE,R=j===Pn.STROKE||j===Pn.FILL_STROKE;if(z&&i.patternFill){l.save();const et=i.fillColor.getPattern(l,this,Aa(l),oi.FILL,t);N=rn(l),l.restore(),l.fillStyle=et}if(R&&i.patternStroke){l.save();const et=i.strokeColor.getPattern(l,this,Aa(l),oi.STROKE,t);k=rn(l),l.restore(),l.strokeStyle=et}let F=i.lineWidth;const q=i.textMatrixScale;if(q===0||F===0?R&&(F=this.getSinglePixelWidth()):F/=q,u!==1&&(l.scale(u,u),F/=u),l.lineWidth=F,r.isInvalidPDFjsFont){const et=[];let Z=0;for(const _t of e)et.push(_t.unicode),Z+=_t.width;const Ct=et.join("");if(l.fillText(Ct,0,0),this.dependencyTracker!==null){const _t=l.measureText(Ct);this.dependencyTracker.recordBBox(t,this.ctx,-_t.actualBoundingBoxLeft,_t.actualBoundingBoxRight,-_t.actualBoundingBoxAscent,_t.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=Z*C*v,l.restore(),this.compose();return}let J=0,ct;for(ct=0;ct<y;++ct){const et=e[ct];if(typeof et=="number"){J+=A*et*s/1e3;continue}let Z=!1;const Ct=(et.isSpace?f:0)+d,_t=et.fontChar,kt=et.accent;let G,K,V=et.width;if(x){const H=et.vmetric||S,it=-(et.vmetric?H[1]:V*.5)*C,dt=H[2]*C;V=H?-H[0]:V,G=it/u,K=(J+dt)/u}else G=J/u,K=0;let Pt;if(r.remeasure&&V>0){Pt=l.measureText(_t);const H=Pt.width*1e3/s*u;if(V<H&&this.isFontSubpixelAAEnabled){const it=V/H;Z=!0,l.save(),l.scale(it,1),G/=it}else V!==H&&(G+=(V-H)/2e3*s/u)}if(this.contentVisible&&(et.isInFont||r.missingFile)){if(O&&!kt)l.fillText(_t,G,K),this.dependencyTracker?.recordCharacterBBox(t,l,Pt?{bbox:null}:r,s/u,G,K,()=>Pt??l.measureText(_t));else if(this.paintChar(t,_t,G,K,N,k),kt){const H=G+s*kt.offset.x/u,it=K-s*kt.offset.y/u;this.paintChar(t,kt.fontChar,H,it,N,k)}}const yt=x?V*C-Ct*p:V*C+Ct*p;J+=yt,Z&&l.restore()}x?i.y-=J:i.x+=J*v,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,r=this.current,s=r.font,l=r.fontSize,u=r.fontDirection,d=s.vertical?1:-1,f=r.charSpacing,p=r.wordSpacing,v=r.textHScale*u,y=r.fontMatrix||nx,x=e.length,A=r.textRenderingMode===Pn.INVISIBLE;let S,C,O,N;if(A||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(v,u);const k=this.dependencyTracker;for(this.dependencyTracker=k?new Jm(k,t):null,S=0;S<x;++S){if(C=e[S],typeof C=="number"){N=d*C*l/1e3,this.ctx.translate(N,0),r.x+=N*v;continue}const j=(C.isSpace?p:0)+f,z=s.charProcOperatorList[C.operatorListId];z?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...y),this.executeOperatorList(z),this.restore()):te(`Type3 character "${C.operatorListId}" is not available.`);const R=[C.width,0];Lt.applyTransform(R,y),O=R[0]*l+j,i.translate(O,0),r.x+=O*v}i.restore(),k&&(this.dependencyTracker=k)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,r,s,l,u){const d=new Path2D;d.rect(r,s,l-r,u-s),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,s,u).recordClipBox(t,this.ctx,r,l,s,u),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||rn(this.ctx),s={createCanvasGraphics:(l,u)=>new nu(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Jm(this.dependencyTracker,u,!0):null)};i=new sw(e,this.ctx,s,r)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=hZ(this.getObject(t,e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(t,e){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,e);i.fillStyle=r.getPattern(i,this,Aa(i),oi.SHADING,t);const s=Aa(i);if(s){const{width:l,height:u}=i.canvas,d=Zc.slice();Lt.axialAlignedBoundingBox([0,0,l,u],s,d);const[f,p,v,y]=d;this.ctx.fillRect(f,p,v-f,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Er.transform).recordDependencies(t,Er.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Me("Should not call beginInlineImage")}beginImageData(){Me("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=rn(this.ctx),i)){Lt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,s,l,u]=i,d=new Path2D;d.rect(r,s,l-r,u-s),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,s,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Kg("TODO: Support non-isolated groups."),e.knockout&&te("Knockout groups not supported.");const r=rn(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Zc.slice();Lt.axialAlignedBoundingBox(e.bbox,rn(i),s);const l=[0,0,i.canvas.width,i.canvas.height];s=Lt.intersect(s,l)||[0,0,0,0];const u=Math.floor(s[0]),d=Math.floor(s[1]),f=Math.max(Math.ceil(s[2])-u,1),p=Math.max(Math.ceil(s[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let v="groupAt"+this.groupLevel;e.smask&&(v+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(v,f,p),x=y.context;x.translate(-u,-d),x.transform(...r);let A=new Path2D;const[S,C,O,N]=e.bbox;if(A.rect(S,C,O-S,N-C),e.matrix){const k=new Path2D;k.addPath(A,new DOMMatrix(e.matrix)),A=k}x.clip(A),e.smask&&this.smaskStack.push({canvas:y.canvas,context:x,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(u,d),i.save()),qh(i,x),this.ctx=x,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=rn(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...s);const l=Zc.slice();Lt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],s,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,i,r,s,l){if(this.#t(),$p(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],d=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=d,Lt.singularValueDecompose2dScale(rn(this.ctx),or);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),v=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,v);const{canvas:y,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(or[0],0,0,-or[1],0,d*or[1]),$p(this.ctx)}else{$p(this.ctx),this.endPath(t);const f=new Path2D;f.rect(i[0],i[1],u,d),this.ctx.clip(f)}}this.current=new jM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...s)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const r=this.ctx,s=this._createMaskCanvas(t,e),l=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,s.offsetX,s.offsetX+l.width,s.offsetY,s.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,r=0,s=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=rn(d);d.transform(i,r,s,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let v=0,y=u.length;v<y;v+=2){const x=Lt.transform(f,[i,r,s,l,u[v],u[v+1]]);d.drawImage(p.canvas,x[4],x[5]),this.dependencyTracker?.recordBBox(t,this.ctx,x[4],x[4]+p.canvas.width,x[5],x[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Er.transformAndFill);for(const l of e){const{data:u,width:d,height:f,transform:p}=l,v=this.cachedCanvases.getCanvas("maskCanvas",d,f),y=v.context;y.save();const x=this.getObject(t,u,l);IM(y,x),y.globalCompositeOperation="source-in",y.fillStyle=s?r.getPattern(y,this,Aa(i),oi.FILL,t):r,y.fillRect(0,0,d,f),y.restore(),i.save(),i.transform(...p),i.scale(1,-1),Hp(i,v.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){te("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,r,s){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){te("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,v=s.length;p<v;p+=2)f.push({transform:[i,0,0,r,s[p],s[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",i,r),l=s.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",s.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const i=e.width,r=e.height,s=this.ctx;this.save(t);const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none"),s.scale(1/i,-1/r);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,r).context;RM(p,e),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,Aa(s));s.imageSmoothingEnabled=zM(rn(s),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,s,0,i,-r,0).recordDependencies(t,Er.imageXObject).recordOperation(t),Hp(s,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;RM(f,e),s=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),Hp(r,s,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Er.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===BM?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=rn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:s}=this.ctx.getTransform();let l,u;if(i===0&&r===0){const d=Math.abs(e),f=Math.abs(s);if(d===f)if(t===0)l=u=1/d;else{const p=d*t;l=u=p<1?1/p:1}else if(t===0)l=1/d,u=1/f;else{const p=d*t,v=f*t;l=p<1?1/p:1,u=v<1?1/v:1}}else{const d=Math.abs(e*s-i*r),f=Math.hypot(e,i),p=Math.hypot(r,s);if(t===0)l=p/d,u=f/d;else{const v=t*d;l=p>v?p/v:1,u=f>v?f/v:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[s,l]=this.getScaleForStroking();if(s===l){i.lineWidth=(r||1)*s,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(s,l),Jb.a=1/s,Jb.d=1/l;const d=new Path2D;if(d.addPath(t,Jb),u.length>0){const f=Math.max(s,l);i.setLineDash(u.map(p=>p/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(d),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const n in xd)nu.prototype[n]!==void 0&&(nu.prototype[xd[n]]=nu.prototype[n]);class iu{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class bZ{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Gc=Symbol("INTERNAL");class _Z{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:s}){this.#t=!!(t&ar.DISPLAY),this.#e=!!(t&ar.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==Gc&&Me("Internal method `_setVisible` called."),this.#i=i,this.#n=e}}class xZ{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=ar.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const i of t.groups)this.#e.set(i.id,new _Z(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(Gc,!1);for(const i of t.on)this.#e.get(i)._setVisible(Gc,!0);for(const i of t.off)this.#e.get(i)._setVisible(Gc,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const s=t[r];let l;if(Array.isArray(s))l=this.#a(s);else if(this.#e.has(s))l=this.#e.get(s).visible;else return te(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Kg("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(te(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return te(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return te(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return te(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return te(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return te(`Unknown optional content policy ${t.policy}.`),!0}return te(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const r=this.#e.get(t);if(!r){te(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const s of r.rbGroups)for(const l of s)l!==t&&this.#e.get(l)?._setVisible(Gc,!1,!0);r._setVisible(Gc,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=this.#e.get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new aj;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class ev{#t=null;#e=null;_fullReader=null;_rangeReaders=new Set;_source=null;constructor(t,e,i){this._source=t,this.#t=e,this.#e=i}get _progressiveDataLength(){return this._fullReader?._loaded??0}getFullReader(){return Oe(!this._fullReader,"BasePDFStream.getFullReader can only be called once."),this._fullReader=new this.#t(this)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new this.#e(this,t,e);return this._rangeReaders.add(i),i}cancelAllRequests(t){this._fullReader?.cancel(t);for(const e of new Set(this._rangeReaders))e.cancel(t)}}class nv{onProgress=null;_contentLength=0;_filename=null;_headersCapability=Promise.withResolvers();_isRangeSupported=!1;_isStreamingSupported=!1;_loaded=0;_stream=null;constructor(t){this._stream=t}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){Me("Abstract method `read` called")}cancel(t){Me("Abstract method `cancel` called")}}class iv{_stream=null;constructor(t,e,i){this._stream=t}async read(){Me("Abstract method `read` called")}cancel(t){Me("Abstract method `cancel` called")}}function FM(n){return n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer}class wZ extends ev{_progressiveDone=!1;_queuedChunks=[];constructor(t){super(t,SZ,AZ);const{pdfDataRangeTransport:e}=t,{initialData:i,progressiveDone:r}=e;if(i?.length>0){const s=FM(i);this._queuedChunks.push(s)}this._progressiveDone=r,e.addRangeListener((s,l)=>{this.#t(s,l)}),e.addProgressListener((s,l)=>{l!==void 0&&this._fullReader?.onProgress?.({loaded:s,total:l})}),e.addProgressiveReadListener(s=>{this.#t(void 0,s)}),e.addProgressiveDoneListener(()=>{this._fullReader?.progressiveDone(),this._progressiveDone=!0}),e.transportReady()}#t(t,e){const i=FM(e);if(t===void 0)this._fullReader?this._fullReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.keys().find(s=>s._begin===t);Oe(r,"#onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."),r._enqueue(i)}}getFullReader(){const t=super.getFullReader();return this._queuedChunks=null,t}getRangeReader(t,e){const i=super.getRangeReader(t,e);return i&&(i.onDone=()=>this._rangeReaders.delete(i),this._source.pdfDataRangeTransport.requestDataRange(t,e)),i}cancelAllRequests(t){super.cancelAllRequests(t),this._source.pdfDataRangeTransport.abort()}}class SZ extends nv{_done=!1;_queuedChunks=null;_requests=[];constructor(t){super(t);const{pdfDataRangeTransport:e,disableRange:i,disableStream:r}=t._source,{length:s,contentDispositionFilename:l}=e;this._queuedChunks=t._queuedChunks||[];for(const u of this._queuedChunks)this._loaded+=u.byteLength;this._done=t._progressiveDone,this._contentLength=s,this._isStreamingSupported=!r,this._isRangeSupported=!i,tw(l)&&(this._filename=l),this._headersCapability.resolve()}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||=!0}}class AZ extends iv{onDone=null;_begin=-1;_done=!1;_queuedChunk=null;_requests=[];constructor(t,e,i){super(t,e,i),this._begin=e}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this.onDone?.()}}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this.onDone?.()}}function TZ(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),s(p)}if(e=l(n),e){const p=f(e);return s(p)}if(e=i("filename","i").exec(n),e){e=e[1];let p=u(e);return p=f(p),s(p)}function i(p,v){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(p,v){if(p){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const y=new TextDecoder(p,{fatal:!0}),x=Qg(v);v=y.decode(x),t=!1}catch{}}return v}function s(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function l(p){const v=[];let y;const x=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=x.exec(p))!==null;){let[,S,C,O]=y;if(S=parseInt(S,10),S in v){if(S===0)break;continue}v[S]=[C,O]}const A=[];for(let S=0;S<v.length&&S in v;++S){let[C,O]=v[S];O=u(O),C&&(O=unescape(O),S===0&&(O=d(O))),A.push(O)}return A.join("")}function u(p){if(p.startsWith('"')){const v=p.slice(1).split('\\"');for(let y=0;y<v.length;++y){const x=v[y].indexOf('"');x!==-1&&(v[y]=v[y].slice(0,x),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}p=v.join('"')}return p}function d(p){const v=p.indexOf("'");if(v===-1)return p;const y=p.slice(0,v),A=p.slice(v+1).replace(/^[^']*'/,"");return r(y,A)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,x,A){if(x==="q"||x==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),r(y,A);try{A=atob(A)}catch{}return r(y,A)})}return""}function dj(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function rv(n){return URL.parse(n)?.origin??null}function fj({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function pj(n){const t=n.get("Content-Disposition");if(t){let e=TZ(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(tw(e))return e}return null}function av(n,t){return new Qm(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function mj(n,t){if(n!==t)throw new Error(`Expected range response-origin "${n}" to match "${t}".`)}function gj(n,t,e,i){return fetch(n,{method:"GET",headers:t,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"})}function vj(n,t){if(n!==200&&n!==206)throw av(n,t)}function yj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(te(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class EZ extends ev{_responseOrigin=null;constructor(t){super(t,CZ,OZ),this.isHttp=/^https?:/i.test(t.url),this.headers=dj(this.isHttp,t.httpHeaders)}}class CZ extends nv{_abortController=new AbortController;_reader=null;constructor(t){super(t);const{disableRange:e,disableStream:i,length:r,rangeChunkSize:s,url:l,withCredentials:u}=t._source;this._contentLength=r,this._isStreamingSupported=!i,this._isRangeSupported=!e;const d=new Headers(t.headers);gj(l,d,u,this._abortController).then(f=>{t._responseOrigin=rv(f.url),vj(f.status,l),this._reader=f.body.getReader();const p=f.headers,{allowRangeRequests:v,suggestedLength:y}=fj({responseHeaders:p,isHttp:t.isHttp,rangeChunkSize:s,disableRange:e});this._isRangeSupported=v,this._contentLength=y||this._contentLength,this._filename=pj(p),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Eo("Streaming is disabled.")),this._headersCapability.resolve()}).catch(this._headersCapability.reject)}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:yj(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class OZ extends iv{_abortController=new AbortController;_readCapability=Promise.withResolvers();_reader=null;constructor(t,e,i){super(t,e,i);const{url:r,withCredentials:s}=t._source,l=new Headers(t.headers);l.append("Range",`bytes=${e}-${i-1}`),gj(r,l,s,this._abortController).then(u=>{const d=rv(u.url);mj(d,t._responseOrigin),vj(u.status,r),this._reader=u.body.getReader(),this._readCapability.resolve()}).catch(this._readCapability.reject)}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:{value:yj(t),done:!1}}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const t_=200,UM=206;function MZ(n){return typeof n!="string"?n:Qg(n).buffer}class PZ extends ev{#t=new WeakMap;_responseOrigin=null;constructor(t){super(t,DZ,kZ),this.url=t.url,this.isHttp=/^https?:/i.test(this.url),this.headers=dj(this.isHttp,t.httpHeaders)}_request(t){const e=new XMLHttpRequest,i={validateStatus:null,onHeadersReceived:t.onHeadersReceived,onDone:t.onDone,onError:t.onError,onProgress:t.onProgress};this.#t.set(e,i),e.open("GET",this.url),e.withCredentials=this._source.withCredentials;for(const[r,s]of this.headers)e.setRequestHeader(r,s);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.validateStatus=r=>r===UM||r===t_):i.validateStatus=r=>r===t_,e.responseType="arraybuffer",Oe(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>t.onError(e.status),e.onreadystatechange=this.#i.bind(this,e),e.onprogress=this.#e.bind(this,e),e.send(null),e}#e(t,e){this.#t.get(t)?.onProgress?.(e)}#i(t,e){const i=this.#t.get(t);if(!i||(t.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),t.readyState!==4)||!this.#t.has(t))return;if(this.#t.delete(t),t.status===0&&this.isHttp){i.onError(t.status);return}const r=t.status||t_;if(!i.validateStatus(r)){i.onError(t.status);return}const s=MZ(t.response);if(r===UM){const l=t.getResponseHeader("Content-Range");/bytes (\d+)-(\d+)\/(\d+)/.test(l)?i.onDone(s):(te('Missing or invalid "Content-Range" header.'),i.onError(0))}else s?i.onDone(s):i.onError(t.status)}_abortRequest(t){this.#t.has(t)&&(this.#t.delete(t),t.abort())}getRangeReader(t,e){const i=super.getRangeReader(t,e);return i&&(i.onClosed=()=>this._rangeReaders.delete(i)),i}}class DZ extends nv{_cachedChunks=[];_done=!1;_requests=[];_storedError=null;constructor(t){super(t);const{length:e}=t._source;this._contentLength=e,this._fullRequestXhr=t._request({onHeadersReceived:this.#t.bind(this),onDone:this.#e.bind(this),onError:this.#i.bind(this),onProgress:this.#n.bind(this)})}#t(){const t=this._stream,{disableRange:e,rangeChunkSize:i}=t._source,r=this._fullRequestXhr;t._responseOrigin=rv(r.responseURL);const s=r.getAllResponseHeaders(),l=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(f=>{const[p,...v]=f.split(": ");return[p,v.join(": ")]}):[]),{allowRangeRequests:u,suggestedLength:d}=fj({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:i,disableRange:e});u&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=pj(l),this._isRangeSupported&&t._abortRequest(r),this._headersCapability.resolve()}#e(t){if(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._cachedChunks.push(t),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}#i(t){this._storedError=av(t,this._stream.url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}#n(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._fullRequestXhr),this._fullRequestXhr=null}}class kZ extends iv{onClosed=null;_done=!1;_queuedChunk=null;_requests=[];_storedError=null;constructor(t,e,i){super(t,e,i),this._requestXhr=t._request({begin:e,end:i,onHeadersReceived:this.#t.bind(this),onDone:this.#e.bind(this),onError:this.#i.bind(this),onProgress:null})}#t(){const t=rv(this._requestXhr?.responseURL);try{mj(t,this._stream._responseOrigin)}catch(e){this._storedError=e,this.#i(0)}}#e(t){this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this.onClosed?.()}#i(t){this._storedError??=av(t,this._stream.url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._requestXhr),this.onClosed?.()}}const LZ=/^[a-z][a-z0-9\-+.]+:/i;function NZ(n){if(LZ.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}function bj(n){const{Readable:t}=process.getBuiltinModule("stream");return typeof t.toWeb=="function"?t.toWeb(n):process.getBuiltinModule("module").createRequire(import.meta.url)("node-readable-to-web-readable-stream").makeDefaultReadableStreamFromNodeReadable(n)}function _j(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(te(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class jZ extends ev{constructor(t){super(t,RZ,IZ),this.url=NZ(t.url),Oe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs.")}}class RZ extends nv{_reader=null;constructor(t){super(t);const{disableRange:e,disableStream:i,length:r,rangeChunkSize:s}=t._source;this._contentLength=r,this._isStreamingSupported=!i,this._isRangeSupported=!e;const l=t.url,u=process.getBuiltinModule("fs");u.promises.lstat(l).then(d=>{const f=u.createReadStream(l),p=bj(f);this._reader=p.getReader();const{size:v}=d;v<=2*s&&(this._isRangeSupported=!1),this._contentLength=v,!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Eo("Streaming is disabled.")),this._headersCapability.resolve()}).catch(d=>{d.code==="ENOENT"&&(d=av(0,l.href)),this._headersCapability.reject(d)})}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:_j(t),done:!1})}cancel(t){this._reader?.cancel(t)}}class IZ extends iv{_readCapability=Promise.withResolvers();_reader=null;constructor(t,e,i){super(t,e,i);const r=t.url,s=process.getBuiltinModule("fs");try{const l=s.createReadStream(r,{start:e,end:i-1}),u=bj(l);this._reader=u.getReader(),this._readCapability.resolve()}catch(l){this._readCapability.reject(l)}}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:{value:_j(t),done:!1}}cancel(t){this._reader?.cancel(t)}}const Gh=Symbol("INITIAL_DATA");class xj{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Gh}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const i=this.#t[t];if(!i||i.data===Gh)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==Gh}delete(t){const e=this.#t[t];return!e||e.data===Gh?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Gh&&(yield[t,e])}}}const zZ=1e5,HM=30;class sr{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#T=new WeakMap;static#S=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=i.scale*ja.pixelRatio,this.#d=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:l,pageY:u}=i.rawDims;this.#v=[1,0,0,-1,-l,u+s],this.#o=r,this.#r=s,sr.#M(),e.style.setProperty("--min-font-size",sr.#S),Hl(e,i),this.#t.promise.finally(()=>{sr.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ln.platform;return ee(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#c=this.#m.getReader(),sr.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*ja.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Hl(this.#l,{rotation:r})),i!==this.#h){e?.(),this.#h=i;const s={div:null,properties:null,ctx:sr.#P(this.#a)};for(const l of this.#u)s.properties=this.#p.get(l),s.div=l,this.#A(s)}}cancel(){const t=new Eo("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#C(t){if(this.#i)return;this.#s.ctx??=sr.#P(this.#a);const e=this.#u,i=this.#g;for(const r of t){if(e.length>zZ){te("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),r.tag==="Artifact"&&(this.#e.ariaHidden=!0),s.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(r.str),this.#_(r)}}#_(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=Lt.transform(this.#v,t.transform);let s=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(s+=Math.PI/2);let u=this.#n&&l.fontSubstitution||l.fontFamily;u=sr.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),f=d*sr.#I(u,l,this.#a);let p,v;s===0?(p=r[4],v=r[5]-f):(p=r[4]+f*Math.sin(s),v=r[5]-f*Math.cos(s));const y=e.style;y.left=`${(100*p/this.#o).toFixed(2)}%`,y.top=`${(100*v/this.#r).toFixed(2)}%`,y.setProperty("--font-height",`${d.toFixed(2)}px`),y.fontFamily=u,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),s!==0&&(i.angle=s*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);A!==S&&Math.max(A,S)/Math.min(A,S)>1.5&&(x=!0)}if(x&&(i.canvasWidth=l.vertical?t.height:t.width),this.#p.set(e,i),this.#s.div=e,this.#s.properties=i,this.#A(this.#s),i.hasText&&this.#e.append(e),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this.#e.append(A)}}#A(t){const{div:e,properties:i,ctx:r}=t,{style:s}=e;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=i;sr.#O(r,d*this.#h,l);const{width:f}=r.measureText(e.textContent);f>0&&s.setProperty("--scale-x",u*this.#h/f)}i.angle!==0&&s.setProperty("--rotate",`${i.angle}deg`)}static cleanup(){if(!(this.#x.size>0)){this.#b.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#P(t=null){let e=this.#y.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#O(t,e,i){const r=this.#T.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#M(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#I(t,e,i){const r=this.#b.get(t);if(r)return r;const s=this.#P(i);s.canvas.width=s.canvas.height=HM,this.#O(s,HM,t);const l=s.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let f=.8;return u?f=u/(u+d):(Ln.platform.isFirefox&&te("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}}const BZ=100;function wj(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new ow,{docId:e}=t,i=n.url?VX(n.url):null,r=n.data?YX(n.data):null,s=n.httpHeaders||null,l=n.withCredentials===!0,u=n.password??null,d=n.range instanceof Sj?n.range:null,f=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let p=n.worker instanceof Sd?n.worker:null;const v=n.verbosity,y=typeof n.docBaseUrl=="string"&&!Jg(n.docBaseUrl)?n.docBaseUrl:null,x=zp(n.cMapUrl),A=n.cMapPacked!==!1,S=n.CMapReaderFactory||(_i?nZ:EM),C=zp(n.iccUrl),O=zp(n.standardFontDataUrl),N=n.StandardFontDataFactory||(_i?iZ:CM),k=zp(n.wasmUrl),j=n.WasmFactory||(_i?rZ:OM),z=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,F=n.isEvalSupported!==!1,q=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!_i,J=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!_i&&(Ln.platform.isFirefox||!globalThis.chrome),ct=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,et=typeof n.disableFontFace=="boolean"?n.disableFontFace:_i,Z=n.fontExtraProperties===!0,Ct=n.enableXfa===!0,_t=n.ownerDocument||globalThis.document,kt=n.disableRange===!0,G=n.disableStream===!0,K=n.disableAutoFetch===!0,V=n.pdfBug===!0,Pt=n.CanvasFactory||(_i?eZ:QX),yt=n.FilterFactory||(_i?tZ:JX),H=n.enableHWA===!0,it=n.useWasm!==!1,dt=d?d.length:n.length??NaN,bt=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!_i&&!et,Q=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(S===EM&&N===CM&&j===OM&&x&&O&&k&&Jh(x,document.baseURI)&&Jh(O,document.baseURI)&&Jh(k,document.baseURI)),Tt=null;_X(v);const Dt={canvasFactory:new Pt({ownerDocument:_t,enableHWA:H}),filterFactory:new yt({docId:e,ownerDocument:_t}),cMapReaderFactory:Q?null:new S({baseUrl:x,isCompressed:A}),standardFontDataFactory:Q?null:new N({baseUrl:O}),wasmFactory:Q?null:new j({baseUrl:k})};p||(p=Sd.create({verbosity:v,port:iu.workerPort}),t._worker=p);const Qt={docId:e,apiVersion:"5.4.624",data:r,password:u,disableAutoFetch:K,rangeChunkSize:f,length:dt,docBaseUrl:y,enableXfa:Ct,evaluatorOptions:{maxImageSize:R,disableFontFace:et,ignoreErrors:z,isEvalSupported:F,isOffscreenCanvasSupported:q,isImageDecoderSupported:J,canvasMaxAreaInBytes:ct,fontExtraProperties:Z,useSystemFonts:bt,useWasm:it,useWorkerFetch:Q,cMapUrl:x,iccUrl:C,standardFontDataUrl:O,wasmUrl:k}},ht={ownerDocument:_t,pdfBug:V,styleElement:Tt,enableHWA:H,loadingParams:{disableAutoFetch:K,enableXfa:Ct}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Wt=p.messageHandler.sendWithPromise("GetDocRequest",Qt,r?[r.buffer]:null);let Zt;if(d)Zt=new wZ({pdfDataRangeTransport:d,disableRange:kt,disableStream:G});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const xt=Jh(i)?EZ:_i?jZ:PZ;Zt=new xt({url:i,length:dt,httpHeaders:s,withCredentials:l,rangeChunkSize:f,disableRange:kt,disableStream:G})}return Wt.then(xt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const U=new td(e,xt,p.port),Y=new HZ(U,t,Zt,ht,Dt);t._transport=Y,U.send("Ready",null)})}).catch(t._capability.reject),t}class ow{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ow.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class Sj{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#a)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#n)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Me("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class FZ{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ee(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class UZ{#t=!1;#e=Ee.instance;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new bM:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new xj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}set pageNumber(t){this._pageIndex=t-1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new $d({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ee(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:r="display",annotationMode:s=xo.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:v=null,isEditing:y=!1,recordOperations:x=!1,operationsFilter:A=null}){this._stats?.time("Overall");const S=this._transport.getRenderingIntent(r,s,v,y),{renderingIntent:C,cacheKey:O}=S;this.#t=!1,d||=this._transport.getOptionalContentConfig(C);let N=this._intentStates.get(O);N||(N=Object.create(null),this._intentStates.set(O,N)),N.streamReaderCancelTimeout&&(clearTimeout(N.streamReaderCancelTimeout),N.streamReaderCancelTimeout=null);const k=!!(C&ar.PRINT);N.displayReadyCapability||(N.displayReadyCapability=Promise.withResolvers(),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(S));const j=!!(this._pdfBug&&globalThis.StepperManager?.enabled),z=!this.recordedBBoxes&&(x||j),R=J=>{if(N.renderTasks.delete(F),z){const ct=F.gfx?.dependencyTracker.take();ct&&(F.stepper&&F.stepper.setOperatorBBoxes(ct,F.gfx.dependencyTracker.takeDebugMetadata()),x&&(this.recordedBBoxes=ct))}k&&(this.#t=!0),this.#i(),J?(F.capability.reject(J),this._abortOperatorList({intentState:N,reason:J instanceof Error?J:new Error(J)})):F.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},F=new Kc({callback:R,params:{canvas:e,canvasContext:t,dependencyTracker:z?new sZ(e,N.operatorList.length,j):null,viewport:i,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:N.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:A});(N.renderTasks||=new Set).add(F);const q=F.task;return Promise.all([N.displayReadyCapability.promise,d]).then(([J,ct])=>{if(this.destroyed){R();return}if(this._stats?.time("Rendering"),!(ct.renderingIntent&C))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");F.initializeGraphics({transparency:J,optionalContentConfig:ct}),F.operatorListChanged()}).catch(R),q}getOperatorList({intent:t="display",annotationMode:e=xo.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function s(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,i,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=s,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageId:this.#e.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>wd.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function s(){l.read().then(function({value:d,done:f}){if(f){i(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),s()},r)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#i();return t&&e&&(this._stats&&=new bM),e}#i(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#i()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:l}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageId:this.#e.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:v,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,f),p())},v=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();this.#i()}if(f.displayReadyCapability)f.displayReadyCapability.reject(v);else if(f.opListReadCapability)f.opListReadCapability.reject(v);else throw v}})};p()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof J1){let r=BZ;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Eo(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var wo,Yr,us,Ml,ig,Pl,Dl,Ai,em,Aj,Tj,ed,ru,nm;const Je=class Je{constructor({name:t=null,port:e=null,verbosity:i=xX()}={}){ba(this,Ai);ba(this,wo,Promise.withResolvers());ba(this,Yr,null);ba(this,us,null);ba(this,Ml,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(Qe(Je,Dl).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Qe(Je,Dl).set(e,this),_a(this,Ai,Aj).call(this,e)}else _a(this,Ai,Tj).call(this)}get promise(){return Qe(this,wo).promise}get port(){return Qe(this,us)}get messageHandler(){return Qe(this,Yr)}destroy(){this.destroyed=!0,Qe(this,Ml)?.terminate(),Fi(this,Ml,null),Qe(Je,Dl).delete(Qe(this,us)),Fi(this,us,null),Qe(this,Yr)?.destroy(),Fi(this,Yr,null)}static create(t){const e=Qe(this,Dl).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Je(t)}static get workerSrc(){if(iu.workerSrc)return iu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ee(this,"_setupFakeWorkerGlobal",(async()=>Qe(this,ru,nm)?Qe(this,ru,nm):(await import(this.workerSrc)).WorkerMessageHandler)())}};wo=new WeakMap,Yr=new WeakMap,us=new WeakMap,Ml=new WeakMap,ig=new WeakMap,Pl=new WeakMap,Dl=new WeakMap,Ai=new WeakSet,em=function(){Qe(this,wo).resolve(),Qe(this,Yr).send("configure",{verbosity:this.verbosity})},Aj=function(t){Fi(this,us,t),Fi(this,Yr,new td("main","worker",t)),Qe(this,Yr).on("ready",()=>{}),_a(this,Ai,em).call(this)},Tj=function(){if(Qe(Je,Pl)||Qe(Je,ru,nm)){_a(this,Ai,ed).call(this);return}let{workerSrc:t}=Je;try{Je._isSameOrigin(window.location,t)||(t=Je._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new td("main","worker",e),r=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?Qe(this,wo).reject(new Error("Worker was destroyed")):_a(this,Ai,ed).call(this)},s=new AbortController;e.addEventListener("error",()=>{Qe(this,Ml)||r()},{signal:s.signal}),i.on("test",u=>{if(s.abort(),this.destroyed||!u){r();return}Fi(this,Yr,i),Fi(this,us,e),Fi(this,Ml,e),_a(this,Ai,em).call(this)}),i.on("ready",u=>{if(s.abort(),this.destroyed){r();return}try{l()}catch{_a(this,Ai,ed).call(this)}});const l=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};l();return}catch{Kg("The worker has been disabled.")}_a(this,Ai,ed).call(this)},ed=function(){Qe(Je,Pl)||(te("Setting up fake worker."),Fi(Je,Pl,!0)),Je._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Qe(this,wo).reject(new Error("Worker was destroyed"));return}const e=new KX;Fi(this,us,e);const i=`fake${cT(Je,ig)._++}`,r=new td(i+"_worker",i,e);t.setup(r,e),Fi(this,Yr,new td(i,i+"_worker",e)),_a(this,Ai,em).call(this)}).catch(t=>{Qe(this,wo).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},ru=new WeakSet,nm=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ba(Je,ru),ba(Je,ig,0),ba(Je,Pl,!1),ba(Je,Dl,new WeakMap),_i&&(Fi(Je,Pl,!0),iu.workerSrc||="./pdf.worker.mjs"),Je._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},Je._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Je.fromPort=t=>{if(LX("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Je.create(t)};let Sd=Je;class HZ{downloadInfoCapability=Promise.withResolvers();#t=null;#e=new Map;#i=null;#n=new Map;#a=new Map;#s=new Map;#r=null;#o=Ee.instance;constructor(t,e,i,r,s){this.messageHandler=t,this.loadingTask=e,this.#i=i,this.commonObjs=new xj,this.fontLoader=new qX({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.enableHWA=r.enableHWA,this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this.setupMessageHandler(),this.#o.addListener(this.#c.bind(this))}#c(){const t=new Map,e=new Map;for(let i=0,r=this.#o.pagesNumber;i<r;i++){const s=this.#o.getPrevPageNumber(i+1)-1,l=this.#n.get(s);l&&t.set(i,l);const u=this.#a.get(s);u&&e.set(i,u)}this.#n=t,this.#a=e}#l(t,e=null){const i=this.#e.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return this.#e.set(t,r),r}#d({loaded:t,total:e}){this.loadingTask.onProgress?.({loaded:t,total:e,percent:ai(Math.round(t/e*100),0,100)})}get annotationStorage(){return ee(this,"annotationStorage",new iw)}getRenderingIntent(t,e=xo.ENABLE,i=null,r=!1,s=!1){let l=ar.DISPLAY,u=lx;switch(t){case"any":l=ar.ANY;break;case"display":break;case"print":l=ar.PRINT;break;default:te(`getRenderingIntent - invalid intent: ${t}`)}const d=l&ar.PRINT&&i instanceof sj?i:this.annotationStorage;switch(e){case xo.DISABLE:l+=ar.ANNOTATIONS_DISABLE;break;case xo.ENABLE:break;case xo.ENABLE_FORMS:l+=ar.ANNOTATIONS_FORMS;break;case xo.ENABLE_STORAGE:l+=ar.ANNOTATIONS_STORAGE,u=d.serializable;break;default:te(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=ar.IS_EDITING),s&&(l+=ar.OPLIST);const{ids:f,hash:p}=d.modifiedIds,v=[l,u.hash,p];return{renderingIntent:l,cacheKey:v.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#n.values())t.push(i._destroy());this.#n.clear(),this.#a.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),sr.cleanup(),this.#i?.cancelAllRequests(new Eo("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{Oe(this.#i,"GetReader - no `BasePDFStream` instance available."),this.#t=this.#i.getFullReader(),this.#t.onProgress=s=>this.#d(s),r.onPull=()=>{this.#t.read().then(function({value:s,done:l}){if(l){r.close();return}Oe(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this.#t.cancel(s),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async i=>{await this.#t.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:l}=this.#t;return r&&s&&(this.#t.onProgress=null),{isStreamingSupported:r,isRangeSupported:s,contentLength:l}}),t.on("GetRangeReader",(i,r)=>{Oe(this.#i,"GetRangeReader - no `BasePDFStream` instance available.");const s=this.#i.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:l,done:u}){if(u){r.close();return}Oe(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{s.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this.#o.pagesNumber=i.numPages,this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new FZ(i,this))}),t.on("DocException",i=>{e._capability.reject(Ui(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw Ui(i);const r=s=>{s instanceof Error?this.#r.reject(s):this.#r.resolve({password:s})};e.onPassword(r,i.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),t.on("DataLoaded",i=>{this.#d({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#n.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const v=s.error;te(`Error during font loading: ${v}`),this.commonObjs.resolve(i,v);break}const l=new Be(s),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(v,y)=>globalThis.FontInspector.fontAdded(v,y):null,d=new GX(l,u,s.extra,s.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;Oe(f,"The imageRef must be defined.");for(const v of this.#n.values())for(const[,y]of v.objs)if(y?.ref===f)return y.dataLen?(this.commonObjs.resolve(i,structuredClone(y)),y.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new WX(s));break;case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const p=new Hn(s);this.commonObjs.resolve(i,p.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,s,l])=>{if(this.destroyed)return;const u=this.#n.get(r);if(!u.objs.has(i)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(s){case"Image":case"Pattern":u.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",i=>{this.destroyed||this.#d(i)}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&te("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this.#t?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this.#o.pagesNumber)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#o.getPageId(t)-1,r=this.#a.get(e);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#s.set(l.refStr,i);const u=new UZ(e,l,this,this._params.pdfBug);return this.#n.set(e,u),u});return this.#a.set(e,s),s}async getPageIndex(t){if(!cx(t))throw new Error("Invalid pageIndex request.");const e=await this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen});return this.#o.getPageNumber(e+1)-1}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:this.#o.getPageId(t+1)-1,intent:e})}getFieldObjects(){return this.#l("GetFieldObjects")}hasJSActions(){return this.#l("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#l("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:this.#o.getPageId(t+1)-1})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:this.#o.getPageId(t+1)-1})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#l("GetOptionalContentConfig").then(e=>new xZ(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#e.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new bZ(r[1]):null,contentDispositionFilename:this.#t?.filename??null,contentLength:this.#t?.contentLength??null,hasStructTree:r[2]}));return this.#e.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#n.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),sr.cleanup()}}cachedPageNumber(t){if(!cx(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`,i=this.#s.get(e);return i>=0?this.#o.getPageNumber(i+1):null}}class $Z{_internalRenderTask=null;onContinue=null;onError=null;constructor(t){this._internalRenderTask=t}get promise(){return this._internalRenderTask.capability.promise}cancel(t=0){this._internalRenderTask.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this._internalRenderTask.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this._internalRenderTask;return t.form||t.canvas&&e?.size>0}}class Kc{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:v=!1,pageColors:y=null,enableHWA:x=!1,operationsFilter:A=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=v,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new $Z(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=x,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Kc.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Kc.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new nu(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Kc.#e.delete(this._canvas),t||=new J1(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Kc.#e.delete(this._canvas),this.callback())))}}const Ej="5.4.624",qZ="384c6208b";class Mr{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return ee(this,"_keyboardManager",new Gd([[["Escape","mac+Escape"],Mr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Mr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Mr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Mr.prototype._moveToPrevious],[["Home","mac+Home"],Mr.prototype._moveToBeginning],[["End","mac+End"],Mr.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Mr.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Nr,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",Mr.#d[i]);const l=document.createElement("span");s.append(l),l.className="swatch",l.style.backgroundColor=r,s.ariaSelected=r===this.#i,s.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:ve.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#p){this.#m(t);return}if(t.target===this.#t){this.#n.firstElementChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstElementChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#m(t);return}this.#n.firstElementChild?.focus()}_moveToEnd(t){if(!this.#p){this.#m(t);return}this.#n.lastElementChild?.focus()}#g(t){Mr._keyboardManager.exec(this,t)}#m(t){if(this.#p){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Ad{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Ad.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,color:i}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Ad.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function $M(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Wh(n){return Math.max(0,Math.min(255,255*n))}class qM{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Wh(t),[t,t,t]}static G_HTML([t]){const e=$M(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Wh)}static RGB_HTML(t){return`#${t.map($M).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Wh(1-Math.min(1,t+r)),Wh(1-Math.min(1,i+r)),Wh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,s=1-e,l=1-i,u=Math.min(r,s,l);return["CMYK",r,s,l,u]}}class GZ{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Me("Abstract method `_createSVG` called.")}}class tg extends GZ{_createSVG(t){return document.createElementNS(os,t)}}const WZ=9,$l=new WeakSet,VZ=new Date().getTimezoneOffset()*60*1e3;class e_{static create(t){switch(t.data.annotationType){case An.LINK:return new lw(t);case An.TEXT:return new XZ(t);case An.WIDGET:switch(t.data.fieldType){case"Tx":return new ZZ(t);case"Btn":return t.data.radioButton?new Cj(t):t.data.checkBox?new QZ(t):new JZ(t);case"Ch":return new tK(t);case"Sig":return new KZ(t)}return new Xl(t);case An.POPUP:return new dx(t);case An.FREETEXT:return new Oj(t);case An.LINE:return new nK(t);case An.SQUARE:return new iK(t);case An.CIRCLE:return new rK(t);case An.POLYLINE:return new Mj(t);case An.CARET:return new sK(t);case An.INK:return new cw(t);case An.POLYGON:return new aK(t);case An.HIGHLIGHT:return new Pj(t);case An.UNDERLINE:return new oK(t);case An.SQUIGGLY:return new lK(t);case An.STRIKEOUT:return new cK(t);case An.STAMP:return new Dj(t);case An.FILEATTACHMENT:return new uK(t);default:return new an(t)}}}class an{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return an._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:r}=this.data;let s=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],s=e[u+2]):e[u+1]===l&&(s=Math.max(s,e[u+2]));return[s,l]}if(i?.length>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>l?(l=u[d+1],s=u[d]):u[d+1]===l&&(s=Math.max(s,u[d]));if(s!==1/0)return[s,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-s)/i,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${_d}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${_d}${e.id}`,{id:e.id,annotationType:e.annotationType,page:this.parent.page,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:i}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(t),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:l,pageX:u,pageY:d}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/s}%`,e.top=`${100*(l-t[3]+d)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),!(this instanceof Xl)&&!(this instanceof lw)&&(s.tabIndex=0);const{style:l}=s;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof dx){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,s),s}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(S>0||C>0){const N=`calc(${S}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;l.borderRadius=N}else if(this instanceof Cj){const N=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=N}switch(e.borderStyle.style){case qc.SOLID:l.borderStyle="solid";break;case qc.DASHED:l.borderStyle="dashed";break;case qc.BEVELED:te("Unimplemented border style: beveled");break;case qc.INSET:te("Unimplemented border style: inset");break;case qc.UNDERLINE:l.borderBottomStyle="solid";break}const O=e.borderColor||null;O?(this.#e=!0,l.borderColor=Lt.makeHexColor(O[0]|0,O[1]|0,O[2]|0)):l.borderWidth=0}const f=Lt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:v,pageX:y,pageY:x}=r.rawDims;l.left=`${100*(f[0]-y)/p}%`,l.top=`${100*(f[1]-x)/v}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(l.width=`${100*u/p}%`,l.height=`${100*d/v}%`):this.setRotation(A,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:l}=this;t%180!==0&&([s,l]=[l,s]),e.style.width=`${100*s/i}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const s=r.detail[e],l=s[0],u=s.slice(1);r.target.style[i]=qM[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:qM[`${l}_rgb`](u)})};return ee(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,s]of Object.entries(e)){const l=i[r];if(l){const u={detail:{[r]:s},target:t};l(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,s]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,C,O,N]=t.subarray(2,6);if(r===S&&s===C&&e===O&&i===N)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:S,borderWidth:C}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const d=r-e,f=s-i,{svgFactory:p}=this,v=p.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0),v.role="none";const y=p.createElement("defs");v.append(y);const x=p.createElement("clipPath"),A=`clippath_${this.data.id}`;x.setAttribute("id",A),x.setAttribute("clipPathUnits","objectBoundingBox"),y.append(x);for(let S=2,C=t.length;S<C;S+=8){const O=t[S],N=t[S+1],k=t[S+2],j=t[S+3],z=p.createElement("rect"),R=(k-e)/d,F=(s-N)/f,q=(O-k)/d,J=(N-j)/f;z.setAttribute("x",R),z.setAttribute("y",F),z.setAttribute("width",q),z.setAttribute("height",J),x.append(z),u?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${F}" width="${q}" height="${J}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(v),this.container.style.clipPath=`url(#${A})`}_createPopup(t=null){const{data:e}=this;let i,r;t?(i={str:t.text},r=t.date):(i=e.contentsObj,r=e.modificationDate),this.#i=new dx({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Me("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:l,exportValues:u}of r){if(s===-1||l===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!$l.has(f)){te(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:d,domElement:f})}return i}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,l=r.getAttribute("data-element-id");l!==e&&$l.has(r)&&i.push({id:l,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class YZ extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class lw extends an{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(i,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=i,this.container.append(i)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,i=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),i&&(t.title=i),this.#t()}#e(t,e,i="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const s=i.get(r);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){te('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:r,refs:s,include:l}=e,u=[];if(r.length!==0||s.length!==0){const p=new Set(s);for(const v of r){const y=this._fieldObjects[v]||[];for(const{id:x}of y)p.add(x)}for(const v of Object.values(this._fieldObjects))for(const y of v)p.has(y.id)===l&&u.push(y)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:v}=p;switch(f.push(v),p.type){case"text":{const x=p.defaultValue||"";d.setValue(v,{value:x});break}case"checkbox":case"radiobutton":{const x=p.defaultValue===p.exportValues;d.setValue(v,{value:x});break}case"combobox":case"listbox":{const x=p.defaultValue||"";d.setValue(v,{value:x});break}default:continue}const y=document.querySelector(`[data-element-id="${v}"]`);if(y){if(!$l.has(y)){te(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class XZ extends an{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class Xl extends an{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ln.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,s){i.includes("mouse")?t.addEventListener(i,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(i,l=>{if(i==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(l)}})})}_setEventListeners(t,e,i,r){for(const[s,l]of i)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,s,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Lt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||WZ,s=t.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(Yb*r))||1,v=f/p;l=Math.min(r,d(v/Yb))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,d(f/Yb))}s.fontSize=`calc(${l}px * var(--total-scale-factor))`,s.color=Lt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class ZZ extends Xl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const s=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=i),s.setValue(l.id,{[r]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let s=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&s.length>l&&(s=s.slice(0,l));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:s,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),$l.add(i),this.contentElement=i,i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:v}=this.data,y=!!p&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(i,"value",A.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",A=>{const S=this.data.defaultFieldValue??"";i.value=d.userValue=S,d.formattedValue=null});let x=A=>{const{formattedValue:S}=d;S!=null&&(A.target.value=S),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",S=>{if(d.focused)return;const{target:C}=S;if(y&&(C.type=p,v&&(C.step=v)),d.userValue){const O=d.userValue;if(y)if(p==="time"){const N=new Date(O),k=[N.getHours(),N.getMinutes(),N.getSeconds()];C.value=k.map(j=>j.toString().padStart(2,"0")).join(":")}else C.value=new Date(O-VZ).toISOString().split(p==="date"?"T":".",1)[0];else C.value=O}d.lastCommittedValue=C.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const C={value(O){d.userValue=O.detail.value??"",y||t.setValue(e,{value:d.userValue.toString()}),O.target.value=d.userValue},formattedValue(O){const{formattedValue:N}=O.detail;d.formattedValue=N,N!=null&&O.target!==document.activeElement&&(O.target.value=N);const k={formattedValue:N};y&&(k.value=N),t.setValue(e,k)},selRange(O){O.target.setSelectionRange(...O.detail.selRange)},charLimit:O=>{const{charLimit:N}=O.detail,{target:k}=O;if(N===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",N);let j=d.userValue;!j||j.length<=N||(j=j.slice(0,N),k.value=d.userValue=j,t.setValue(e,{value:j}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(C,S)}),i.addEventListener("keydown",S=>{d.commitKey=1;let C=-1;if(S.key==="Escape"?C=0:S.key==="Enter"&&!this.data.multiLine?C=2:S.key==="Tab"&&(d.commitKey=3),C===-1)return;const{value:O}=S.target;d.lastCommittedValue!==O&&(d.lastCommittedValue=O,d.userValue=O,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:C,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const A=x;x=null,i.addEventListener("blur",S=>{if(!d.focused||!S.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:C}=S;let{value:O}=C;if(y){if(O&&p==="time"){const N=O.split(":").map(k=>parseInt(k,10));O=new Date(2e3,0,1,N[0],N[1],N[2]||0).valueOf(),C.step=""}else O.includes("T")||(O=`${O}T00:00`),O=new Date(O).valueOf();C.type="text"}d.userValue=O,d.lastCommittedValue!==O&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}),A(S)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",S=>{d.lastCommittedValue=null;const{data:C,target:O}=S,{value:N,selectionStart:k,selectionEnd:j}=O;let z=k,R=j;switch(S.inputType){case"deleteWordBackward":{const F=N.substring(0,k).match(/\w*[^\w]*$/);F&&(z-=F[0].length);break}case"deleteWordForward":{const F=N.substring(k).match(/^[^\w]*\w*/);F&&(R+=F[0].length);break}case"deleteContentBackward":k===j&&(z-=1);break;case"deleteContentForward":k===j&&(R+=1);break}S.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:N,change:C||"",willCommit:!1,selStart:z,selEnd:R}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(x&&i.addEventListener("blur",x),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class KZ extends Xl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class QZ extends Xl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return $l.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=0,s.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,i)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(i,{value:d})}),s.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Cj extends Xl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,i))t.setValue(l.id,{value:!1});const s=document.createElement("input");if($l.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:d})}),s.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;s.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const v of this._getElementsByName(f.target.name)){const y=p&&v.id===i;v.domElement&&(v.domElement.checked=y),t.setValue(v.id,{value:y})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class JZ extends lw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class tK extends Xl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");$l.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const v=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===v});for(const p of this.data.options){const v=document.createElement("option");v.textContent=p.displayValue,v.value=p.exportValue,i.value.includes(p.exportValue)&&(v.setAttribute("selected",!0),s=!1),r.append(v)}let l=null;if(s){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=p=>{const v=p?"value":"textContent",{options:y,multiple:x}=r;return x?Array.prototype.filter.call(y,A=>A.selected).map(A=>A[v]):y.selectedIndex===-1?null:y[y.selectedIndex][v]};let d=u(!1);const f=p=>{const v=p.target.options;return Array.prototype.map.call(v,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const v={value(y){l?.();const x=y.detail.value,A=new Set(Array.isArray(x)?x:[x]);for(const S of r.options)S.selected=A.has(S.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(y){r.multiple=!0},remove(y){const x=r.options,A=y.detail.remove;x[A].selected=!1,r.remove(A),x.length>0&&Array.prototype.findIndex.call(x,C=>C.selected)===-1&&(x[0].selected=!0),t.setValue(e,{value:u(!0),items:f(y)}),d=u(!1)},clear(y){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(y){const{index:x,displayValue:A,exportValue:S}=y.detail.insert,C=r.children[x],O=document.createElement("option");O.textContent=A,O.value=S,C?C.before(O):r.append(O),t.setValue(e,{value:u(!0),items:f(y)}),d=u(!1)},items(y){const{items:x}=y.detail;for(;r.length!==0;)r.remove(0);for(const A of x){const{displayValue:S,exportValue:C}=A,O=document.createElement("option");O.textContent=S,O.value=C,r.append(O)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(y)}),d=u(!1)},indices(y){const x=new Set(y.detail.indices);for(const A of y.target.options)A.selected=x.has(A.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(v,p)}),r.addEventListener("input",p=>{const v=u(!0),y=u(!1);t.setValue(e,{value:v}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:y,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class dx extends an{constructor(t){const{data:e,elements:i,parent:r}=t,s=!!r._commentManager;if(super(t,{isRenderable:!s&&an._hasPopupData(e)}),this.elements=i,s&&an._hasPopupData(e)){const l=this.popup=this.#t();for(const u of i)u.popup=l}else this.popup=null}#t(){return new eK({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${Xc}${r}`).join(",")),this.container}}class eK{#t=null;#e=this.#q.bind(this);#i=this.#B.bind(this);#n=this.#L.bind(this);#a=this.#w.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#T=null;#S=null;#x=null;#C=!1;#_=null;#A=null;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:s,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:v,commentManager:y=null}){this.#r=t,this.#S=r,this.#o=l,this.#T=u,this.#d=d,this.#s=e,this.#y=f,this.#h=p,this.#l=i,this.#t=y,this.#_=i[0],this.#c=ax.toDateObject(s),this.trigger=i.flatMap(x=>x.getElementsToTriggerPopup()),y||(this.#P(),this.#r.hidden=!0,v&&this.#w())}#P(){if(this.#m)return;this.#m=new AbortController;const{signal:t}=this.#m;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#O(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#v=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#_.container.after(this.#p);return}if(this.#v||this.#O(),!this.#v)return;const{signal:t}=this.#m=new AbortController,e=this.#_.hasOwnCommentButton,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},s=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#_.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",s,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#p=document.createElement("button");l.className="annotationCommentButton";const u=this.#_.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#M(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",s,{signal:t}),u.after(l)}}#M(){if(this.#_.extraPopupElement&&!this.#_.editor)return;this.#p||this.renderCommentButton();const[t,e]=this.#v,{style:i}=this.#p;i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`}#I(){this.#_.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#_.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:r,modificationDate:s}=this.#_.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#A||=this.#_.commentText,this.#A}set comment(t){t!==this.comment&&(this.#_.commentText=this.#A=t)}focus(){this.#_.container?.focus()}get parentBoundingClientRect(){return this.#_.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:i}=this.#p.getBoundingClientRect(),{x:r,y:s,width:l,height:u}=this.#_.layer.getBoundingClientRect();return[(t-r)/l,(e+i-s)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:s,y:l,width:u,height:d}=r;this.#t.showDialog(null,this,s+e*u,l+i*d,{...t,parentDimensions:r})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const i=t.style.outlineColor=Lt.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#S?.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=this.#S}if(t.append(e),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),e.append(i)}nj({html:this.#k||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#k(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#N(){return this.#k?.attributes?.style?.fontSize||0}get#z(){return this.#k?.attributes?.style?.color||null}#j(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#z,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return i}#q(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:t,popup:e,deleted:i}){if(this.#t){i?(this.remove(),this.#A=null):e&&(e.deleted?this.remove():(this.#I(),this.#A=e.text)),t&&(this.#v=null,this.#O(),this.#M());return}if(i||e?.deleted){this.remove();return}this.#P(),this.#x||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#j(e.text),this.#c=ax.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#T}=this.#x,this.#x=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#C=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#E(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:s}}}=this.#d;let l=!!this.#h,u=l?this.#h:this.#y;for(const A of this.#l)if(!u||Lt.intersect(A.data.rect,u)!==null){u=A.data.rect,l=!0;break}const d=Lt.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=l?u[2]-u[0]+5:0,v=d[0]+p,y=d[1];this.#u=[100*(v-r)/e,100*(y-s)/i];const{style:x}=this.#r;x.left=`${this.#u[0]}%`,x.top=`${this.#u[1]}%`}#w(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#L(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#B(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#L(){this.#g||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#E(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#B(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#P(),this.#C&&(this.#g||this.#L(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class Oj extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=re.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class nK extends an{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),s=this.#t=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class iK extends an{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),s=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",s/2),l.setAttribute("y",s/2),l.setAttribute("width",e-s),l.setAttribute("height",i-s),l.setAttribute("stroke-width",s||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class rK extends an{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),s=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",i/2),l.setAttribute("rx",e/2-s/2),l.setAttribute("ry",i/2-s/2),l.setAttribute("stroke-width",s||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Mj extends an{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:r},width:s,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(s,l,!0);let d=[];for(let p=0,v=e.length;p<v;p+=2){const y=e[p]-t[0],x=t[3]-e[p+1];d.push(`${y},${x}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class aK extends Mj{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class sK extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class cw extends an{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?re.HIGHLIGHT:re.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:r,popupRef:s}}=this,{transform:l,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let v=0,y=i.length;v<y;v++){const x=this.svgFactory.createElement(this.svgElementName);this.#e.push(x),x.setAttribute("points",i[v].join(",")),p.append(x)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:r}=t,s=this.#t;if(e>=0&&s.setAttribute("stroke-width",e||1),i)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",i[l].join(","));if(r){const{transform:l,width:u,height:d}=this.#i(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),s.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Pj extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=re.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class oK extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class lK extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class cK extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Dj extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=re.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class uK extends an{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:r}=Ln.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class uw{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:l,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=i,this.#a=u||null,this.#s=f||null,this.#i=p||new iw,this.page=s,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async render(t){const{annotations:e}=t,i=this.div;Hl(i,this.viewport);const r=new Map,s=[],l={data:null,layer:i,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new tg,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const d=u.annotationType===An.POPUP;if(d){const v=r.get(u.id);if(!v)continue;if(!this._commentManager){s.push(u);continue}l.elements=v}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;l.data=u;const f=e_.create(l);if(!f.isRenderable)continue;if(!d&&(this.#r.push(f),u.popupRef)){const v=r.get(u.popupRef);v?v.push(f):r.set(u.popupRef,[f])}const p=f.render();u.hidden&&(p.style.visibility="hidden"),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#c();for(const u of s){const d=l.elements=r.get(u.id);l.data=u;const f=e_.create(l);if(!f.isRenderable)continue;const p=f.render();f.contentElement.id=`${Xc}${u.id}`,u.hidden&&(p.style.visibility="hidden"),d.at(-1).container.after(p)}this.#l()}async#c(){if(this.#r.length===0)return;this.div.replaceChildren();const t=[];if(!this.#o){this.#o=!0;for(const{contentElement:i,data:{id:r}}of this.#r){const s=i.id=`${Xc}${r}`;t.push(this.#a?.getAriaAttributes(s).then(l=>{if(l)for(const[u,d]of l)i.setAttribute(u,d)}))}}this.#r.sort(({data:{rect:[i,r,s,l]}},{data:{rect:[u,d,f,p]}})=>{if(i===s&&r===l)return 1;if(u===f&&d===p)return-1;const v=l,y=r,x=(r+l)/2,A=p,S=d,C=(d+p)/2;if(x>=A&&C<=y)return-1;if(C>=v&&x<=S)return 1;const O=(i+s)/2,N=(u+f)/2;return O-N});const e=document.createDocumentFragment();for(const i of this.#r)e.append(i.container),this._commentManager?(i.extraPopupElement?.popup||i.popup)?.renderCommentButton():i.extraPopupElement&&e.append(i.extraPopupElement.render());if(this.div.append(e),await Promise.all(t),this.#t)for(const i of this.#r)this.#t.addPointerInTextLayer(i.contentElement,!1)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new tg,parent:this};for(const i of t){i.borderStyle||=uw._defaultBorderStyle,e.data=i;const r=e_.create(e);r.isRenderable&&(r.render(),r.contentElement.id=`${Xc}${i.id}`,this.#r.push(r))}await this.#c()}update({viewport:t}){const e=this.div;this.viewport=t,Hl(e,{rotation:t.rotation}),this.#l(),e.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,i),l._hasNoCanvas=!1):l.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:i,rotation:r}=t,s=new YZ({data:{id:i,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return s.render(),s.contentElement.id=`${Xc}${i}`,s.createOrUpdatePopup(),this.#r.push(s),s}removeAnnotation(t){const e=this.#r.findIndex(r=>r.data.id===t);if(e<0)return;const[i]=this.#r.splice(e,1);this.#t?.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const e of t)e.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return ee(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:qc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const qp=/\r\n?|\n/g;class $n extends Ht{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=$n.prototype,e=s=>s.isEmpty(),i=Co.TRANSLATE_SMALL,r=Co.TRANSLATE_BIG;return ee(this,"_keyboardManager",new Gd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=re.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||$n._defaultColor||Ht._defaultLineColor,this.#n=t.fontSize||$n._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){Ht.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case ve.FREETEXT_SIZE:$n._defaultFontSize=e;break;case ve.FREETEXT_COLOR:$n._defaultColor=e;break}}updateParams(t,e){switch(t){case ve.FREETEXT_SIZE:this.#a(e);break;case ve.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[ve.FREETEXT_SIZE,$n._defaultFontSize],[ve.FREETEXT_COLOR,$n._defaultColor||Ht._defaultLineColor]]}get propertiesToUpdate(){return[[ve.FREETEXT_SIZE,this.#n],[ve.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Ad(this),[["colorPicker",this._colorPicker]]}get colorType(){return ve.FREETEXT_COLOR}#a(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-$n._internalPadding*t,-($n._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push($n.#c(i)),e=i);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,l=s.style.display,u=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=l,s.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const i=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){$n._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[v,y]=this.pageTranslation;let x,A;switch(this.rotation){case 0:x=t+(l[0]-v)/f,A=e+this.height-(l[1]-y)/p;break;case 90:x=t+(l[0]-v)/f,A=e-(l[1]-y)/p,[u,d]=[d,-u];break;case 180:x=t-this.width+(l[0]-v)/f,A=e-(l[1]-y)/p,[u,d]=[-u,-d];break;case 270:x=t+(l[0]-v-this.height*p)/f,A=e+(l[1]-y-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(x*r,A*s,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(qp,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=$n.#h(e.getData("text")||"").replaceAll(qp,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const l=s.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const x=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(qp,"")),x!==this.editorDiv){let A=f;for(const S of this.editorDiv.childNodes){if(S===x){A=p;continue}A.push($n.#c(S))}}f.push(u.nodeValue.slice(0,d).replaceAll(qp,""))}else if(u===this.editorDiv){let x=f,A=0;for(const S of this.editorDiv.childNodes)A++===d&&(x=p),x.push($n.#c(S))}this.#t=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#l();const v=new Range;let y=Math.sumPrecise(f.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const A=x.nodeValue.length;if(y<=A){v.setStart(x,y),v.setEnd(x,y);break}y-=A}s.removeAllRanges(),s.addRange(v)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=$n._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,i){let r=null;if(t instanceof Oj){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:v,richText:y,contentsObj:x,creationDate:A,modificationDate:S},textContent:C,textPosition:O,parent:{page:{pageNumber:N}}}=t;if(!C||C.length===0)return null;r=t={annotationType:re.FREETEXT,color:Array.from(u),fontSize:l,value:C.join(`
`),position:O,pageIndex:N-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:v,comment:x?.str||null,richText:y,creationDate:A,modificationDate:S}}const s=await super.deserialize(t,e,i);return s.#n=t.fontSize,s.color=Lt.makeHexColor(...t.color),s.#t=$n.#h(t.value),s._initialData=r,t.comment&&s.setCommentData(t),s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Ht._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(t){const{value:e,fontSize:i,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((l,u)=>l!==r[u])||t.pageIndex!==s}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:i}=e;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),e.append(s)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Nt{static PRECISION=1e-4;toSVGPath(){Me("Abstract method `toSVGPath` must be implemented.")}get box(){Me("Abstract getter `box` must be implemented.")}serialize(t,e){Me("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,s,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u]*r,l[u+1]=i+t[u+1]*s;return l}static _rescaleAndSwap(t,e,i,r,s,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u+1]*r,l[u+1]=i+t[u]*s;return l}static _translate(t,e,i,r){r||=new Float32Array(t.length);for(let s=0,l=t.length;s<l;s+=2)r[s]=e+t[s],r[s+1]=i+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,s){switch(s){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,s,l){return[(t+5*i)/6,(e+5*r)/6,(5*i+s)/6,(5*r+l)/6,(i+s)/2,(r+l)/2]}}class Ol{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#d;#h;#f=[];static#g=8;static#m=2;static#u=Ol.#g+Ol.#m;constructor({x:t,y:e},i,r,s,l,u=0){this.#t=i,this.#h=s*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Ol.#g*r,this.#c=Ol.#u*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#p(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[i,r,s,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-i)/s,(this.#o+(t[1]-e[1])/2-r)/l,(this.#r+(e[0]-t[0])/2-i)/s,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[i,r,s,l]=this.#t;let[u,d,f,p]=this.#s.subarray(8,12);const v=t-f,y=e-p,x=Math.hypot(v,y);if(x<this.#c)return!1;const A=x-this.#l,S=A/x,C=S*v,O=S*y;let N=u,k=d;u=f,d=p,f+=C,p+=O,this.#f?.push(t,e);const j=-O/A,z=C/A,R=j*this.#h,F=z*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+R,p+F],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-R,p-F],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([u+R,d+F],2),this.#a.push(NaN,NaN,NaN,NaN,(u+R-i)/s,(d+F-r)/l),this.#s.set([u-R,d-F],14),this.#e.push(NaN,NaN,NaN,NaN,(u-R-i)/s,(d-F-r)/l)),this.#s.set([N,k,u,d,f,p],6),!this.isEmpty()):(this.#s.set([N,k,u,d,f,p],6),Math.abs(Math.atan2(k-d,N-u)-Math.atan2(O,C))<Math.PI/2?([u,d,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/s,((d+p)/2-r)/l),[u,d,N,k]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((N+u)/2-i)/s,((k+d)/2-r)/l),!0):([N,k,u,d,f,p]=this.#s.subarray(0,6),this.#a.push(((N+5*u)/6-i)/s,((k+5*d)/6-r)/l,((5*u+f)/6-i)/s,((5*d+p)/6-r)/l,((u+f)/2-i)/s,((d+p)/2-r)/l),[f,p,u,d,N,k]=this.#s.subarray(12,18),this.#e.push(((N+5*u)/6-i)/s,((k+5*d)/6-r)/l,((5*u+f)/6-i)/s,((5*d+p)/6-r)/l,((u+f)/2-i)/s,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#y(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(i),i.join(" ")}#v(){const[t,e,i,r]=this.#t,[s,l,u,d]=this.#p();return`M${(this.#s[2]-t)/i} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/i} ${(this.#s[5]-e)/r} L${s} ${l} L${u} ${d} L${(this.#s[16]-t)/i} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/i} ${(this.#s[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){const[e,i,r,s]=this.#t,l=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,p,v]=this.#p();t.push(`L${(l[0]-e)/r} ${(l[1]-i)/s} L${d} ${f} L${p} ${v} L${(u[0]-e)/r} ${(u[1]-i)/s}`)}newFreeDrawOutline(t,e,i,r,s,l){return new kj(t,e,i,r,s,l)}getOutlines(){const t=this.#a,e=this.#e,i=this.#s,[r,s,l,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let v=0,y=d.length-2;v<y;v+=2)d[v]=(this.#f[v]-r)/l,d[v+1]=(this.#f[v+1]-s)/u;if(d[d.length-2]=(this.#r-r)/l,d[d.length-1]=(this.#o-s)/u,isNaN(i[6])&&!this.isEmpty())return this.#T(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let v=0;v<p;v+=2){if(isNaN(t[v])){f[v]=f[v+1]=NaN;continue}f[v]=t[v],f[v+1]=t[v+1]}p=this.#x(f,p);for(let v=e.length-6;v>=6;v-=6)for(let y=0;y<6;y+=2){if(isNaN(e[v+y])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[v+y],f[p+1]=e[v+y+1],p+=2}return this.#S(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#T(t){const e=this.#s,[i,r,s,l]=this.#t,[u,d,f,p]=this.#p(),v=new Float32Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-r)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-r)/l],0),this.newFreeDrawOutline(v,t,this.#t,this.#d,this.#i,this.#n)}#S(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#x(t,e){const i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[s,l,u,d]=this.#t,[f,p,v,y]=this.#p();return t.set([NaN,NaN,NaN,NaN,(i[0]-s)/u,(i[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,v,y,NaN,NaN,NaN,NaN,(r[0]-s)/u,(r[1]-l)/d],e),e+=24}}class kj extends Nt{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,i,r,s,l){super(),this.#r=t,this.#a=e,this.#t=i,this.#s=r,this.#i=s,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,p]=this.#e;for(let v=0,y=t.length;v<y;v+=2)t[v]=(t[v]-u)/f,t[v+1]=(t[v+1]-d)/p;for(let v=0,y=e.length;v<y;v+=2)e[v]=(e[v]-u)/f,e[v+1]=(e[v+1]-d)/p}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,i=this.#r.length;e<i;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],s){const l=i-t,u=r-e;let d,f;switch(s){case 0:d=Nt._rescale(this.#r,t,r,l,-u),f=Nt._rescale(this.#a,t,r,l,-u);break;case 90:d=Nt._rescaleAndSwap(this.#r,t,e,l,u),f=Nt._rescaleAndSwap(this.#a,t,e,l,u);break;case 180:d=Nt._rescale(this.#r,i,e,-l,u),f=Nt._rescale(this.#a,i,e,-l,u);break;case 270:d=Nt._rescaleAndSwap(this.#r,i,r,-l,-u),f=Nt._rescaleAndSwap(this.#a,i,r,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#r;let i=e[4],r=e[5];const s=[i,r,i,r];let l=i,u=r,d=i,f=r;const p=t?Math.max:Math.min,v=new Float32Array(4);for(let x=6,A=e.length;x<A;x+=6){const S=e[x+4],C=e[x+5];isNaN(e[x])?(Lt.pointBoundingBox(S,C,s),u>C?(l=S,u=C):u===C&&(l=p(l,S)),f<C?(d=S,f=C):f===C&&(d=p(d,S))):(v[0]=v[1]=1/0,v[2]=v[3]=-1/0,Lt.bezierBoundingBox(i,r,...e.slice(x,x+6),v),Lt.rectBoundingBox(v[0],v[1],v[2],v[3],s),u>v[1]?(l=v[0],u=v[1]):u===v[1]&&(l=p(l,v[0])),f<v[3]?(d=v[2],f=v[3]):f===v[3]&&(d=p(d,v[2]))),i=S,r=C}const y=this.#e;y[0]=s[0]-this.#i,y[1]=s[1]-this.#i,y[2]=s[2]-s[0]+2*this.#i,y[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[l,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,i,r,s,l=0){return new Ol(t,e,i,r,s,l)}getNewOutline(t,e){const[i,r,s,l]=this.#e,[u,d,f,p]=this.#t,v=s*f,y=l*p,x=i*f+u,A=r*p+d,S=this.newOutliner({x:this.#a[0]*v+x,y:this.#a[1]*y+A},this.#t,this.#s,t,this.#n,e??this.#i);for(let C=2;C<this.#a.length;C+=2)S.add({x:this.#a[C]*v+x,y:this.#a[C+1]*y+A});return S.getOutlines()}}class fx{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,i=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:S,y:C,width:O,height:N}of t){const k=Math.floor((S-e)/l)*l,j=Math.ceil((S+O+e)/l)*l,z=Math.floor((C-e)/l)*l,R=Math.ceil((C+N+e)/l)*l,F=[k,z,R,!0],q=[j,z,R,!1];this.#n.push(F,q),Lt.rectBoundingBox(k,z,j,R,s)}const u=s[2]-s[0]+2*i,d=s[3]-s[1]+2*i,f=s[0]-i,p=s[1]-i;let v=r?-1/0:1/0,y=1/0;const x=this.#n.at(r?-1:-2),A=[x[0],x[2]];for(const S of this.#n){const[C,O,N,k]=S;!k&&r?O<y?(y=O,v=C):O===y&&(v=Math.max(v,C)):k&&!r&&(O<y?(y=O,v=C):O===y&&(v=Math.min(v,C))),S[0]=(C-f)/u,S[1]=(O-p)/d,S[2]=(N-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=[v,y],this.#i=A}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],i=new Set;for(const l of t){const[u,d,f]=l;e.push([u,d,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const r=[];let s;for(;i.size>0;){const l=i.values().next().value;let[u,d,f,p,v]=l;i.delete(l);let y=u,x=d;for(s=[u,f],r.push(s);;){let A;if(i.has(p))A=p;else if(i.has(v))A=v;else break;i.delete(A),[u,d,f,p,v]=A,y!==u&&(s.push(y,x,u,x===d?d:f),y=u),x=x===d?f:d}s.push(y,x)}return new hK(r,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let i=0,r=e.length-1;for(;i<=r;){const s=i+r>>1,l=e[s][0];if(l===t)return s;l<t?i=s+1:r=s-1}return r+1}#o([,t,e]){const i=this.#r(t);this.#a.splice(i,0,[t,e])}#c([,t,e]){const i=this.#r(t);for(let r=i;r<this.#a.length;r++){const[s,l]=this.#a[r];if(s!==t)break;if(s===t&&l===e){this.#a.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,l]=this.#a[r];if(s!==t)break;if(s===t&&l===e){this.#a.splice(r,1);return}}}#l(t){const[e,i,r]=t,s=[[e,i,r]],l=this.#r(r);for(let u=0;u<l;u++){const[d,f]=this.#a[u];for(let p=0,v=s.length;p<v;p++){const[,y,x]=s[p];if(!(f<=y||x<=d)){if(y>=d){if(x>f)s[p][1]=f;else{if(v===1)return[];s.splice(p,1),p--,v--}continue}s[p][2]=d,x>f&&s.push([e,f,x])}}}return s}}class hK extends Nt{#t;#e;constructor(t,e,i,r){super(),this.#e=t,this.#t=e,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[i,r]=e;t.push(`M${i} ${r}`);for(let s=2;s<e.length;s+=2){const l=e[s],u=e[s+1];l===i?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],s){const l=[],u=i-t,d=r-e;for(const f of this.#e){const p=new Array(f.length);for(let v=0;v<f.length;v+=2)p[v]=t+f[v]*u,p[v+1]=r-f[v+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class px extends Ol{newFreeDrawOutline(t,e,i,r,s,l){return new dK(t,e,i,r,s,l)}}class dK extends kj{newOutliner(t,e,i,r,s,l=0){return new px(t,e,i,r,s,l)}}class gn extends Ht{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=re.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=gn.prototype;return ee(this,"_keyboardManager",new Gd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||gn._defaultColor,this.#p=t.thickness||gn._defaultThickness,this.opacity=t.opacity||gn._defaultOpacity,this.#i=t.boxes||null,this.#v=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#y(t),this.#_()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#_(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new fx(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new fx(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#p/2+r,.0025),e>=0)this.#d=e,this.#n=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:gn.#A(this.#l.box,(v-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:gn.#A(this.#s.box,v),path:{d:this.#s.toSVGPath()}})}const[s,l,u,d]=t.box;switch(this.rotation){case 0:this.x=s,this.y=l,this.width=u,this.height=d;break;case 90:{const[v,y]=this.parentDimensions;this.x=l,this.y=1-s,this.width=u*y/v,this.height=d*v/y;break}case 180:this.x=1-s,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[v,y]=this.parentDimensions;this.x=1-l,this.y=s,this.width=u*y/v,this.height=d*v/y;break}}const{firstPoint:f}=t;this.#f=[(f[0]-s)/u,(f[1]-l)/d];const{lastPoint:p}=this.#s;this.#g=[(p[0]-s)/u,(p[1]-l)/d]}static initialize(t,e){Ht.initialize(t,e),gn._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case ve.HIGHLIGHT_COLOR:gn._defaultColor=e;break;case ve.HIGHLIGHT_THICKNESS:gn._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case ve.HIGHLIGHT_COLOR:this.#T(e);break;case ve.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[ve.HIGHLIGHT_COLOR,gn._defaultColor],[ve.HIGHLIGHT_THICKNESS,gn._defaultThickness]]}get propertiesToUpdate(){return[[ve.HIGHLIGHT_COLOR,this.color||gn._defaultColor],[ve.HIGHLIGHT_THICKNESS,this.#p||gn._defaultThickness],[ve.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(s,l)=>{this.color=s,this.opacity=l,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,gn._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#S(t){const e=this.#p,i=r=>{this.#p=r,this.#x(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Mr({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#_(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#_(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){this.#h&&(this.#y({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#_(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([t,e,i,r],s){switch(s){case 90:return[1-e-r,t,r,i];case 180:return[1-t-i,1-e-r,i,r];case 270:return[e,1-t-i,r,i]}return[t,e,i,r]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#h?(t=(t-this.rotation+360)%360,i=gn.#A(this.#l.box,t)):i=gn.#A([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#m,{bbox:gn.#A(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#P.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(),rj(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#P(t){gn._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#O(!0);break;case 1:case 3:this.#O(!1);break}}#O(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#h||this.#O(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#M(){return this.#h?this.rotation:0}#I(){if(this.#h)return null;const[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#i,l=new Float32Array(s.length*8);let u=0;for(const{x:d,y:f,width:p,height:v}of s){const y=d*t+i,x=(1-f)*e+r;l[u]=l[u+4]=y,l[u+1]=l[u+3]=x,l[u+2]=l[u+6]=y+p*t,l[u+5]=l[u+7]=x-v*e,u+=8}return l}#k(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,e,{target:i,x:r,y:s}){const{x:l,y:u,width:d,height:f}=i.getBoundingClientRect(),p=new AbortController,v=t.combinedSignal(p),y=x=>{p.abort(),this.#z(t,x)};window.addEventListener("blur",y,{signal:v}),window.addEventListener("pointerup",y,{signal:v}),window.addEventListener("pointerdown",fn,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Nr,{signal:v}),i.addEventListener("pointermove",this.#N.bind(this,t),{signal:v}),this._freeHighlight=new px({x:r,y:s},[l,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#z(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let r=null;if(t instanceof Pj){const{data:{quadPoints:A,rect:S,rotation:C,id:O,color:N,opacity:k,popupRef:j,richText:z,contentsObj:R,creationDate:F,modificationDate:q},parent:{page:{pageNumber:J}}}=t;r=t={annotationType:re.HIGHLIGHT,color:Array.from(N),opacity:k,quadPoints:A,boxes:null,pageIndex:J-1,rect:S.slice(0),rotation:C,annotationElementId:O,id:O,deleted:!1,popupRef:j,richText:z,comment:R?.str||null,creationDate:F,modificationDate:q}}else if(t instanceof cw){const{data:{inkLists:A,rect:S,rotation:C,id:O,color:N,borderStyle:{rawWidth:k},popupRef:j,richText:z,contentsObj:R,creationDate:F,modificationDate:q},parent:{page:{pageNumber:J}}}=t;r=t={annotationType:re.HIGHLIGHT,color:Array.from(N),thickness:k,inkLists:A,boxes:null,pageIndex:J-1,rect:S.slice(0),rotation:C,annotationElementId:O,id:O,deleted:!1,popupRef:j,richText:z,comment:R?.str||null,creationDate:F,modificationDate:q}}const{color:s,quadPoints:l,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,i);f.color=Lt.makeHexColor(...s),f.opacity=d||1,u&&(f.#p=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[p,v]=f.pageDimensions,[y,x]=f.pageTranslation;if(l){const A=f.#i=[];for(let S=0;S<l.length;S+=8)A.push({x:(l[S]-y)/p,y:1-(l[S+1]-x)/v,width:(l[S+2]-l[S])/p,height:(l[S+1]-l[S+5])/v});f.#b(),f.#_(),f.rotate(f.rotation)}else if(u){f.#h=!0;const A=u[0],S={x:A[0]-y,y:v-(A[1]-x)},C=new px(S,[0,0,p,v],1,f.#p/2,!0,.001);for(let k=0,j=A.length;k<j;k+=2)S.x=A[k]-y,S.y=v-(A[k+1]-x),C.add(S);const{id:O,clipPathId:N}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);f.#y({highlightOutlines:C.getOutlines(),highlightId:O,clipPathId:N}),f.#_(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Ht._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#I(),outlines:this.#k(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#j(i)?null:(i.id=this.annotationElementId,i)}#j(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class Lj{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Me("Not implemented")}}class Te extends Ht{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#s(t),this.#c())}#s({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#r(t,this.parent),this.#h(t.box)}#r(t,e){const{id:i}=e.drawLayer.draw(Te._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[r,s]of Object.entries(e))i.has(r)?Object.assign(t[r],s):t[r]=s;return t}static getDefaultDrawingOptions(t){Me("Not implemented")}static get typesMap(){Me("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(Te.#i.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,e[r]]);return t}_updateProperty(t,e,i){const r=this._drawingOptions,s=r[e],l=u=>{r.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#h(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Te._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#d()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Te._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#d()),{bbox:this.#f()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Te._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#d(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#h(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#o()):t&&(this._uiManager.addShouldRescale(this),this.#c(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#t,t)}}#l([t,e,i,r]){const{parentDimensions:[s,l],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(l/s),r*(s/l)];case 180:return[1-t,1-e,i,r];case 270:return[1-e,t,i*(l/s),r*(s/l)];default:return[t,e,i,r]}}#d(){const{x:t,y:e,width:i,height:r,parentDimensions:[s,l],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(s/l),r*(l/s)];case 180:return[1-t,1-e,i,r];case 270:return[e,1-t,i*(s/l),r*(l/s)];default:return[t,e,i,r]}}#h(t){[this.x,this.y,this.width,this.height]=this.#l(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:t,y:e,width:i,height:r,rotation:s,parentRotation:l,parentDimensions:[u,d]}=this;switch((s*4+l)/90){case 1:return[1-e-r,t,r,i];case 2:return[1-t-i,1-e-r,i,r];case 3:return[e,1-t-i,r,i];case 4:return[t,e-i*(u/d),r*(d/u),i*(u/d)];case 5:return[1-e,t,i*(u/d),r*(d/u)];case 6:return[1-t-r*(d/u),1-e,r*(d/u),i*(u/d)];case 7:return[e-i*(u/d),1-t-r*(d/u),i*(u/d),r*(d/u)];case 8:return[t-i,e-r,i,r];case 9:return[1-e,t-i,r,i];case 10:return[1-t,1-e,i,r];case 11:return[e-r,1-t,r,i];case 12:return[t-r*(d/u),e,r*(d/u),i*(u/d)];case 13:return[1-e-i*(u/d),t-r*(d/u),i*(u/d),r*(d/u)];case 14:return[1-t,1-e-i*(u/d),r*(d/u),i*(u/d)];case 15:return[e,1-t,i*(u/d),r*(d/u)];default:return[t,e,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Te._mergeSVGProperties({bbox:this.#f()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,r,s){Me("Not implemented")}static startDrawing(t,e,i,r){const{target:s,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=r;if(Ce.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:p}}=t,{width:v,height:y}=s.getBoundingClientRect(),x=Te.#n=new AbortController,A=t.combinedSignal(x);if(Ce.setPointer(f,d),window.addEventListener("pointerup",S=>{Ce.isSamePointerIdOrRemove(S.pointerId)&&this._endDraw(S)},{signal:A}),window.addEventListener("pointercancel",S=>{Ce.isSamePointerIdOrRemove(S.pointerId)&&this._currentParent.endDrawingSession()},{signal:A}),window.addEventListener("pointerdown",S=>{Ce.isSamePointerType(S.pointerType)&&(Ce.initializeAndAddPointerId(S.pointerId),Te.#i.isCancellable()&&(Te.#i.removeLastElement(),Te.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Nr,{signal:A}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),s.addEventListener("touchmove",S=>{Ce.isSameTimeStamp(S.timeStamp)&&fn(S)},{signal:A}),t.toggleDrawing(),e._editorUndoBar?.hide(),Te.#i){t.drawLayer.updateProperties(this._currentDrawId,Te.#i.startNew(l,u,v,y,p));return}e.updateUIForDefaultProperties(this),Te.#i=this.createDrawerInstance(l,u,v,y,p),Te.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Te.#a.toSVGProperties(),Te.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ce.isSameTimeStamp(t.timeStamp),!Te.#i)return;const{offsetX:e,offsetY:i,pointerId:r}=t;if(Ce.isSamePointerId(r)){if(Ce.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Te.#i.add(e,i)),Ce.setTimeStamp(t.timeStamp),fn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Te.#i=null,Te.#a=null,Ce.clearTimeStamp()),Te.#n&&(Te.#n.abort(),Te.#n=null,Ce.clearPointerIds())}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Te.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=Te.#i,r=this._currentDrawId,s=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,i.setLastElement(s))},undo:()=>{e.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:ve.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(ve.DRAW_STEP),!Te.#i.isEmpty()){const{pageDimensions:[i,r],scale:s}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Te.#i.getOutlines(i*s,r*s,s,this._INNER_MARGIN),drawingOptions:Te.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,r,s,l){Me("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:r,pageHeight:s,pageX:l,pageY:u}}=e.viewport,d=this.deserializeDraw(l,u,r,s,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#s({drawOutlines:d}),f.#c(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#t.serialize([e,i,r,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class fK{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#c=new Wd;#l;#d;constructor(t,e,i,r,s,l){this.#l=i,this.#d=r,this.#n=s,this.#a=l,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return Nt._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[i,r,s,l]=this.#t.subarray(2,6),u=t-s,d=e-l;return Math.hypot(this.#l*u,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(i)?(this.#t.set([s,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,r,s,l,t,e],0),this.#e.push(...Nt.createBezierPoints(i,r,s,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,s){this.#l=i,this.#d=r,this.#n=s,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:i,points:r}=this.#i[t];this.#e=i,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=Nt.svgRound(this.#e[4]),e=Nt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=Nt.svgRound(this.#e[10]),s=Nt.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${r} ${s}`,this.#o=12,this.#r}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,s=this.#e.length;r<s;r+=6){const[l,u,d,f,p,v]=this.#e.slice(r,r+6).map(Nt.svgRound);i.push(`C${l} ${u} ${d} ${f} ${p} ${v}`)}return this.#r+=i.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,i,r){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#i,t,e,i,this.#n,this.#a,r),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Wd extends Nt{#t;#e=0;#i;#n;#a;#s;#r;#o;#c;build(t,e,i,r,s,l,u){this.#a=e,this.#s=i,this.#r=r,this.#o=s,this.#c=l,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${Nt.svgRound(e[4])} ${Nt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${Nt.svgRound(e[10])} ${Nt.svgRound(e[11])}`);continue}for(let i=6,r=e.length;i<r;i+=6){const[s,l,u,d,f,p]=e.subarray(i,i+6).map(Nt.svgRound);t.push(`C${s} ${l} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,i,r],s){const l=[],u=[],[d,f,p,v]=this.#d();let y,x,A,S,C,O,N,k,j;switch(this.#o){case 0:j=Nt._rescale,y=t,x=e+r,A=i,S=-r,C=t+d*i,O=e+(1-f-v)*r,N=t+(d+p)*i,k=e+(1-f)*r;break;case 90:j=Nt._rescaleAndSwap,y=t,x=e,A=i,S=r,C=t+f*i,O=e+d*r,N=t+(f+v)*i,k=e+(d+p)*r;break;case 180:j=Nt._rescale,y=t+i,x=e,A=-i,S=r,C=t+(1-d-p)*i,O=e+f*r,N=t+(1-d)*i,k=e+(f+v)*r;break;case 270:j=Nt._rescaleAndSwap,y=t+i,x=e+r,A=-i,S=-r,C=t+(1-f-v)*i,O=e+(1-d-p)*r,N=t+(1-f)*i,k=e+(1-d)*r;break}for(const{line:z,points:R}of this.#n)l.push(j(z,y,x,A,S,s?new Array(z.length):null)),u.push(j(R,y,x,A,S,s?new Array(R.length):null));return{lines:l,points:u,rect:[C,O,N,k]}}static deserialize(t,e,i,r,s,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let v,y,x,A,S;switch(d){case 0:S=Nt._rescale,v=-t/i,y=e/r+1,x=1/i,A=-1/r;break;case 90:S=Nt._rescaleAndSwap,v=-e/r,y=-t/i,x=1/r,A=1/i;break;case 180:S=Nt._rescale,v=t/i+1,y=-e/r,x=-1/i,A=1/r;break;case 270:S=Nt._rescaleAndSwap,v=e/r+1,y=t/i+1,x=-1/r,A=-1/i;break}if(!l){l=[];for(const O of u){const N=O.length;if(N===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,O[0],O[1]]));continue}if(N===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,O[0],O[1],NaN,NaN,NaN,NaN,O[2],O[3]]));continue}const k=new Float32Array(3*(N-2));l.push(k);let[j,z,R,F]=O.subarray(0,4);k.set([NaN,NaN,NaN,NaN,j,z],0);for(let q=4;q<N;q+=2){const J=O[q],ct=O[q+1];k.set(Nt.createBezierPoints(j,z,R,F,J,ct),(q-2)*3),[j,z,R,F]=[R,F,J,ct]}}}for(let O=0,N=l.length;O<N;O++)p.push({line:S(l[O].map(k=>k??NaN),v,y,x,A),points:S(u[O].map(k=>k??NaN),v,y,x,A)});const C=new this.prototype.constructor;return C.build(p,i,r,1,d,f,s),C}#l(t=this.#c){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,i,r]=this.#t,[s,l]=this.#l(0);return[t+s,e+l,i-2*s,r-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)Lt.pointBoundingBox(r[u],r[u+1],t);continue}let s=r[4],l=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,v,y,x,A]=r.subarray(u,u+6);Lt.bezierBoundingBox(s,l,f,p,v,y,x,A,t),s=x,l=A}}const[e,i]=this.#l();t[0]=ai(t[0]-e,0,1),t[1]=ai(t[1]-i,0,1),t[2]=ai(t[2]+e,0,1),t[3]=ai(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#l();this.#c=t;const[r,s]=this.#l(),[l,u]=[r-e,s-i],d=this.#t;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([t,e],i){const[r,s]=this.#l();this.#a=t,this.#s=e,this.#r=i;const[l,u]=this.#l(),d=l-r,f=u-s,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(Nt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Nt.svgRound(t)} ${Nt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,r=0,s=0,l=0,u=0,d=0;switch(this.#e){case 90:r=e/t,s=-t/e,u=t;break;case 180:i=-1,l=-1,u=t,d=e;break;case 270:r=-e/t,s=t/e,d=e;break;default:return""}return`matrix(${i} ${r} ${s} ${l} ${Nt.svgRound(u)} ${Nt.svgRound(d)})`}getPathResizingSVGProperties([t,e,i,r]){const[s,l]=this.#l(),[u,d,f,p]=this.#t;if(Math.abs(f-s)<=Nt.PRECISION||Math.abs(p-l)<=Nt.PRECISION){const S=t+i/2-(u+f/2),C=e+r/2-(d+p/2);return{path:{"transform-origin":`${Nt.svgRound(t)} ${Nt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${S} ${C})`}}}const v=(i-2*s)/(f-2*s),y=(r-2*l)/(p-2*l),x=f/i,A=p/r;return{path:{"transform-origin":`${Nt.svgRound(u)} ${Nt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${x} ${A}) translate(${Nt.svgRound(s)} ${Nt.svgRound(l)}) scale(${v} ${y}) translate(${Nt.svgRound(-s)} ${Nt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,i,r]){const[s,l]=this.#l(),u=this.#t,[d,f,p,v]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=r,Math.abs(p-s)<=Nt.PRECISION||Math.abs(v-l)<=Nt.PRECISION){const C=t+i/2-(d+p/2),O=e+r/2-(f+v/2);for(const{line:N,points:k}of this.#n)Nt._translate(N,C,O,N),Nt._translate(k,C,O,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Nt.svgRound(t)} ${Nt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(i-2*s)/(p-2*s),x=(r-2*l)/(v-2*l),A=-y*(d+s)+t+s,S=-x*(f+l)+e+l;if(y!==1||x!==1||A!==0||S!==0)for(const{line:C,points:O}of this.#n)Nt._rescale(C,A,S,y,x,C),Nt._rescale(O,A,S,y,x,O);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Nt.svgRound(t)} ${Nt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[r,s]=i,l=this.#t,u=t-l[0],d=e-l[1];if(this.#a===r&&this.#s===s)for(const{line:f,points:p}of this.#n)Nt._translate(f,u,d,f),Nt._translate(p,u,d,p);else{const f=this.#a/r,p=this.#s/s;this.#a=r,this.#s=s;for(const{line:v,points:y}of this.#n)Nt._rescale(v,u,d,f,p,v),Nt._rescale(y,u,d,f,p,y);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Nt.svgRound(t)} ${Nt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Nt.svgRound(t[0])} ${Nt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class sv extends Lj{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Ht._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new sv(this._viewParameters);return t.updateAll(this),t}}class hw extends Te{static _type="ink";static _editorType=re.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Ht.initialize(t,e),this._defaultDrawingOptions=new sv(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return ee(this,"typesMap",new Map([[ve.INK_THICKNESS,"stroke-width"],[ve.INK_COLOR,"stroke"],[ve.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,r,s){return new fK(t,e,i,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,r,s,l){return Wd.deserialize(t,e,i,r,s,l)}static async deserialize(t,e,i){let r=null;if(t instanceof cw){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:v,borderStyle:{rawWidth:y},popupRef:x,richText:A,contentsObj:S,creationDate:C,modificationDate:O},parent:{page:{pageNumber:N}}}=t;r=t={annotationType:re.INK,color:Array.from(p),thickness:y,opacity:v,paths:{points:l},boxes:null,pageIndex:N-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:x,richText:A,comment:S?.str||null,creationDate:C,modificationDate:O}}const s=await super.deserialize(t,e,i);return s._initialData=r,t.comment&&s.setCommentData(t),s}get toolbarButtons(){return this._colorPicker||=new Ad(this),[["colorPicker",this._colorPicker]]}get colorType(){return ve.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=hw.getDefaultDrawingOptions({stroke:Lt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:Ht._colorManager.convert(r),opacity:s,thickness:l,paths:{lines:e,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:i,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==i||t.opacity!==r||t.pageIndex!==s}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class mx extends Wd{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Gp=8,Vh=3;class Wc{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,i,r,s,l,u){const d=this.#e(i,r,s,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,v=this.#i[2*p],y=this.#i[2*p+1];if(t[(i+v)*e+(r+y)]!==0)return p}return-1}static#a(t,e,i,r,s,l,u){const d=this.#e(i,r,s,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,v=this.#i[2*p],y=this.#i[2*p+1];if(t[(i+v)*e+(r+y)]!==0)return p}return-1}static#s(t,e,i,r){const s=t.length,l=new Int32Array(s);for(let p=0;p<s;p++)l[p]=t[p]<=r?1:0;for(let p=1;p<i-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*i-1-p]=0;let u=1,d;const f=[];for(let p=1;p<i-1;p++){d=1;for(let v=1;v<e-1;v++){const y=p*e+v,x=l[y];if(x===0)continue;let A=p,S=v;if(x===1&&l[y-1]===0)u+=1,S-=1;else if(x>=1&&l[y+1]===0)u+=1,S+=1,x>1&&(d=x);else{x!==1&&(d=Math.abs(x));continue}const C=[v,p],O=S===v+1,N={isHole:O,points:C,id:u,parent:0};f.push(N);let k;for(const et of f)if(et.id===d){k=et;break}k?k.isHole?N.parent=O?k.parent:d:N.parent=O?d:k.parent:N.parent=O?d:0;const j=this.#n(l,e,p,v,A,S,0);if(j===-1){l[y]=-u,l[y]!==1&&(d=Math.abs(l[y]));continue}let z=this.#i[2*j],R=this.#i[2*j+1];const F=p+z,q=v+R;A=F,S=q;let J=p,ct=v;for(;;){const et=this.#a(l,e,J,ct,A,S,1);z=this.#i[2*et],R=this.#i[2*et+1];const Z=J+z,Ct=ct+R;C.push(Ct,Z);const _t=J*e+ct;if(l[_t+1]===0?l[_t]=-u:l[_t]===1&&(l[_t]=u),Z===p&&Ct===v&&J===F&&ct===q){l[y]!==1&&(d=Math.abs(l[y]));break}else A=J,S=ct,J=Z,ct=Ct}}}return f}static#r(t,e,i,r){if(i-e<=4){for(let F=e;F<i-2;F+=2)r.push(t[F],t[F+1]);return}const s=t[e],l=t[e+1],u=t[i-4]-s,d=t[i-3]-l,f=Math.hypot(u,d),p=u/f,v=d/f,y=p*l-v*s,x=d/u,A=1/f,S=Math.atan(x),C=Math.cos(S),O=Math.sin(S),N=A*(Math.abs(C)+Math.abs(O)),k=A*(1-N+N**2),j=Math.max(Math.atan(Math.abs(O+C)*k),Math.atan(Math.abs(O-C)*k));let z=0,R=e;for(let F=e+2;F<i-2;F+=2){const q=Math.abs(y-p*t[F+1]+v*t[F]);q>z&&(R=F,z=q)}z>(f*j)**2?(this.#r(t,e,R+2,r),this.#r(t,R,i,r)):r.push(s,l)}static#o(t){const e=[],i=t.length;return this.#r(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#c(t,e,i,r,s,l){const u=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let S=0;S<l;S++){const C=(S-f)**2;for(let O=0;O<l;O++)u[S*l+O]=Math.exp((C+(O-f)**2)/d)}const p=new Float32Array(256),v=-2*s**2;for(let S=0;S<256;S++)p[S]=Math.exp(S**2/v);const y=t.length,x=new Uint8Array(y),A=new Uint32Array(256);for(let S=0;S<i;S++)for(let C=0;C<e;C++){const O=S*e+C,N=t[O];let k=0,j=0;for(let R=0;R<l;R++){const F=S+R-f;if(!(F<0||F>=i))for(let q=0;q<l;q++){const J=C+q-f;if(J<0||J>=e)continue;const ct=t[F*e+J],et=u[R*l+q]*p[Math.abs(ct-N)];k+=ct*et,j+=et}}const z=x[O]=Math.round(k/j);A[z]++}return[x,A]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#d(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,s=1/0;for(let u=0,d=i.length;u<d;u++){const f=i[u]=t[u<<2];r=Math.max(r,f),s=Math.min(s,f)}const l=255/(r-s);for(let u=0,d=i.length;u<d;u++)i[u]=(i[u]-s)*l;return i}static#h(t){let e,i=-1/0,r=-1/0;const s=t.findIndex(d=>d!==0);let l=s,u=s;for(e=s;e<256;e++){const d=t[e];d>i&&(e-l>r&&(r=e-l,u=e-1),i=d,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:r}=t,{maxDim:s}=this.#t;let l=i,u=r;if(i>s||r>s){let y=i,x=r,A=Math.log2(Math.max(i,r)/s);const S=Math.floor(A);A=A===S?S-1:S;for(let O=0;O<A;O++){l=Math.ceil(y/2),u=Math.ceil(x/2);const N=new OffscreenCanvas(l,u);N.getContext("2d").drawImage(t,0,0,y,x,0,0,l,u),y=l,x=u,t!==e&&t.close(),t=N.transferToImageBitmap()}const C=Math.min(s/l,s/u);l=Math.round(l*C),u=Math.round(u*C)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#d(p),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},s,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const v=200,y=p.font=`${i} ${r} ${v}px ${e}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:A,actualBoundingBoxAscent:S,actualBoundingBoxDescent:C,fontBoundingBoxAscent:O,fontBoundingBoxDescent:N,width:k}=p.measureText(t),j=1.5,z=Math.ceil(Math.max(Math.abs(x)+Math.abs(A)||0,k)*j),R=Math.ceil(Math.max(Math.abs(S)+Math.abs(C)||v,Math.abs(O)+Math.abs(N)||v)*j);f=new OffscreenCanvas(z,R),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,z,R),p.fillStyle="black",p.fillText(t,z*(j-1)/2,R*(3-j)/2);const F=this.#d(p.getImageData(0,0,z,R).data),q=this.#l(F),J=this.#h(q),ct=this.#s(F,z,R,J);return this.processDrawnLines({lines:{curves:ct,width:z,height:R},pageWidth:s,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,s){const[l,u,d]=this.#f(t),[f,p]=this.#c(l,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),v=this.#h(p),y=this.#s(f,u,d,v);return this.processDrawnLines({lines:{curves:y,width:u,height:d},pageWidth:e,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:l,areContours:u}){r%180!==0&&([e,i]=[i,e]);const{curves:d,width:f,height:p}=t,v=t.thickness??0,y=[],x=Math.min(e/f,i/p),A=x/e,S=x/i,C=[];for(const{points:N}of d){const k=l?this.#o(N):N;if(!k)continue;C.push(k);const j=k.length,z=new Float32Array(j),R=new Float32Array(3*(j===2?2:j-2));if(y.push({line:R,points:z}),j===2){z[0]=k[0]*A,z[1]=k[1]*S,R.set([NaN,NaN,NaN,NaN,z[0],z[1]],0);continue}let[F,q,J,ct]=k;F*=A,q*=S,J*=A,ct*=S,z.set([F,q,J,ct],0),R.set([NaN,NaN,NaN,NaN,F,q],0);for(let et=4;et<j;et+=2){const Z=z[et]=k[et]*A,Ct=z[et+1]=k[et+1]*S;R.set(Nt.createBezierPoints(F,q,J,ct,Z,Ct),(et-2)*3),[F,q,J,ct]=[J,ct,Z,Ct]}}if(y.length===0)return null;const O=u?new mx:new Wd;return O.build(y,e,i,1,r,u?0:v,s),{outline:O,newCurves:C,areContours:u,thickness:v,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:s}){let l=1/0,u=-1/0,d=0;for(const k of t){d+=k.length;for(let j=2,z=k.length;j<z;j++){const R=k[j]-k[j-2];l=Math.min(l,R),u=Math.max(u,R)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,v=Gp+Vh*p,y=new Uint32Array(v);let x=0;y[x++]=v*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,y[x++]=0,y[x++]=r,y[x++]=s,y[x++]=e?0:1,y[x++]=Math.max(0,Math.floor(i??0)),y[x++]=p,y[x++]=f.BYTES_PER_ELEMENT;for(const k of t)y[x++]=k.length-2,y[x++]=k[0],y[x++]=k[1];const A=new CompressionStream("deflate-raw"),S=A.writable.getWriter();await S.ready,S.write(y);const C=f.prototype.constructor;for(const k of t){const j=new C(k.length-2);for(let z=2,R=k.length;z<R;z++)j[z-2]=k[z]-k[z-2];S.write(j)}S.close();const O=await new Response(A.readable).arrayBuffer();return new Uint8Array(O).toBase64()}static async decompressSignature(t){try{const e=Uint8Array.fromBase64(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let l=null,u=0;for await(const k of i)l||=new Uint8Array(new Uint32Array(k.buffer,0,4)[0]),l.set(k,u),u+=k.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],v=d[3],y=d[4]===0,x=d[5],A=d[6],S=d[7],C=[],O=(Gp+Vh*A)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(S){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(l.buffer,O);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(l.buffer,O);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(l.buffer,O);break}u=0;for(let k=0;k<A;k++){const j=d[Vh*k+Gp],z=new Float32Array(j+2);C.push(z);for(let R=0;R<Vh-1;R++)z[R]=d[Vh*k+Gp+R+1];for(let R=0;R<j;R++)z[R+2]=z[R]+N[u++]}return{areContours:y,thickness:x,outlines:C,width:p,height:v}}catch(e){return te(`decompressSignature: ${e}`),null}}}class dw extends Lj{constructor(){super(),super.updateProperties({fill:Ht._defaultLineColor,"stroke-width":0})}clone(){const t=new dw;return t.updateAll(this),t}}class fw extends sv{constructor(t){super(t),super.updateProperties({stroke:Ht._defaultLineColor,"stroke-width":1})}clone(){const t=new fw(this._viewParameters);return t.updateAll(this),t}}class Ea extends Te{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=re.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Ht.initialize(t,e),this._defaultDrawingOptions=new dw,this._defaultDrawnSignatureOptions=new fw(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return ee(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:s,areContours:l,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:v},rotation:y}=this.parent.viewport,x=Wc.processDrawnLines({lines:r,pageWidth:p,pageHeight:v,rotation:y,innerMargin:Ea._INNER_MARGIN,mustSmooth:s,areContours:l});this.addSignature(x,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:r,height:s}=this.#i,l=Math.max(r,s),u=Wc.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:r,height:s},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,r){const{x:s,y:l}=this,{outline:u}=this.#i=t;this.#t=u instanceof mx,this.description=i;let d;this.#t?d=Ea.getDefaultDrawingOptions():(d=Ea._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=s,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return Wc.process(t,e,i,r,Ea._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Wc.extractContoursFromText(t,e,i,r,s,Ea._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return Wc.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:Ea._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Ea.getDefaultDrawingOptions():(this._drawingOptions=Ea._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,s=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(s),t?(s.paths={lines:e,points:i},s.uuid=this.#n,s.isCopy=!0):s.lines=e,this.#e&&(s.accessibilityData={type:"Figure",alt:this.#e}),s}static deserializeDraw(t,e,i,r,s,l){return l.areContours?mx.deserialize(t,e,i,r,s,l):Wd.deserialize(t,e,i,r,s,l)}static async deserialize(t,e,i){const r=await super.deserialize(t,e,i);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class pK extends Ht{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=re.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Ht.initialize(t,e)}static isHandlingMimeForPasting(t){return sx.includes(t)}static paste(t,e){e.pasteEditor({mode:re.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#m()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:r,width:s,height:l,channels:r.length/(s*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#h(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#h(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=sx.join(",");const e=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,r&&(this.#t=r),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},t)}#m(){const{div:t}=this;let{width:e,height:i}=this.#t;const[r,s]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,i=this.height*s;else if(e>l*r||i>l*s){const d=Math.min(l*r/e,l*s/i);e*=d,i*=d}this._uiManager.enableWaiting(!1);const u=this.#r=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/r,this.height=i/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:r,height:s}=this.#t,l=new ja;let u=this.#t,d=r,f=s,p=null;if(e){if(r>e||s>e){const R=Math.min(e/r,e/s);d=Math.floor(r*R),f=Math.floor(s*R)}p=document.createElement("canvas");const y=p.width=Math.ceil(d*l.sx),x=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(y,x));const A=p.getContext("2d");A.filter=this._uiManager.hcmFilter;let S="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":RX.isDarkMode&&(S="#8f8f9d",C="#42414d");const O=15,N=O*l.sx,k=O*l.sy,j=new OffscreenCanvas(N*2,k*2),z=j.getContext("2d");z.fillStyle=S,z.fillRect(0,0,N*2,k*2),z.fillStyle=C,z.fillRect(0,0,N,k),z.fillRect(N,k,N,k),A.fillStyle=A.createPattern(j,"repeat"),A.fillRect(0,0,y,x),A.drawImage(u,0,0,u.width,u.height,0,0,y,x)}let v=null;if(i){let y,x;if(l.symmetric&&u.width<t&&u.height<t)y=u.width,x=u.height;else if(u=this.#t,r>t||s>t){const C=Math.min(t/r,t/s);y=Math.floor(r*C),x=Math.floor(s*C),this.#l||(u=this.#u(y,x))}const S=new OffscreenCanvas(y,x).getContext("2d",{willReadFrequently:!0});S.drawImage(u,0,0,u.width,u.height,0,0,y,x),v={width:y,height:x,data:S.getImageData(0,0,y,x).data}}return{canvas:p,width:d,height:f,imageData:v}}#u(t,e){const{width:i,height:r}=this.#t;let s=i,l=r,u=this.#t;for(;s>2*t||l>2*e;){const d=s,f=l;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(s,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,s,l),u=p.transferToImageBitmap()}return u}#p(){const[t,e]=this.parentDimensions,{width:i,height:r}=this,s=new ja,l=Math.ceil(i*t*s.sx),u=Math.ceil(r*e*s.sy),d=this.#r;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#t:this.#u(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#v(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,r=Math.round(this.width*e*mu.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*mu.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,s);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,s),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let r=null,s=!1;if(t instanceof Dj){const{data:{rect:S,rotation:C,id:O,structParent:N,popupRef:k,richText:j,contentsObj:z,creationDate:R,modificationDate:F},container:q,parent:{page:{pageNumber:J}},canvas:ct}=t;let et,Z;ct?(delete t.canvas,{id:et,bitmap:Z}=i.imageManager.getFromCanvas(q.id,ct),ct.remove()):(s=!0,t._hasNoCanvas=!0);const Ct=(await e._structTree.getAriaAttributes(`${Xc}${O}`))?.get("aria-label")||"";r=t={annotationType:re.STAMP,bitmapId:et,bitmap:Z,pageIndex:J-1,rect:S.slice(0),rotation:C,annotationElementId:O,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:Ct},isSvg:!1,structParent:N,popupRef:k,richText:j,comment:z?.str||null,creationDate:R,modificationDate:F}}const l=await super.deserialize(t,e,i),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:v,accessibilityData:y}=t;s?(i.addMissingCanvas(t.id,l),l.#o=!0):p&&i.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#n=f,l.#l=v;const[x,A]=l.pageDimensions;return l.width=(u[2]-u[0])/x,l.height=(u[3]-u[1])/A,y&&(l.altTextData=y),l._initialData=r,t.comment&&l.setCommentData(t),l.#d=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const u=this.#b(i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(e===null)return i;e.stamps||=new Map;const l=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#v(!1))}return i}#b(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class ls{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([$n,hw,pK,gn,Ea].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const v=[...ls.#p.values()];if(!ls._initialized){ls._initialized=!0;for(const y of v)y.initialize(p,t)}t.registerEditorTypes(v),this.#u=t,this.pageIndex=e,this.div=i,this.#t=s,this.#i=l,this.viewport=f,this.#h=d,this.drawLayer=u,this._structTree=r,this.#u.addLayer(this)}updatePageIndex(t){this.pageIndex=t}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===re.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#x(),t){case re.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case re.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case re.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===re.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of ls.#p.values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.togglePointerEvents(t)}get#v(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const i of this.#v)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=this.#i;if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const r=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",s=>{const{clientX:u,clientY:d,timeStamp:f}=s,p=this.#m;if(f-p>500){this.#m=f;return}this.#m=-1;const{classList:v}=this.div;v.toggle("getElements",!0);const y=document.elementsFromPoint(u,d);if(v.toggle("getElements",!1),!this.div.contains(y[0]))return;let x;const A=new RegExp(`^${_d}[0-9]+$`);for(const C of y)if(A.test(C.id)){x=C.id;break}if(!x)return;const S=this.#s.get(x);S?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),S.dblclick(s))},{signal:r,capture:!0})}const t=this.#i,e=[];if(t){const r=new Map,s=new Map;for(const u of this.#v){if(u.disableEditing(),!u.annotationElementId){e.push(u);continue}if(u.serialize()!==null){r.set(u.annotationElementId,u);continue}else s.set(u.annotationElementId,u);this.getEditableAnnotation(u.annotationElementId)?.show(),u.remove()}const l=t.getEditableAnnotations();for(const u of l){const{id:d}=u.data;if(this.#u.isDeletedAnnotationElement(d)){u.updateEdited({deleted:!0});continue}let f=s.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=r.get(d),f&&(this.#u.addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of ls.#p.values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(e),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:i}=Ln.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),gn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t),Ht.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#y(){return ls.#p.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#y;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:i,offsetY:r}=this.#S(),s=this.getNextId(),l=this.#T({parent:this,id:s,x:i,y:r,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await ls.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),s=this.#T({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#S(){const{x:t,y:e,width:i,height:r}=this.boundingClientRect,s=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+r),f=(s+u)/2-t,p=(l+d)/2-e,[v,y]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:v,offsetY:y}}addNewEditor(t={}){this.createAndAddNewEditor(this.#S(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Ln.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#u.getMode();if(i===re.STAMP||i===re.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===re.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=Ln.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const i=this.#u.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#y.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#y.endDrawing(t)):null}findNewParent(t,e,i){const r=this.#u.findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#x(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Hl(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#x();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Hl(this.div,{rotation:i}),e!==i)for(const r of this.#s.values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class ni{#t=null;#e=new Map;#i=new Map;static#n=0;setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return ee(this,"_svgFactory",new tg)}static#a(t,[e,i,r,s]){const{style:l}=t;l.top=`${100*i}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*s}%`}#s(){const t=ni._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const i=ni._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=ni._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r}#o(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,e=!1,i=!1){const r=ni.#n++,s=this.#s(),l=ni._svgFactory.createElement("defs");s.append(l);const u=ni._svgFactory.createElement("path");l.append(u);const d=`path_${r}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,u);const f=i?this.#r(l,d):null,p=ni._svgFactory.createElement("use");return s.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(s,t),this.#e.set(r,s),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=ni.#n++,r=this.#s(),s=ni._svgFactory.createElement("defs");r.append(s);const l=ni._svgFactory.createElement("path");s.append(l);const u=`path_${i}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const v=ni._svgFactory.createElement("mask");s.append(v),d=`mask_${i}`,v.setAttribute("id",d),v.setAttribute("maskUnits","objectBoundingBox");const y=ni._svgFactory.createElement("rect");v.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const x=ni._svgFactory.createElement("use");v.append(x),x.setAttribute("href",`#${u}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const f=ni._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(i,r),i}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:r,rootClass:s,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),r&&ni.#a(u,r),s){const{classList:d}=u;for(const[f,p]of Object.entries(s))d.toggle(f,p)}if(l){const f=u.firstElementChild.firstElementChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:fx};globalThis.pdfjsLib={AbortException:Eo,AnnotationEditorLayer:ls,AnnotationEditorParamsType:ve,AnnotationEditorType:re,AnnotationEditorUIManager:Co,AnnotationLayer:uw,AnnotationMode:xo,AnnotationType:An,applyOpacity:zX,build:qZ,ColorPicker:Mr,createValidAbsoluteUrl:QN,CSSConstants:IX,DOMSVGFactory:tg,DrawLayer:ni,FeatureTest:Ln,fetchData:Hd,findContrastColor:BX,getDocument:wj,getFilenameFromUrl:DX,getPdfFilenameFromUrl:kX,getRGB:qd,getUuid:tj,getXfaPageViewport:NX,GlobalWorkerOptions:iu,ImageKind:tm,InvalidPDFException:rx,isDataScheme:Jg,isPdfFile:tw,isValidExplicitDest:ZX,MathClamp:ai,noContextMenu:Nr,normalizeUnicode:MX,OPS:xd,OutputScale:ja,PagesMapper:Ee,PasswordResponses:bX,PDFDataRangeTransport:Sj,PDFDateString:ax,PDFWorker:Sd,PermissionFlag:yX,PixelsPerInch:mu,RenderingCancelledException:J1,renderRichText:nj,ResponseException:Qm,setLayerDimensions:Hl,shadow:ee,SignatureExtractor:Wc,stopEvent:fn,SupportedImageMimeTypes:sx,TextLayer:sr,TouchManager:tv,updateUrlHash:JN,Util:Lt,VerbosityLevel:Xg,version:Ej,XfaLayer:ej};iu.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${Ej}/pdf.worker.min.mjs`;delete XN.Icon.Default.prototype._getIconUrl;XN.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const GM=.65,mK=85e3,gK=36e4,yl=mK/gK,bl=.15,eg=7,Yh=.273,vK={Dashboard:"","Income & Loads":"  ",Expenses:"",Calendar:"",Reports:"",Personal:"","Route Map":"  ",Date:"",Route:"",Miles:"","Rate/Mi":"/",Payout:"","Fuel Cost":"  ",Net:" ","Add Load":" ","Upload Manifest":" ",Edit:"",Save:"",Pending:"","Gross Revenue":" ","Total True Costs":" ","True Net Profit":" ","Monthly Break-Even":"  ",Insurance:"",Trailer:"",Tolls:"",Dispatch:"",Depreciation:"",Maintenance:"",Debt:"",Month:"",Trips:"",Revenue:"",Fuel:"",Total:"",Profit:"",Loss:"","Owner-Operator Command Center":" -  ","Head-to-Head":"","Company Driver":"  ",Tax:"",Reserve:"",Surplus:"","Profit & Loss Reports":"    ","Debt Tracker":"  ","Monthly Obligations":" ","Where Every Dollar Goes (Per Mile)":"    ( )","Expense Buckets (Filling Up)":"  ","Reserve Funds Building Up":" ","1099 Tax Estimate":"   ","Seasonal Rate Outlook":"   ","Income vs Expenses (Monthly)":"   ()","Where Your Revenue Goes":"   ","Monthly Rate History":"  "},Vr=n=>T.jsxs(T.Fragment,{children:[n," ",T.jsx("span",{style:{fontSize:"0.65em",opacity:.6,fontFamily:"system-ui"},children:vK[n]??""})]}),WM=.153,VM=.12,Wp={"01":{rate:2.35,label:"Jan"},"02":{rate:2.1,label:"Feb"},"03":{rate:2.15,label:"Mar"},"04":{rate:2.2,label:"Apr"},"05":{rate:2.25,label:"May"},"06":{rate:2.4,label:"Jun"},"07":{rate:2.45,label:"Jul"},"08":{rate:2.5,label:"Aug"},"09":{rate:2.55,label:"Sep"},10:{rate:2.65,label:"Oct"},11:{rate:2.7,label:"Nov"},12:{rate:2.8,label:"Dec"}},Dn={UT:{price:3.8,label:"Utah ($3.80/gal)"},TX:{price:3.4,label:"Texas ($3.40/gal)"},OH:{price:3.6,label:"Midwest/OH ($3.60/gal)"},NV:{price:4.1,label:"Nevada ($4.10/gal)"},CA:{price:5.2,label:"California ($5.20/gal)"},PA:{price:4.05,label:"Pennsylvania ($4.05/gal)"},NM:{price:3.65,label:"New Mexico ($3.65/gal)"},AZ:{price:3.75,label:"Arizona ($3.75/gal)"},CO:{price:3.7,label:"Colorado ($3.70/gal)"},OK:{price:3.35,label:"Oklahoma ($3.35/gal)"},AR:{price:3.4,label:"Arkansas ($3.40/gal)"},TN:{price:3.45,label:"Tennessee ($3.45/gal)"},IN:{price:3.55,label:"Indiana ($3.55/gal)"},WV:{price:3.7,label:"West Virginia ($3.70/gal)"},AVG:{price:3.85,label:"National Avg ($3.85/gal)"}},Nj={"UT-TX":"NM","TX-OH":"TN","OH-NV":"CO","NV-CA":"NV","CA-TX":"AZ","TX-TX":"TX","TX-PA":"TN","TX-NV":"NM","OH-TX":"TN","PA-TX":"TN","NV-TX":"NM"},ng=(n,t,e)=>{const i=Dn[t]?.price??Dn.AVG.price;if(!e)return n/eg*i;const r=Dn[e]?.price??Dn.AVG.price,s=`${t}-${e}`,l=Nj[s]??"AVG",u=Dn[l]?.price??Dn.AVG.price,d=(i+u+r)/3;return n/eg*d},yK=[{id:"p1",category:"Housing",description:"House Payment",monthlyAmount:2e3},{id:"p2",category:"Utilities",description:"Utilities",monthlyAmount:300},{id:"p3",category:"Family",description:"Afghanistan Family Support",monthlyAmount:1e3},{id:"p4",category:"Phone",description:"Mobile Phone",monthlyAmount:100},{id:"p5",category:"Food",description:"Food & Groceries",monthlyAmount:1200},{id:"p6",category:"Clothing",description:"Clothing",monthlyAmount:200},{id:"p7",category:"Debt",description:"Debt Payments",monthlyAmount:1e3}],bK=[{id:"d1",to:"Cousin",amount:3500,dateBorrowed:"2023",dueDate:"2024",notes:"Overdue"},{id:"d2",to:"Person in Afghanistan",amount:4e3,dateBorrowed:"2022",dueDate:"2023",notes:"Oldest  overdue"},{id:"d3",to:"Fellow Truck Driver",amount:4e3,dateBorrowed:"2024",notes:""},{id:"d4",to:"Person #4",amount:1e3,dateBorrowed:"2024",notes:""},{id:"d5",to:"Person #5",amount:2e3,dateBorrowed:"2024",notes:""},{id:"d6",to:"Credit Card",amount:1e3,dateBorrowed:"2025",notes:"Revolving  high interest"}],Sl=[{id:"t1",date:"2026-02-09",loadId:"SLC-AUS-001",broker:"Spot Market",distance:1330,ratePerMile:2700/1330,totalPayout:2700,originCity:"Salt Lake City, UT",destCity:"Austin, TX",originCoords:[40.7608,-111.891],destCoords:[30.2672,-97.7431],fuelRegion:"UT",destFuelRegion:"TX",departureTime:"2026-02-09T06:00",arrivalTime:"2026-02-10T18:00"},{id:"t2",date:"2026-02-11",loadId:"TMP-MRG-002",broker:"Spot Market",distance:1200,ratePerMile:2200/1200,totalPayout:2200,originCity:"Temple, TX",destCity:"Marengo, OH",originCoords:[31.0982,-97.3428],destCoords:[40.4006,-81.4468],fuelRegion:"TX",destFuelRegion:"OH",deadheadMiles:70,deadheadFrom:"Austin, TX  Temple, TX",departureTime:"2026-02-11T05:00",arrivalTime:"2026-02-12T20:00"},{id:"t3",date:"2026-02-13",loadId:"OH-LV-003",broker:"Spot Market",distance:2e3,ratePerMile:4e3/2e3,totalPayout:4e3,originCity:"Ashland, OH 44805",destCity:"Las Vegas, NV 89139",originCoords:[40.8687,-82.3182],destCoords:[36.1699,-115.1398],fuelRegion:"OH",destFuelRegion:"NV",deadheadMiles:20,deadheadFrom:"Marengo  Ashland, OH",departureTime:"2026-02-13T04:00",arrivalTime:"2026-02-15T14:00"},{id:"t4",date:"2026-02-16",loadId:"LV-CA-004",broker:"Spot Market",distance:275,ratePerMile:700/275,totalPayout:700,originCity:"Las Vegas, NV 89139",destCity:"La Mirada, CA 90631",originCoords:[36.1699,-115.1398],destCoords:[33.9172,-118.012],fuelRegion:"NV",destFuelRegion:"CA",departureTime:"2026-02-16T07:00",arrivalTime:"2026-02-16T12:00"},{id:"t5",date:"2026-02-17",loadId:"CA-GP-005",broker:"Spot Market",distance:1435,ratePerMile:3050/1435,totalPayout:3050,originCity:"Walnut, CA 91789",destCity:"Grand Prairie, TX 75050",originCoords:[34.0203,-117.8654],destCoords:[32.746,-96.9978],fuelRegion:"CA",destFuelRegion:"TX",deadheadMiles:5,deadheadFrom:"La Mirada  Walnut, CA",departureTime:"2026-02-17T03:00",arrivalTime:"2026-02-18T22:00"},{id:"t6",date:"2026-02-20",loadId:"FW-HOU-006",broker:"Spot Market",distance:250,ratePerMile:700/250,totalPayout:700,originCity:"Fort Worth, TX 76137",destCity:"Houston, TX 77038",originCoords:[32.7555,-97.3308],destCoords:[29.8543,-95.4147],fuelRegion:"TX",destFuelRegion:"TX",deadheadMiles:15,deadheadFrom:"Grand Prairie  Fort Worth, TX",departureTime:"2026-02-20T06:00",arrivalTime:"2026-02-20T10:30"},{id:"t7",date:"2026-02-27",loadId:"RSB-EST-007",broker:"Spot Market",distance:1620,ratePerMile:3400/1620,totalPayout:3400,originCity:"Rosenberg, TX 77471",destCity:"Easton, PA 18040",originCoords:[29.5569,-95.8088],destCoords:[40.691,-75.2207],fuelRegion:"TX",destFuelRegion:"PA",deadheadMiles:35,deadheadFrom:"Houston 77038  Rosenberg, TX",departureTime:"2026-02-27T04:00",arrivalTime:"2026-03-01T08:00"}],_K=()=>{const n=[];Sl.forEach(i=>{const r=ng(i.distance,i.fuelRegion??"AVG",i.destFuelRegion),s=Dn[i.fuelRegion??"AVG"]?.label??"",l=i.destFuelRegion?Dn[i.destFuelRegion]?.label??"":"";if(n.push({id:`fuel-${i.id}`,date:i.date,category:"Fuel",description:`Fuel: ${i.originCity}  ${i.destCity} (avg: ${s.split("(")[0]} ${l.split("(")[0]})`,amount:Math.round(r*100)/100}),i.deadheadMiles&&i.deadheadMiles>0){const u=ng(i.deadheadMiles,i.fuelRegion??"AVG");n.push({id:`dh-${i.id}`,date:i.date,category:"Deadhead",description:`Deadhead (empty): ${i.deadheadFrom} (${i.deadheadMiles} mi)`,amount:Math.round(u*100)/100})}});const t=Sl.reduce((i,r)=>i+r.totalPayout,0),e=Sl.length>0?Math.max(1,Math.ceil((new Date(Sl[Sl.length-1].date).getTime()-new Date(Sl[0].date).getTime())/864e5)+1):30;return n.push({id:"ins-feb",date:"2026-02-01",category:"Insurance",description:"Truck Insurance (monthly)",amount:2400},{id:"reg-feb",date:"2026-02-01",category:"Registration",description:"Truck Registration ($1,600/yr  12)",amount:Math.round(1600/12*100)/100},{id:"toll-feb",date:"2026-02-01",category:"Tolls",description:"Tolls & Scales (monthly avg)",amount:250},{id:"disp-feb",date:"2026-02-01",category:"Dispatch",description:`Dispatch Fee (10% of $${t.toLocaleString()} revenue)`,amount:Math.round(t*.1*100)/100},{id:"lock-feb",date:"2026-02-01",category:"Lock Box",description:"Lock Box (monthly)",amount:100},{id:"trlr-feb",date:"2026-02-01",category:"Trailer",description:"Trailer Rental (monthly)",amount:600},{id:"food-feb",date:"2026-02-01",category:"Food",description:`Road Food (~$20/day  ${e} days)`,amount:e*20}),n},xK=_K(),YM=5,Vp=(n,t)=>{try{if(Number(localStorage.getItem("rl_version")||"0")<YM)return localStorage.removeItem("rl_incomes"),localStorage.removeItem("rl_expenses"),localStorage.removeItem("rl_personal"),localStorage.removeItem("rl_debts"),localStorage.setItem("rl_version",String(YM)),t;const i=localStorage.getItem(n);return i?JSON.parse(i):t}catch{return t}};function wK(){const[n,t]=D.useState("dashboard"),[e,i]=D.useState(()=>Vp("rl_incomes",Sl)),[r,s]=D.useState(()=>Vp("rl_expenses",xK)),[l,u]=D.useState(()=>Vp("rl_personal",yK)),[d,f]=D.useState(!1),[p,v]=D.useState(!1),[y,x]=D.useState(""),[A,S]=D.useState(!1),[C,O]=D.useState(!1),[N,k]=D.useState(null);D.useEffect(()=>{localStorage.setItem("rl_incomes",JSON.stringify(e))},[e]),D.useEffect(()=>{localStorage.setItem("rl_expenses",JSON.stringify(r))},[r]),D.useEffect(()=>{localStorage.setItem("rl_personal",JSON.stringify(l))},[l]);const j=D.useMemo(()=>l.reduce((U,Y)=>U+Y.monthlyAmount,0),[l]),z=U=>{const Y=new Date,pt=`${Y.getFullYear()}-${String(Y.getMonth()+1).padStart(2,"0")}-${String(Y.getDate()).padStart(2,"0")}`;return U>pt},R=D.useMemo(()=>e.filter(U=>!z(U.date)),[e]),F=D.useMemo(()=>e.filter(U=>z(U.date)),[e]),q=D.useMemo(()=>R.reduce((U,Y)=>U+Y.totalPayout,0),[R]),J=D.useMemo(()=>new Set(e.filter(U=>z(U.date)).map(U=>U.id)),[e]),ct=D.useMemo(()=>r.filter(U=>{const Y=U.id.match(/^(?:fuel|dh)-(.+)$/);return Y?!J.has(Y[1]):!0}),[r,J]),et=D.useMemo(()=>ct.reduce((U,Y)=>U+Y.amount,0),[ct]),Z=D.useMemo(()=>R.reduce((U,Y)=>U+Y.distance,0),[R]),Ct=D.useMemo(()=>R.reduce((U,Y)=>U+(Y.deadheadMiles||0),0),[R]),_t=D.useMemo(()=>F.reduce((U,Y)=>U+Y.totalPayout,0),[F]),[kt,G]=D.useState(()=>Vp("rl_debts",bK));D.useEffect(()=>{localStorage.setItem("rl_debts",JSON.stringify(kt))},[kt]);const K=D.useMemo(()=>kt.reduce((U,Y)=>U+Y.amount,0),[kt]),V=D.useMemo(()=>{const U=Z*(Dn.AVG.price/eg),Y=r.filter(Ot=>Ot.category==="Fuel").reduce((Ot,Xe)=>Ot+Xe.amount,0),pt=Z*bl,At=Z*yl,wt=pt+At,Et=q-et,Gt=Et-wt,Jt=Z*GM,qt=Math.max(0,Gt)*Yh,Yt=Gt-qt,Kt=new Date().toISOString().slice(5,7),fe=Wp[Kt]??Wp["02"],St=Z*(12/Math.max(1,e.length>0?new Set(e.map(Ot=>Ot.date.substring(0,7))).size:1));return{totalMiles:Z,expectedFuelCost:U,trackedFuelCost:Y,maintReserve:pt,vehicleDepreciation:At,totalHiddenCosts:wt,ownerOperatorCashProfit:Et,ownerOperatorTrueProfit:Gt,companyEquivalentEarnings:Jt,isBeatingCompanyRate:Gt>Jt,estimatedTax:qt,afterTaxProfit:Yt,currentMonthRate:fe,annualMilesProjection:St}},[q,et,Z,r,e]),Pt=D.useMemo(()=>{const U={};return e.forEach(Y=>{const pt=Y.date.substring(0,7);U[pt]||(U[pt]={income:0,expense:0}),U[pt].income+=Y.totalPayout}),r.forEach(Y=>{const pt=Y.date.substring(0,7);U[pt]||(U[pt]={income:0,expense:0}),U[pt].expense+=Y.amount}),Object.entries(U).map(([Y,pt])=>({name:Y,Income:pt.income,Expenses:pt.expense})).sort((Y,pt)=>Y.name.localeCompare(pt.name))},[e,r]),yt=D.useMemo(()=>{const U=[],Y=[];return e.forEach(pt=>{pt.originCoords&&pt.destCoords&&(U.push({lat:pt.originCoords[0],lng:pt.originCoords[1],label:`${pt.originCity} (${pt.loadId})`,type:"origin"}),U.push({lat:pt.destCoords[0],lng:pt.destCoords[1],label:`${pt.destCity} (${pt.loadId})`,type:"dest"}),Y.push([pt.originCoords,pt.destCoords]))}),{pts:U,lines:Y}},[e]),H=U=>{U.preventDefault();const Y=new FormData(U.currentTarget),pt=Number(Y.get("distance")),At=Number(Y.get("totalPayout"));i([...e,{id:Vb(),date:Y.get("date"),loadId:Y.get("loadId"),broker:Y.get("broker"),distance:pt,ratePerMile:pt>0?At/pt:0,totalPayout:At}].sort((wt,Et)=>new Date(Et.date).getTime()-new Date(wt.date).getTime())),f(!1)},it=U=>{U.preventDefault();const Y=new FormData(U.currentTarget);s([...r,{id:Vb(),date:Y.get("date"),category:Y.get("category"),description:Y.get("description"),amount:Number(Y.get("amount"))}].sort((pt,At)=>new Date(At.date).getTime()-new Date(pt.date).getTime())),O(!1)},dt=U=>i(e.filter(Y=>Y.id!==U)),bt=U=>s(r.filter(Y=>Y.id!==U)),Q=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U),[Tt,Dt]=D.useState(null),Qt=(U,Y,pt)=>{i(At=>At.map(wt=>{if(wt.id!==U)return wt;const Et={...wt,[Y]:pt};if(Y==="distance"||Y==="totalPayout"){const Gt=Y==="distance"?Number(pt):wt.distance,Jt=Y==="totalPayout"?Number(pt):wt.totalPayout;Et.ratePerMile=Gt>0?Jt/Gt:0}return Et}))},ht=U=>r.filter(Y=>Y.id.includes(U)),Wt=(U,Y)=>{if(!U||!Y)return null;const pt=new Date(Y).getTime()-new Date(U).getTime();return`${Math.round(pt/36e5)}h`},Zt=U=>{const Y=U.trim().split(`
`).filter(wt=>wt.trim()&&!wt.startsWith("date")),pt=[],At=[];Y.forEach(wt=>{const Et=wt.split(",").map(ui=>ui.trim());if(Et.length<5)return;const[Gt,Jt,qt,Yt,Kt,fe]=Et,St=Number(Yt),Ot=Number(Kt);if(!St||!Ot)return;const Xe=Vb();pt.push({id:Xe,date:Gt||new Date().toISOString().split("T")[0],loadId:`MAN-${Xe.slice(0,4).toUpperCase()}`,broker:fe||"Manifest Import",distance:St,ratePerMile:Ot/St,totalPayout:Ot,originCity:Jt,destCity:qt});const le=ng(St,"AVG");At.push({id:`fuel-${Xe}`,date:Gt||new Date().toISOString().split("T")[0],category:"Fuel",description:`Fuel: ${Jt}  ${qt} (avg estimate)`,amount:Math.round(le*100)/100})}),pt.length&&(i(wt=>[...wt,...pt].sort((Et,Gt)=>new Date(Gt.date).getTime()-new Date(Et.date).getTime())),s(wt=>[...wt,...At].sort((Et,Gt)=>new Date(Gt.date).getTime()-new Date(Et.date).getTime())),v(!1))},xt=async U=>{S(!0);try{const Y=await U.arrayBuffer(),pt=await wj({data:Y}).promise;let At="";for(let wt=1;wt<=pt.numPages;wt++){const Jt=(await(await pt.getPage(wt)).getTextContent()).items.map(qt=>qt.str).join(" ");At+=Jt+`
`}x(At)}catch(Y){console.error("PDF parse error:",Y),x(` Could not read this PDF  it may be image-based or scanned.

Try instead:
 Paste the text directly into the box below
 Use CSV format: date,origin,dest,miles,pay,broker
 Take a screenshot and enter manually

Error: ${Y instanceof Error?Y.message:"Unknown format"}`)}S(!1)};return T.jsxs("div",{className:"app-container",children:[T.jsxs("aside",{className:"sidebar glass-panel",style:{borderRadius:0,borderTop:0,borderBottom:0,borderLeft:0},children:[T.jsxs("div",{className:"brand",children:[T.jsx(h0,{size:28,className:"text-accent"}),T.jsx("span",{children:"Road Ledger"})]}),T.jsx("nav",{className:"nav-links mt-8",children:[{tab:"dashboard",icon:T.jsx(TI,{size:20}),label:"Dashboard",ps:""},{tab:"income",icon:T.jsx(Lh,{size:20,className:n==="income"?"text-accent":"text-success"}),label:"Income & Loads",ps:"  "},{tab:"expenses",icon:T.jsx(bp,{size:20,className:n==="expenses"?"text-accent":"text-danger"}),label:"Expenses",ps:""},{tab:"calendar",icon:T.jsx(wT,{size:20,className:n==="calendar"?"text-accent":"text-secondary"}),label:"Calendar",ps:""},{tab:"reports",icon:T.jsx(SI,{size:20,className:n==="reports"?"text-accent":"text-secondary"}),label:"Reports",ps:""},{tab:"personal",icon:T.jsx(Ic,{size:20,className:n==="personal"?"text-accent":"text-secondary"}),label:"Personal",ps:""},{tab:"map",icon:T.jsx(CI,{size:20,className:n==="map"?"text-accent":"text-secondary"}),label:"Route Map",ps:"  "}].map(U=>T.jsxs("button",{className:`nav-item ${n===U.tab?"active":""}`,onClick:()=>t(U.tab),children:[U.icon,T.jsxs("span",{style:{lineHeight:1.2},children:[U.label,T.jsx("br",{}),T.jsx("span",{style:{fontSize:"0.65em",opacity:.5},children:U.ps})]})]},U.tab))})]}),T.jsxs("main",{className:"main-content",children:[n==="dashboard"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("header",{className:"mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold",children:Vr("Owner-Operator Command Center")}),T.jsxs("p",{className:"text-secondary mt-1",children:["2023 Freightliner Cascadia  290k mi  ",V.totalMiles.toLocaleString()," mi this cycle  ",Ct," mi deadhead"]})]}),(()=>{const U=e.filter(Y=>z(Y.date));return U.length>0?T.jsxs("div",{style:{background:"rgba(234,179,8,0.08)",border:"1px solid rgba(234,179,8,0.3)",borderRadius:"12px",padding:"1rem 1.25rem",marginBottom:"1.25rem",display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[T.jsx(wT,{size:20,style:{color:"#eab308",marginTop:"0.1rem",flexShrink:0}}),T.jsxs("div",{style:{flex:1},children:[T.jsxs("div",{style:{fontWeight:700,color:"#eab308",fontSize:"0.85rem",marginBottom:"0.35rem"},children:[" ",U.length," Pending Trip",U.length>1?"s":""]}),U.map(Y=>T.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",display:"flex",justifyContent:"space-between",gap:"1rem",marginBottom:"0.15rem"},children:[T.jsxs("span",{children:[T.jsxs("strong",{style:{color:"var(--text-primary)"},children:[Y.originCity?.split(",")[0],"  ",Y.destCity?.split(",")[0]]}),"  ",Y.date]}),T.jsx("span",{className:"text-success",style:{fontWeight:700},children:Q(Y.totalPayout)})]},Y.id))]})]}):null})(),(()=>{const U=Z>0?q/Z:2,pt=(Z>0?ct.filter(le=>le.category==="Fuel").reduce((le,ui)=>le+ui.amount,0)/Z:Dn.AVG.price/eg)+yl+bl,At=U-pt,wt=ct.filter(le=>["Insurance","Registration","Tolls","Dispatch","Lock Box","Trailer","Food"].includes(le.category)).reduce((le,ui)=>le+ui.amount,0),Et=q-Z*pt,Gt=Et-wt,Jt=j,qt=l.find(le=>le.category==="Debt")?.monthlyAmount??0,Yt=Jt+qt,Kt=Math.max(0,Yt-Math.max(0,Gt)),fe=At>0?Math.ceil(Kt/At):0,St=Yt>0?Math.min(100,Math.max(0,Gt)/Yt*100):100,Ot=Gt>=Yt,Xe=Et>=wt;return T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",marginBottom:"1.25rem"},children:[T.jsxs("h3",{style:{fontSize:"0.95rem",fontWeight:700,marginBottom:"0.6rem"},children:[" ",Vr("Monthly Break-Even")]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.4rem",marginBottom:"0.75rem",fontSize:"0.65rem"},children:[T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"6px",padding:"0.4rem",textAlign:"center"},children:[T.jsx("div",{className:"text-secondary",style:{fontSize:"0.5rem",textTransform:"uppercase",fontWeight:700},children:"Rate"}),T.jsxs("div",{style:{fontWeight:800,color:"var(--success)"},children:["$",U.toFixed(2),"/mi"]})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"6px",padding:"0.4rem",textAlign:"center"},children:[T.jsx("div",{className:"text-secondary",style:{fontSize:"0.5rem",textTransform:"uppercase",fontWeight:700},children:"Variable"}),T.jsxs("div",{style:{fontWeight:800,color:"var(--danger)"},children:["-$",pt.toFixed(2),"/mi"]})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"6px",padding:"0.4rem",textAlign:"center"},children:[T.jsx("div",{className:"text-secondary",style:{fontSize:"0.5rem",textTransform:"uppercase",fontWeight:700},children:"Marginal"}),T.jsxs("div",{style:{fontWeight:800,color:"#10b981"},children:["$",At.toFixed(2),"/mi"]})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"6px",padding:"0.4rem",textAlign:"center"},children:[T.jsx("div",{className:"text-secondary",style:{fontSize:"0.5rem",textTransform:"uppercase",fontWeight:700},children:"Fixed Costs"}),T.jsx("div",{style:{fontWeight:800,color:Xe?"var(--success)":"#eab308"},children:Xe?" Covered":Q(wt-Et)})]})]}),T.jsxs("div",{style:{marginBottom:"0.5rem"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.6rem",marginBottom:"0.2rem"},children:[T.jsxs("span",{className:"text-secondary",children:["Take-home: ",Q(Math.max(0,Gt))," of ",Q(Yt)]}),T.jsxs("span",{style:{fontWeight:700,color:Ot?"var(--success)":"var(--danger)"},children:[St.toFixed(0),"%"]})]}),T.jsx("div",{style:{height:"8px",background:"rgba(255,255,255,0.06)",borderRadius:"4px",overflow:"hidden"},children:T.jsx("div",{style:{width:`${St}%`,height:"100%",background:Ot?"var(--success)":St>50?"#eab308":"var(--danger)",borderRadius:"4px",transition:"width 1.5s ease-out"}})})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",background:Ot?"rgba(16,185,129,0.08)":"rgba(239,68,68,0.06)",borderRadius:"8px",border:`1px solid ${Ot?"rgba(16,185,129,0.2)":"rgba(239,68,68,0.15)"}`},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:800,fontSize:"0.85rem",color:Ot?"var(--success)":"var(--text-primary)"},children:Ot?`${Q(Gt-Yt)} surplus`:`${fe.toLocaleString()} more miles needed`}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.55rem"},children:Ot?"Fixed costs covered  Personal + debt fully funded":`@ $${At.toFixed(2)}/mi marginal  ${Q(Kt)} shortfall`})]}),!Ot&&T.jsxs("div",{style:{textAlign:"right"},children:[T.jsxs("div",{style:{fontWeight:700,fontSize:"0.7rem",color:"var(--text-secondary)"},children:[" ",Math.ceil(fe/Math.max(1,Z/Math.max(1,R.length)))," trips"]}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.5rem"},children:["@ ",Math.round(Z/Math.max(1,R.length))," mi avg"]})]})]})]})})(),T.jsxs("div",{className:"grid-3",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",textAlign:"center"},children:[T.jsxs("div",{className:"stat-title text-success justify-center",style:{marginBottom:"0.25rem"},children:[T.jsx(Lh,{size:14})," Gross Revenue"]}),T.jsx("div",{style:{fontSize:"2rem",fontWeight:800},children:Q(q)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.8rem"},children:[V.totalMiles.toLocaleString()," loaded mi + ",Ct," deadhead"]}),_t>0&&T.jsxs("div",{style:{fontSize:"0.7rem",color:"#eab308",marginTop:"0.2rem"},children:["+ ",Q(_t)," pending (",F.length," trip",F.length>1?"s":"",")"]})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",textAlign:"center"},children:[T.jsxs("div",{className:"stat-title text-danger justify-center",style:{marginBottom:"0.25rem"},children:[T.jsx(bp,{size:14})," Total True Costs"]}),T.jsx("div",{style:{fontSize:"2rem",fontWeight:800},children:Q(et+V.totalHiddenCosts)}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.8rem"},children:"Fuel + Deadhead + Reserves"})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",textAlign:"center",borderTop:`4px solid ${V.isBeatingCompanyRate?"var(--success)":"var(--danger)"}`},children:[T.jsxs("div",{className:"stat-title justify-center",style:{color:V.isBeatingCompanyRate?"var(--success)":"var(--danger)",marginBottom:"0.25rem"},children:[T.jsx(Ic,{size:14})," True Net Profit"]}),T.jsx("div",{style:{fontSize:"2rem",fontWeight:800,color:V.isBeatingCompanyRate?"var(--success)":"var(--danger)"},children:Q(V.ownerOperatorTrueProfit)}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.8rem"},children:"After ALL costs & reserves"})]})]}),T.jsxs("div",{className:"grid-2-1",style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[T.jsxs("h3",{style:{fontSize:"1rem",fontWeight:700,marginBottom:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx(xT,{size:18,className:"text-accent"})," ",Vr("Where Every Dollar Goes (Per Mile)")]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"0.5rem",marginBottom:"1.5rem"},children:[{label:"Avg Rate",value:`$${(q/Math.max(1,Z)).toFixed(2)}`,color:"var(--success)",sub:"per loaded mi"},{label:"Fuel",value:`-$${(V.trackedFuelCost/Math.max(1,Z)).toFixed(2)}`,color:"var(--danger)",sub:"regional diesel"},{label:"Depreciation",value:`-$${yl.toFixed(3)}`,color:"var(--danger)",sub:"$85k / 3yr"},{label:"Maint Reserve",value:`-$${bl.toFixed(2)}`,color:"#eab308",sub:"tires/repairs"},{label:"TRUE Net/mi",value:`$${(V.ownerOperatorTrueProfit/Math.max(1,Z)).toFixed(3)}`,color:"var(--accent)",sub:"per loaded mi"}].map((U,Y)=>T.jsxs("div",{style:{background:"rgba(0,0,0,0.25)",borderRadius:"12px",padding:"0.75rem",textAlign:"center",border:"1px solid var(--border)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--text-secondary)",fontWeight:700,letterSpacing:"0.05em",marginBottom:"0.25rem"},children:U.label}),T.jsx("div",{style:{fontSize:"1.15rem",fontWeight:800,color:U.color},children:U.value}),T.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:"0.15rem"},children:U.sub})]},Y))}),T.jsxs("h4",{style:{fontSize:"0.8rem",fontWeight:700,textTransform:"uppercase",color:"var(--text-secondary)",letterSpacing:"0.05em",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx(AT,{size:14})," ",Vr("Expense Buckets (Filling Up)")]}),[{name:"Diesel & DEF (Regional Est.)",amount:V.trackedFuelCost,color:"var(--danger)"},{name:"Deadhead (Empty Miles)",amount:ct.filter(U=>U.category==="Deadhead").reduce((U,Y)=>U+Y.amount,0),color:"#f97316"},{name:"Truck Depreciation Reserve",amount:V.vehicleDepreciation,color:"var(--danger)"},{name:"Maintenance & Tires Reserve",amount:V.maintReserve,color:"#eab308"}].map((U,Y)=>{const pt=et+V.totalHiddenCosts,At=pt>0?U.amount/pt*100:0;return T.jsxs("div",{style:{marginBottom:"0.75rem"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",fontWeight:600,color:"var(--text-secondary)",marginBottom:"0.3rem"},children:[T.jsx("span",{children:U.name}),T.jsx("span",{children:Q(U.amount)})]}),T.jsx("div",{className:"bucket-bar-bg",children:T.jsx("div",{className:"bucket-bar-fill",style:{background:U.color,width:`${Math.min(100,At*2)}%`,opacity:.8}})})]},Y)}),T.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",background:"rgba(0,0,0,0.2)",borderRadius:"10px",border:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx("span",{className:"text-secondary",style:{fontSize:"0.85rem",fontWeight:600},children:"Total Hidden Reserves Set Aside:"}),T.jsxs("span",{className:"text-danger",style:{fontSize:"1.1rem",fontWeight:800},children:["-",Q(V.totalHiddenCosts)]})]})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",display:"flex",flexDirection:"column"},children:[T.jsxs("h3",{style:{fontSize:"1rem",fontWeight:700,marginBottom:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx(ST,{size:18,className:"text-accent"})," ",Vr("Head-to-Head")]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"1.25rem",border:"1px solid var(--border)",position:"relative",overflow:"hidden",marginBottom:"0.5rem"},children:[T.jsx("div",{style:{position:"absolute",top:8,right:8,opacity:.08},children:T.jsx(Ic,{size:56})}),T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",fontWeight:700,color:"var(--text-secondary)",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Company Driver"}),T.jsx("div",{style:{fontSize:"2rem",fontWeight:800},children:Q(V.companyEquivalentEarnings)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.75rem",marginTop:"0.25rem"},children:["Guaranteed @ $",GM.toFixed(2),"/mi  ",V.totalMiles.toLocaleString()," mi"]})]}),T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"-0.25rem 0",position:"relative",zIndex:1},children:T.jsx("span",{style:{background:"#000",color:"var(--text-secondary)",fontSize:"0.65rem",textTransform:"uppercase",fontWeight:800,padding:"0.2rem 0.75rem",borderRadius:"20px",border:"1px solid var(--border)"},children:"VS"})}),T.jsxs("div",{style:{background:V.isBeatingCompanyRate?"rgba(16,185,129,0.06)":"rgba(239,68,68,0.06)",borderRadius:"12px",padding:"1.25rem",border:`1px solid ${V.isBeatingCompanyRate?"var(--success)":"var(--danger)"}`,position:"relative",overflow:"hidden",marginBottom:"0.5rem"},children:[T.jsx("div",{style:{position:"absolute",top:8,right:8,opacity:.08},children:T.jsx(h0,{size:56})}),T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",fontWeight:700,color:V.isBeatingCompanyRate?"var(--success)":"var(--danger)",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Owner-Operator True Net"}),T.jsx("div",{style:{fontSize:"2rem",fontWeight:800,color:V.isBeatingCompanyRate?"var(--success)":"var(--danger)"},children:Q(V.ownerOperatorTrueProfit)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.75rem",marginTop:"0.25rem"},children:["After all costs + ",Q(V.totalHiddenCosts)," reserves"]})]}),T.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"1rem",border:"1px solid var(--border)",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",fontWeight:700,color:"var(--text-secondary)",letterSpacing:"0.05em",marginBottom:"0.25rem"},children:"You're making"}),T.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800,color:V.ownerOperatorTrueProfit-V.companyEquivalentEarnings>=0?"var(--success)":"var(--danger)"},children:Q(V.ownerOperatorTrueProfit-V.companyEquivalentEarnings)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.75rem",marginTop:"0.15rem"},children:[V.ownerOperatorTrueProfit-V.companyEquivalentEarnings>=0?"MORE":"LESS"," than a company driver"]})]})})]})]}),(()=>{const U=et+V.totalHiddenCosts,Y=j,pt=V.estimatedTax,At=q-U,wt=At-Y,Et=wt-pt,Gt=l.find(Ot=>Ot.category==="Debt")?.monthlyAmount??0,Jt=[{label:" Business",amount:U,filled:Math.min(q,U),color:"#ef4444",details:"Fuel  Dispatch  Insurance  Trailer  Tolls",delay:"0s"},{label:" Personal + Debt",amount:Y,filled:Math.max(0,Math.min(At,Y)),color:"#eab308",details:`Housing  Food  ${Q(Gt)} debt included`,delay:"0.4s"},{label:" Taxes",amount:pt,filled:Math.max(0,Math.min(wt,pt)),color:"#f97316",details:`SE ${(WM*100).toFixed(0)}% + Fed ~${(VM*100).toFixed(0)}%`,delay:"0.8s"},{label:" Surplus",amount:Math.max(0,Et),filled:Math.max(0,Et),color:"#10b981",details:Et>=0?"Savings & Growth":"In the red",delay:"1.2s"}],qt=85e3,Yt=Z*yl,Kt=4500,fe=Z*bl,St=({pct:Ot,color:Xe,size:le,icon:ui})=>{const Yi=(le-8)/2,na=2*Math.PI*Yi,Ls=na-Math.min(Ot,100)/100*na;return T.jsxs("div",{style:{position:"relative",width:le,height:le,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:[T.jsxs("svg",{width:le,height:le,style:{position:"absolute",transform:"rotate(-90deg)"},children:[T.jsx("circle",{cx:le/2,cy:le/2,r:Yi,fill:"none",stroke:"rgba(255,255,255,0.06)",strokeWidth:"6"}),T.jsx("circle",{cx:le/2,cy:le/2,r:Yi,fill:"none",stroke:Xe,strokeWidth:"6",strokeLinecap:"round",strokeDasharray:na,strokeDashoffset:Ls,style:{transition:"stroke-dashoffset 2s ease-out"}})]}),T.jsx("span",{style:{fontSize:le*.35,zIndex:1},children:ui})]})};return T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",marginBottom:"1.5rem"},children:[T.jsxs("h3",{style:{fontSize:"1rem",fontWeight:700,marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx(bp,{size:18,style:{color:"#3b82f6"}})," ",Vr("Where Your Revenue Goes")]}),T.jsxs("p",{className:"text-secondary",style:{fontSize:"0.75rem",marginBottom:"1.25rem"},children:[Q(q)," revenue  filling buckets in order of priority"]}),T.jsxs("div",{style:{display:"flex",height:"28px",borderRadius:"8px",overflow:"hidden",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:[q>0&&Jt.map((Ot,Xe)=>{const le=Ot.filled/q*100;return le>0?T.jsx("div",{style:{width:`${le}%`,background:Ot.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.55rem",fontWeight:700,color:"#fff"},children:le>8?`${le.toFixed(0)}%`:""},Xe):null}),Et<0&&T.jsx("div",{style:{flex:1,background:"rgba(239,68,68,0.3)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.55rem",fontWeight:700,color:"var(--danger)"},children:"DEFICIT"})]}),T.jsx("div",{className:"grid-4",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.6rem"},children:Jt.map((Ot,Xe)=>{const le=Ot.amount>0?Math.min(100,Ot.filled/Ot.amount*100):0,ui=Ot.filled>=Ot.amount&&Ot.amount>0,Yi=Ot.filled>0&&Ot.filled<Ot.amount;return T.jsxs("div",{style:{textAlign:"center"},children:[T.jsxs("div",{style:{height:"100px",position:"relative",background:"rgba(0,0,0,0.25)",borderRadius:"0 0 10px 10px",border:"1px solid var(--border)",borderTop:`3px solid ${Ot.color}`,overflow:"hidden"},children:[T.jsx("div",{className:"waterfall-fill",style:{"--fill-pct":`${le}%`,"--fill-delay":Ot.delay,background:`linear-gradient(to top, ${Ot.color}, ${Ot.color}88)`,width:"100%",position:"absolute",bottom:0,borderRadius:"0 0 9px 9px"}}),T.jsx("div",{style:{position:"relative",zIndex:1,padding:"0.35rem",fontSize:"0.9rem",fontWeight:800,color:"#fff",textShadow:"0 1px 4px rgba(0,0,0,0.5)",height:"100%",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:Q(Ot.filled)})]}),T.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.7rem",fontWeight:700},children:Ot.label}),T.jsx("div",{style:{fontSize:"0.5rem",color:Ot.color,marginTop:"0.15rem"},children:ui?" Funded":Yi?` ${Q(Ot.amount-Ot.filled)} short`:Xe===3?Et>=0?" Take home":Q(Et):" Empty"})]},Xe)})}),T.jsxs("div",{style:{marginTop:"1.25rem",padding:"1rem",background:"rgba(0,0,0,0.15)",borderRadius:"12px",border:"1px solid var(--border)"},children:[T.jsxs("h4",{style:{fontSize:"0.8rem",fontWeight:700,marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:[" ",Vr("Reserve Funds Building Up")]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:[T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx(St,{pct:Yt/qt*100,color:"#3b82f6",size:80,icon:""}),T.jsx("div",{style:{fontWeight:700,fontSize:"0.8rem",marginTop:"0.35rem"},children:"Truck Fund"}),T.jsx("div",{style:{fontWeight:800,color:"#3b82f6",fontSize:"0.9rem"},children:Q(Yt)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.6rem"},children:["of ",Q(qt)," goal"]}),T.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(255,255,255,0.06)",borderRadius:"2px",marginTop:"0.3rem",overflow:"hidden"},children:T.jsx("div",{style:{width:`${Math.min(100,Yt/qt*100)}%`,height:"100%",background:"#3b82f6",borderRadius:"2px",transition:"width 2s ease-out"}})}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.5rem",marginTop:"0.15rem"},children:[(Yt/qt*100).toFixed(1),"% saved"]})]}),T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx(St,{pct:fe/Kt*100,color:"#eab308",size:80,icon:""}),T.jsx("div",{style:{fontWeight:700,fontSize:"0.8rem",marginTop:"0.35rem"},children:"Tires & Maint"}),T.jsx("div",{style:{fontWeight:800,color:"#eab308",fontSize:"0.9rem"},children:Q(fe)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.6rem"},children:["of ",Q(Kt)," next set"]}),T.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(255,255,255,0.06)",borderRadius:"2px",marginTop:"0.3rem",overflow:"hidden"},children:T.jsx("div",{style:{width:`${Math.min(100,fe/Kt*100)}%`,height:"100%",background:"#eab308",borderRadius:"2px",transition:"width 2s ease-out"}})}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.5rem",marginTop:"0.15rem"},children:[(fe/Kt*100).toFixed(1),"% saved"]})]}),T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx(St,{pct:K>0?(15500-K)/15500*100:100,color:"#a855f7",size:80,icon:""}),T.jsx("div",{style:{fontWeight:700,fontSize:"0.8rem",marginTop:"0.35rem"},children:"Debt Freedom"}),T.jsxs("div",{style:{fontWeight:800,color:"#a855f7",fontSize:"0.9rem"},children:[Q(15500-K)," paid"]}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.6rem"},children:[Q(K)," remaining"]}),T.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(255,255,255,0.06)",borderRadius:"2px",marginTop:"0.3rem",overflow:"hidden"},children:T.jsx("div",{style:{width:`${Math.min(100,(15500-K)/15500*100)}%`,height:"100%",background:"#a855f7",borderRadius:"2px",transition:"width 2s ease-out"}})}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.5rem",marginTop:"0.15rem"},children:["~",Math.ceil(K/Math.max(1,Gt))," months to go"]})]})]})]}),T.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",background:Et>=0?"rgba(16,185,129,0.08)":"rgba(239,68,68,0.08)",borderRadius:"10px",border:`1px solid ${Et>=0?"rgba(16,185,129,0.3)":"rgba(239,68,68,0.3)"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx("span",{style:{fontSize:"0.85rem",fontWeight:700,color:Et>=0?"var(--success)":"var(--danger)"},children:Et>=0?" All buckets funded  surplus remaining":` ${Q(Math.abs(Et))} short  need more loads or cut expenses`}),T.jsx("span",{style:{fontSize:"1.1rem",fontWeight:800,color:Et>=0?"var(--success)":"var(--danger)"},children:Q(Et)})]})]})})(),T.jsx("div",{className:"grid-expense-tiles",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.6rem",marginBottom:"1.5rem"},children:[{label:" Insurance",val:"$2,400/mo",type:"fixed"},{label:" Trailer",val:"$600/mo",type:"fixed"},{label:" Tolls",val:"$250/mo",type:"fixed"},{label:" Lock Box",val:"$100/mo",type:"fixed"},{label:" Registration",val:"$133/mo",type:"fixed"},{label:" Fuel",val:Q(V.trackedFuelCost),type:"variable"},{label:" Dispatch 10%",val:Q(q*.1),type:"variable"},{label:" Depreciation",val:Q(V.vehicleDepreciation),type:"variable"},{label:" Maintenance",val:Q(V.maintReserve),type:"variable"},{label:" Road Food",val:Q(r.filter(U=>U.category==="Food").reduce((U,Y)=>U+Y.amount,0)),type:"variable"}].map((U,Y)=>T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",border:`1px solid ${U.type==="fixed"?"rgba(239,68,68,0.2)":"rgba(249,115,22,0.2)"}`,borderRadius:"8px",padding:"0.5rem 0.6rem",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.7rem"},children:[T.jsx("span",{children:U.label}),T.jsx("span",{style:{fontWeight:700,color:U.type==="fixed"?"var(--danger)":"#f97316",fontSize:"0.75rem"},children:U.val})]},Y))}),T.jsxs("div",{className:"grid-2",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[T.jsxs("h3",{style:{fontSize:"1rem",fontWeight:700,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx(Ic,{size:18,className:"text-danger"})," ",Vr("1099 Tax Estimate")]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid var(--border)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--text-secondary)",fontWeight:700},children:"SE Tax (15.3%)"}),T.jsxs("div",{className:"text-danger",style:{fontWeight:700,marginTop:"0.25rem"},children:["-",Q(Math.max(0,V.ownerOperatorTrueProfit)*WM)]})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid var(--border)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--text-secondary)",fontWeight:700},children:"Federal (~12%)"}),T.jsxs("div",{className:"text-danger",style:{fontWeight:700,marginTop:"0.25rem"},children:["-",Q(Math.max(0,V.ownerOperatorTrueProfit)*VM)]})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid var(--border)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--text-secondary)",fontWeight:700},children:"Total Tax Reserve"}),T.jsxs("div",{className:"text-danger",style:{fontWeight:800,fontSize:"1.1rem",marginTop:"0.25rem"},children:["-",Q(V.estimatedTax)]})]}),T.jsxs("div",{style:{background:V.afterTaxProfit>=0?"rgba(16,185,129,0.08)":"rgba(239,68,68,0.08)",padding:"0.75rem",borderRadius:"10px",border:`1px solid ${V.afterTaxProfit>=0?"var(--success)":"var(--danger)"}`},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",fontWeight:700,color:V.afterTaxProfit>=0?"var(--success)":"var(--danger)"},children:"After-Tax Profit"}),T.jsx("div",{style:{fontWeight:800,fontSize:"1.1rem",marginTop:"0.25rem",color:V.afterTaxProfit>=0?"var(--success)":"var(--danger)"},children:Q(V.afterTaxProfit)})]})]}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.7rem",marginTop:"0.75rem"},children:["Set aside ~",(Yh*100).toFixed(1),"% of true profit for quarterly 1099-NEC estimated payments."]})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[T.jsxs("h3",{style:{fontSize:"1rem",fontWeight:700,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx(Lh,{size:18,style:{color:"#eab308"}})," ",Vr("Monthly Rate History")]}),T.jsxs("div",{style:{background:"rgba(234,179,8,0.08)",padding:"0.75rem",borderRadius:"10px",border:"1px solid rgba(234,179,8,0.3)",marginBottom:"0.75rem"},children:[T.jsxs("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",fontWeight:700,color:"#eab308"},children:["Your Rate: $",(q/Math.max(1,Z)).toFixed(2),"/mi vs National Avg: $",V.currentMonthRate.rate.toFixed(2),"/mi (",V.currentMonthRate.label,")"]}),T.jsx("div",{style:{fontWeight:700,marginTop:"0.25rem"},children:q/Math.max(1,Z)>=V.currentMonthRate.rate?" You're above the national average":" Below national average for this month"})]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:"0.25rem"},children:Object.entries(Wp).map(([U,Y])=>{const pt=new Date().toISOString().slice(5,7),At=U===pt,wt=Math.max(...Object.values(Wp).map(Gt=>Gt.rate)),Et=Y.rate/wt*100;return T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx("div",{style:{height:"60px",position:"relative",display:"flex",alignItems:"flex-end"},children:T.jsx("div",{style:{width:"100%",height:`${Et}%`,background:At?"#eab308":"rgba(255,255,255,0.1)",borderRadius:"3px 3px 0 0",border:At?"1px solid #eab308":"1px solid rgba(255,255,255,0.05)",transition:"height 1s ease-out"}})}),T.jsx("div",{style:{fontSize:"0.5rem",fontWeight:At?800:600,color:At?"#eab308":"var(--text-secondary)",marginTop:"0.2rem"},children:Y.label}),T.jsxs("div",{style:{fontSize:"0.45rem",color:At?"#eab308":"var(--text-secondary)"},children:["$",Y.rate.toFixed(2)]})]},U)})}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.7rem",marginTop:"0.75rem"},children:"National avg dry van spot rates by month. Oct-Jan peak, Feb-May dip. Your rate adjusts with lane demand."})]})]}),T.jsxs("div",{className:"glass-panel chart-container",children:[T.jsx("h3",{style:{marginBottom:"1rem",fontWeight:600,fontSize:"1rem"},children:Vr("Income vs Expenses (Monthly)")}),Pt.length>0?T.jsx(q5,{width:"100%",height:"90%",children:T.jsxs(WY,{data:Pt,margin:{top:20,right:30,left:20,bottom:5},children:[T.jsx(EN,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)",vertical:!1}),T.jsx(NN,{dataKey:"name",stroke:"var(--text-secondary)"}),T.jsx(jN,{stroke:"var(--text-secondary)",tickFormatter:U=>`$${U}`}),T.jsx(Y7,{contentStyle:{backgroundColor:"var(--surface)",borderColor:"var(--border)",borderRadius:"8px",color:"white"},itemStyle:{color:"white"},formatter:U=>Q(Number(U))}),T.jsx(OD,{}),T.jsx(X_,{dataKey:"Income",fill:"var(--success)",radius:[4,4,0,0]}),T.jsx(X_,{dataKey:"Expenses",fill:"var(--danger)",radius:[4,4,0,0]})]})}):T.jsx("div",{className:"h-full flex items-center justify-center text-secondary",children:"No data yet."})]})]}),n==="income"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("header",{className:"mb-8 flex justify-between items-center flex-wrap gap-4",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold",children:Vr("Income & Loads")}),T.jsx("p",{className:"text-secondary mt-2",children:"Click a trip to see per-trip cost breakdown"})]}),T.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[T.jsxs("button",{style:{background:"rgba(59,130,246,0.15)",color:"var(--accent)",padding:"0.75rem 1.25rem",borderRadius:"8px",fontWeight:600,border:"1px solid rgba(59,130,246,0.3)",display:"flex",alignItems:"center",gap:"0.5rem"},onClick:()=>v(!0),children:[T.jsx(d0,{size:18})," Upload Manifest"]}),T.jsxs("button",{className:"btn-primary flex items-center gap-2",onClick:()=>f(!0),children:[T.jsx(c0,{size:18})," Add Load"]})]})]}),T.jsx("div",{className:"glass-panel p-0 overflow-hidden",children:T.jsx("div",{className:"table-container",children:e.length>0?T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsxs("th",{style:{lineHeight:1.2},children:["Date ",T.jsx("span",{style:{fontSize:"0.65em",opacity:.5,display:"block"},children:""})]}),T.jsxs("th",{style:{lineHeight:1.2},children:["Route ",T.jsx("span",{style:{fontSize:"0.65em",opacity:.5,display:"block"},children:""})]}),T.jsxs("th",{style:{lineHeight:1.2},children:["Miles ",T.jsx("span",{style:{fontSize:"0.65em",opacity:.5,display:"block"},children:""})]}),T.jsxs("th",{style:{lineHeight:1.2},children:["Rate/Mi ",T.jsx("span",{style:{fontSize:"0.65em",opacity:.5,display:"block"},children:"/"})]}),T.jsxs("th",{style:{lineHeight:1.2},children:["Payout ",T.jsx("span",{style:{fontSize:"0.65em",opacity:.5,display:"block"},children:""})]}),T.jsxs("th",{style:{lineHeight:1.2},children:["Fuel Cost ",T.jsx("span",{style:{fontSize:"0.65em",opacity:.5,display:"block"},children:"  "})]}),T.jsxs("th",{style:{lineHeight:1.2},children:["Net ",T.jsx("span",{style:{fontSize:"0.65em",opacity:.5,display:"block"},children:""})]}),T.jsx("th",{})]})}),T.jsxs("tbody",{children:[e.map(U=>{const Y=ht(U.id),pt=Y.filter(St=>St.category==="Fuel").reduce((St,Ot)=>St+Ot.amount,0),At=Y.filter(St=>St.category==="Deadhead").reduce((St,Ot)=>St+Ot.amount,0),wt=U.distance*yl,Et=U.distance*bl,Gt=U.totalPayout*.1,Jt=U.totalPayout-pt-At-wt-Et-Gt,qt=N===U.id,Yt=Tt===U.id,Kt={background:"rgba(0,0,0,0.3)",border:"1px solid var(--border)",borderRadius:"4px",padding:"0.2rem 0.4rem",color:"var(--text-primary)",width:"100%",fontSize:"0.85rem"},fe=Math.max(0,Jt)*Yh;return T.jsxs(rd.Fragment,{children:[T.jsxs("tr",{onClick:()=>!Yt&&k(qt?null:U.id),style:{cursor:Yt?"default":"pointer"},children:[T.jsx("td",{children:Yt?T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[T.jsx("input",{type:"date",defaultValue:U.date,style:Kt,onChange:St=>{if(Qt(U.id,"date",St.target.value),St.target.value){const Ot=U.departureTime&&U.departureTime.split("T")[1]||"06:00";Qt(U.id,"departureTime",`${St.target.value}T${Ot}`)}}}),T.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",fontWeight:700,marginTop:"0.15rem"},children:"PICKUP"}),T.jsxs("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[T.jsx("input",{type:"date",defaultValue:U.departureTime?U.departureTime.split("T")[0]:U.date??"",style:{...Kt,flex:1,fontSize:"0.7rem"},onChange:St=>{const Ot=U.departureTime&&U.departureTime.split("T")[1]?.split(":")[0]||"06";Qt(U.id,"departureTime",`${St.target.value}T${Ot}:00`)}}),T.jsx("select",{defaultValue:U.departureTime&&U.departureTime.split("T")[1]?.split(":")[0]||"06",style:{...Kt,width:"3.5rem",fontSize:"0.7rem",textAlign:"center"},onChange:St=>{const Ot=U.departureTime?U.departureTime.split("T")[0]:U.date??"";Qt(U.id,"departureTime",`${Ot}T${St.target.value}:00`)},children:Array.from({length:24},(St,Ot)=>String(Ot).padStart(2,"0")).map(St=>T.jsxs("option",{value:St,children:[St,":00"]},St))})]}),T.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",fontWeight:700},children:"DROP-OFF"}),T.jsxs("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[T.jsx("input",{type:"date",defaultValue:U.arrivalTime?U.arrivalTime.split("T")[0]:"",style:{...Kt,flex:1,fontSize:"0.7rem"},onChange:St=>{const Ot=U.arrivalTime&&U.arrivalTime.split("T")[1]?.split(":")[0]||"08";Qt(U.id,"arrivalTime",`${St.target.value}T${Ot}:00`)}}),T.jsx("select",{defaultValue:U.arrivalTime&&U.arrivalTime.split("T")[1]?.split(":")[0]||"08",style:{...Kt,width:"3.5rem",fontSize:"0.7rem",textAlign:"center"},onChange:St=>{const Ot=U.arrivalTime?U.arrivalTime.split("T")[0]:"";Qt(U.id,"arrivalTime",`${Ot}T${St.target.value}:00`)},children:Array.from({length:24},(St,Ot)=>String(Ot).padStart(2,"0")).map(St=>T.jsxs("option",{value:St,children:[St,":00"]},St))})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{children:U.date}),U.departureTime&&U.arrivalTime?T.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"0.25rem",marginTop:"0.15rem"},children:[T.jsx(_I,{size:10})," ",Wt(U.departureTime,U.arrivalTime)]}):null]})}),T.jsx("td",{children:Yt?T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[T.jsx("input",{defaultValue:U.originCity??"",placeholder:"Origin",style:Kt,onChange:St=>Qt(U.id,"originCity",St.target.value)}),T.jsx("input",{defaultValue:U.destCity??"",placeholder:"Destination",style:Kt,onChange:St=>Qt(U.id,"destCity",St.target.value)})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"font-medium text-accent",children:U.originCity}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.75rem"},children:[" ",U.destCity]}),U.deadheadMiles?T.jsxs("div",{style:{fontSize:"0.65rem",color:"#f97316"},children:["+",U.deadheadMiles," mi deadhead"]}):null,z(U.date)?T.jsx("span",{style:{fontSize:"0.55rem",background:"rgba(234,179,8,0.15)",color:"#eab308",padding:"0.1rem 0.4rem",borderRadius:"4px",fontWeight:700,marginTop:"0.15rem",display:"inline-block"},children:" PENDING"}):null]})}),T.jsx("td",{children:Yt?T.jsx("input",{type:"number",defaultValue:U.distance,style:{...Kt,width:"70px"},onChange:St=>Qt(U.id,"distance",Number(St.target.value))}):U.distance.toLocaleString()}),T.jsx("td",{children:Q(U.ratePerMile)}),T.jsx("td",{children:Yt?T.jsx("input",{type:"number",step:"0.01",defaultValue:U.totalPayout,style:{...Kt,width:"80px"},onChange:St=>Qt(U.id,"totalPayout",Number(St.target.value))}):T.jsx("span",{className:"text-success font-semibold",children:Q(U.totalPayout)})}),T.jsx("td",{className:"text-danger",children:Q(pt)}),T.jsx("td",{style:{color:Jt>=0?"var(--success)":"var(--danger)",fontWeight:700},children:Q(Jt)}),T.jsx("td",{children:T.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[T.jsx("button",{style:{background:Yt?"rgba(16,185,129,0.15)":"rgba(59,130,246,0.15)",color:Yt?"var(--success)":"var(--accent)",border:"none",borderRadius:"4px",padding:"0.2rem 0.5rem",fontSize:"0.7rem",fontWeight:700,cursor:"pointer"},onClick:St=>{St.stopPropagation(),Dt(Yt?null:U.id)},children:Yt?" Save":" Edit"}),!Yt&&(qt?T.jsx(yI,{size:16}):T.jsx(gI,{size:16})),T.jsx("button",{className:"btn-icon text-danger",onClick:St=>{St.stopPropagation(),dt(U.id)},children:T.jsx(u0,{size:16})})]})})]}),qt&&T.jsx("tr",{children:T.jsx("td",{colSpan:8,style:{background:"rgba(0,0,0,0.2)",padding:"1rem 1.5rem"},children:T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"0.75rem"},children:[T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid var(--border)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--text-secondary)",fontWeight:700},children:"Fuel Region (3-pt avg)"}),(()=>{const St=U.fuelRegion??"AVG",Ot=U.destFuelRegion,Xe=Dn[St]?.price??Dn.AVG.price,le=Dn[St]?.label??"N/A";if(!Ot)return T.jsx("div",{style:{fontWeight:700,marginTop:"0.25rem"},children:le});const ui=Dn[Ot]?.price??Dn.AVG.price,Yi=Dn[Ot]?.label??"",na=`${St}-${Ot}`,Ls=Nj[na]??"AVG",Rr=Dn[Ls]?.price??Dn.AVG.price,En=Dn[Ls]?.label??"Avg",Xi=((Xe+Rr+ui)/3).toFixed(2);return T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{fontWeight:700,marginTop:"0.25rem"},children:["Avg: $",Xi,"/gal"]}),T.jsxs("div",{style:{fontSize:"0.55rem",color:"var(--text-secondary)",marginTop:"0.15rem"},children:[le.split("(")[0].trim()," $",Xe.toFixed(2),"  ",En.split("(")[0].trim()," $",Rr.toFixed(2),"  ",Yi.split("(")[0].trim()," $",ui.toFixed(2)]})]})})()]}),U.departureTime&&U.arrivalTime?T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid rgba(59,130,246,0.3)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--accent)",fontWeight:700},children:"Drive Time"}),T.jsx("div",{style:{fontWeight:700,marginTop:"0.25rem"},children:Wt(U.departureTime,U.arrivalTime)}),T.jsxs("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)"},children:[new Date(U.departureTime).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),"  ",new Date(U.arrivalTime).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})]}):null,T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid var(--border)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--text-secondary)",fontWeight:700},children:"Fuel Cost"}),T.jsxs("div",{className:"text-danger",style:{fontWeight:700,marginTop:"0.25rem"},children:["-",Q(pt)]})]}),U.deadheadMiles?T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid rgba(249,115,22,0.3)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"#f97316",fontWeight:700},children:"Deadhead"}),T.jsxs("div",{style:{fontWeight:700,marginTop:"0.25rem",color:"#f97316"},children:[U.deadheadMiles," mi  -",Q(At)]}),T.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:U.deadheadFrom})]}):null,T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid var(--border)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--text-secondary)",fontWeight:700},children:"Depreciation"}),T.jsxs("div",{className:"text-danger",style:{fontWeight:700,marginTop:"0.25rem"},children:["-",Q(wt)]})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"10px",border:"1px solid var(--border)"},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"#eab308",fontWeight:700},children:"Maint Reserve"}),T.jsxs("div",{style:{fontWeight:700,marginTop:"0.25rem",color:"#eab308"},children:["-",Q(Et)]})]}),T.jsxs("div",{style:{background:V.isBeatingCompanyRate?"rgba(16,185,129,0.1)":"rgba(239,68,68,0.1)",padding:"0.75rem",borderRadius:"10px",border:`1px solid ${Jt>=0?"var(--success)":"var(--danger)"}`},children:[T.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:Jt>=0?"var(--success)":"var(--danger)",fontWeight:700},children:"True Trip Net"}),T.jsx("div",{style:{fontWeight:800,marginTop:"0.25rem",fontSize:"1.1rem",color:Jt>=0?"var(--success)":"var(--danger)"},children:Q(Jt)})]}),T.jsxs("div",{style:{background:"rgba(239,68,68,0.06)",padding:"0.75rem",borderRadius:"10px",border:"1px solid rgba(239,68,68,0.2)"},children:[T.jsxs("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--danger)",fontWeight:700},children:["1099 Tax (~",(Yh*100).toFixed(0),"%)"]}),T.jsxs("div",{className:"text-danger",style:{fontWeight:700,marginTop:"0.25rem"},children:["-",Q(fe)]}),T.jsxs("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:"0.15rem"},children:["After tax: ",Q(Jt-fe)]})]})]})})})]},U.id)}),T.jsxs("tr",{style:{background:"rgba(59,130,246,0.08)",borderTop:"2px solid var(--accent)",fontWeight:700},children:[T.jsx("td",{style:{fontSize:"0.8rem"},children:"Total / "}),T.jsxs("td",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[e.length," trips / "]}),T.jsx("td",{children:Z.toLocaleString()}),T.jsx("td",{children:Q(Z>0?q/Z:0)}),T.jsx("td",{className:"text-success",children:Q(q)}),T.jsx("td",{className:"text-danger",children:Q(ct.filter(U=>U.category==="Fuel"||U.category==="Deadhead").reduce((U,Y)=>U+Y.amount,0))}),T.jsx("td",{style:{color:V.ownerOperatorTrueProfit>=0?"var(--success)":"var(--danger)"},children:Q(V.ownerOperatorTrueProfit)}),T.jsx("td",{})]})]})]}):T.jsxs("div",{className:"p-8 text-center text-secondary",children:[T.jsx(h0,{size:48,className:"mx-auto mb-4 opacity-50"}),T.jsx("p",{className:"text-lg",children:"No loads recorded yet."}),T.jsx("button",{className:"btn-primary mt-4",onClick:()=>f(!0),children:"Add Your First Load"})]})})})]}),n==="expenses"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("header",{className:"mb-6 flex justify-between items-center flex-wrap gap-4",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Business Expenses"}),T.jsx("p",{className:"text-secondary mt-2",children:"Fuel, deadhead, maintenance, and operational costs"})]}),T.jsxs("button",{className:"btn-primary flex items-center gap-2",onClick:()=>O(!0),children:[T.jsx(c0,{size:18})," Add Expense"]})]}),(()=>{const U=[{name:"Truck Insurance",monthly:2400,icon:""},{name:"Trailer Rental",monthly:600,icon:""},{name:"Tolls & Scales",monthly:250,icon:""},{name:"Registration",monthly:Math.round(13333.333333333334)/100,icon:""},{name:"Lock Box",monthly:100,icon:""}],Y=U.reduce((wt,Et)=>wt+Et.monthly,0),pt=[{name:"Fuel (Diesel + DEF)",amount:V.trackedFuelCost,rate:`$${(V.trackedFuelCost/Math.max(1,Z)).toFixed(2)}/mi`,icon:""},{name:"Dispatch (10%)",amount:q*.1,rate:"10% of revenue",icon:""},{name:"Depreciation Reserve",amount:V.vehicleDepreciation,rate:`$${yl.toFixed(3)}/mi`,icon:""},{name:"Maintenance Reserve",amount:V.maintReserve,rate:`$${bl.toFixed(2)}/mi`,icon:""},{name:"Deadhead Fuel",amount:r.filter(wt=>wt.category==="Deadhead").reduce((wt,Et)=>wt+Et.amount,0),rate:`${Ct} empty mi`,icon:""},{name:"Road Food",amount:r.filter(wt=>wt.category==="Food").reduce((wt,Et)=>wt+Et.amount,0),rate:"~$20/day on road",icon:""}],At=pt.reduce((wt,Et)=>wt+Et.amount,0);return T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem"},children:[T.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:700,marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{fontSize:"1.1rem"},children:""})," Fixed Costs",T.jsx("span",{className:"text-secondary",style:{fontSize:"0.65rem",fontWeight:500,marginLeft:"auto"},children:"Same every month"})]}),U.map((wt,Et)=>T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.4rem 0",borderBottom:"1px solid rgba(255,255,255,0.04)",fontSize:"0.8rem"},children:[T.jsxs("span",{children:[wt.icon," ",wt.name]}),T.jsxs("span",{className:"text-danger",style:{fontWeight:700},children:[Q(wt.monthly),"/mo"]})]},Et)),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.75rem",padding:"0.5rem 0.75rem",background:"rgba(239,68,68,0.08)",borderRadius:"8px",border:"1px solid rgba(239,68,68,0.2)"},children:[T.jsx("span",{style:{fontWeight:800,fontSize:"0.85rem"},children:"Monthly Nut"}),T.jsxs("span",{className:"text-danger",style:{fontWeight:800,fontSize:"1rem"},children:[Q(Y),"/mo"]})]}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.65rem",marginTop:"0.35rem",textAlign:"right"},children:[Q(Y*12),"/year"]})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem"},children:[T.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:700,marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{fontSize:"1.1rem"},children:""})," Variable Costs",T.jsx("span",{className:"text-secondary",style:{fontSize:"0.65rem",fontWeight:500,marginLeft:"auto"},children:"Scale with miles/trips"})]}),pt.map((wt,Et)=>T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.4rem 0",borderBottom:"1px solid rgba(255,255,255,0.04)",fontSize:"0.8rem"},children:[T.jsxs("span",{style:{display:"flex",flexDirection:"column"},children:[T.jsxs("span",{children:[wt.icon," ",wt.name]}),T.jsx("span",{className:"text-secondary",style:{fontSize:"0.6rem"},children:wt.rate})]}),T.jsx("span",{className:"text-danger",style:{fontWeight:700},children:Q(wt.amount)})]},Et)),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.75rem",padding:"0.5rem 0.75rem",background:"rgba(249,115,22,0.08)",borderRadius:"8px",border:"1px solid rgba(249,115,22,0.2)"},children:[T.jsx("span",{style:{fontWeight:800,fontSize:"0.85rem"},children:"This Cycle Total"}),T.jsx("span",{style:{fontWeight:800,fontSize:"1rem",color:"#f97316"},children:Q(At)})]}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.65rem",marginTop:"0.35rem",textAlign:"right"},children:[Q(At/Math.max(1,Z)),"/mi all-in variable"]})]})]})})(),T.jsxs("div",{className:"glass-panel",style:{padding:"1rem 1.25rem",marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.75rem",borderTop:"3px solid var(--danger)"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:800,fontSize:"0.9rem"},children:"Total Business Burn Rate"}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.7rem"},children:"Fixed monthly + variable this cycle + hidden reserves"})]}),T.jsxs("div",{style:{textAlign:"right"},children:[T.jsx("div",{className:"text-danger",style:{fontWeight:800,fontSize:"1.3rem"},children:Q(et+V.totalHiddenCosts)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.65rem"},children:["vs ",Q(q)," revenue = ",T.jsx("span",{style:{color:q>et+V.totalHiddenCosts?"var(--success)":"var(--danger)",fontWeight:700},children:Q(q-et-V.totalHiddenCosts)})]})]})]}),T.jsx("h3",{style:{fontSize:"1rem",fontWeight:700,marginBottom:"0.75rem"},children:" All Expense Transactions"}),T.jsx("div",{className:"glass-panel p-0 overflow-hidden",children:T.jsx("div",{className:"table-container",children:r.length>0?T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Category"}),T.jsx("th",{children:"Description"}),T.jsx("th",{children:"Amount"}),T.jsx("th",{})]})}),T.jsx("tbody",{children:r.map(U=>T.jsxs("tr",{children:[T.jsx("td",{children:U.date}),T.jsx("td",{children:T.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:"0.8rem",fontWeight:600,background:U.category==="Deadhead"?"rgba(249,115,22,0.15)":U.category==="Fuel"?"rgba(239,68,68,0.15)":"rgba(0,0,0,0.3)",color:U.category==="Deadhead"?"#f97316":U.category==="Fuel"?"var(--danger)":"var(--text-primary)",border:`1px solid ${U.category==="Deadhead"?"rgba(249,115,22,0.3)":"rgba(255,255,255,0.1)"}`},children:U.category})}),T.jsx("td",{children:U.description}),T.jsx("td",{className:"text-danger font-semibold",children:Q(U.amount)}),T.jsx("td",{children:T.jsx("button",{className:"btn-icon",onClick:()=>bt(U.id),children:T.jsx(u0,{size:18})})})]},U.id))})]}):T.jsxs("div",{className:"p-8 text-center text-secondary",children:[T.jsx(AT,{size:48,className:"mx-auto mb-4 opacity-50"}),T.jsx("p",{className:"text-lg",children:"No expenses recorded yet."}),T.jsx("button",{className:"btn-primary mt-4",onClick:()=>O(!0),children:"Add Your First Expense"})]})})})]}),n==="calendar"&&(()=>{const[U,Y]=[new Date().getFullYear(),new Date().getMonth()],pt=new Date(U,Y,1).getDay(),At=new Date(U,Y+1,0).getDate(),wt=new Date(U,Y).toLocaleString("en-US",{month:"long",year:"numeric"}),Et=Array.from({length:42},(qt,Yt)=>{const Kt=Yt-pt+1;return Kt>=1&&Kt<=At?Kt:null}),Gt=new Map;e.forEach(qt=>{const Yt=new Date(qt.date);if(Yt.getFullYear()===U&&Yt.getMonth()===Y){const Kt=Yt.getDate();Gt.has(Kt)||Gt.set(Kt,[]),Gt.get(Kt).push(qt)}});const Jt=new Map;return r.forEach(qt=>{const Yt=new Date(qt.date);if(Yt.getFullYear()===U&&Yt.getMonth()===Y){const Kt=Yt.getDate();Jt.set(Kt,(Jt.get(Kt)||0)+qt.amount)}}),T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("header",{className:"mb-6",children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Calendar"}),T.jsxs("p",{className:"text-secondary mt-1",children:[wt,"  ",e.filter(qt=>{const Yt=new Date(qt.date);return Yt.getFullYear()===U&&Yt.getMonth()===Y}).length," trips this month"]})]}),T.jsx("div",{className:"glass-panel",style:{padding:"1.5rem"},children:T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",textAlign:"center"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(qt=>T.jsx("div",{style:{padding:"0.5rem",fontSize:"0.7rem",fontWeight:700,color:"var(--text-secondary)",textTransform:"uppercase"},children:qt},qt)),Et.map((qt,Yt)=>{const Kt=qt?Gt.get(qt):void 0,fe=qt?Jt.get(qt):void 0;return T.jsxs("div",{style:{minHeight:"80px",padding:"0.35rem",background:qt?"rgba(0,0,0,0.15)":"transparent",borderRadius:"8px",border:qt?"1px solid rgba(255,255,255,0.04)":"none",display:"flex",flexDirection:"column",gap:"0.15rem"},children:[qt&&T.jsx("div",{style:{fontSize:"0.75rem",fontWeight:600,color:Kt?"var(--accent)":"var(--text-secondary)"},children:qt}),Kt?.map(St=>T.jsxs("div",{style:{fontSize:"0.55rem",background:"rgba(59,130,246,0.15)",color:"var(--accent)",padding:"0.15rem 0.3rem",borderRadius:"4px",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},title:`${St.originCity}  ${St.destCity} | ${Q(St.totalPayout)}`,children:[St.originCity?.split(",")[0],"  ",St.destCity?.split(",")[0]]},St.id)),fe&&!Kt?T.jsxs("div",{style:{fontSize:"0.55rem",color:"var(--danger)",fontWeight:600},children:["-",Q(fe)]}):null,Kt&&T.jsx("div",{style:{fontSize:"0.5rem",color:"var(--success)",fontWeight:700},children:Q(Kt.reduce((St,Ot)=>St+Ot.totalPayout,0))})]},Yt)})]})})]})})(),n==="reports"&&(()=>{const U=[...new Set([...e.map(Y=>Y.date.substring(0,7)),...r.map(Y=>Y.date.substring(0,7))])].sort().reverse();return T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("header",{className:"mb-6",children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Profit & Loss Reports"}),T.jsx("p",{className:"text-secondary mt-1",children:"Monthly breakdown with 1099 tax estimates"})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[T.jsxs("div",{className:"glass-panel stat-card",children:[T.jsxs("div",{className:"stat-title",children:[T.jsx(Lh,{size:16})," Revenue YTD"]}),T.jsx("div",{className:"stat-value text-success",style:{fontSize:"1.8rem"},children:Q(q)})]}),T.jsxs("div",{className:"glass-panel stat-card",children:[T.jsxs("div",{className:"stat-title",children:[T.jsx(bp,{size:16})," Expenses YTD"]}),T.jsx("div",{className:"stat-value text-danger",style:{fontSize:"1.8rem"},children:Q(et+V.totalHiddenCosts)})]}),T.jsxs("div",{className:"glass-panel stat-card",children:[T.jsxs("div",{className:"stat-title",children:[T.jsx(xT,{size:16})," Tax Liability"]}),T.jsx("div",{className:"stat-value text-danger",style:{fontSize:"1.8rem"},children:Q(V.estimatedTax)})]}),T.jsxs("div",{className:"glass-panel stat-card",children:[T.jsxs("div",{className:"stat-title",children:[T.jsx(Ic,{size:16})," Take-Home"]}),T.jsx("div",{className:"stat-value",style:{fontSize:"1.8rem",color:V.afterTaxProfit>=0?"var(--success)":"var(--danger)"},children:Q(V.afterTaxProfit)})]})]}),T.jsx("div",{className:"glass-panel p-0 overflow-hidden",children:T.jsx("div",{className:"table-container",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Month"}),T.jsx("th",{children:"Trips"}),T.jsx("th",{children:"Miles"}),T.jsx("th",{children:"Revenue"}),T.jsx("th",{children:"Fuel"}),T.jsx("th",{children:"Other Exp"}),T.jsx("th",{children:"Depr + Maint"}),T.jsx("th",{children:"Tax Est"}),T.jsx("th",{children:"Net"})]})}),T.jsx("tbody",{children:U.map(Y=>{const pt=e.filter(St=>St.date.startsWith(Y)),At=r.filter(St=>St.date.startsWith(Y)),wt=pt.reduce((St,Ot)=>St+Ot.totalPayout,0),Et=pt.reduce((St,Ot)=>St+Ot.distance,0),Gt=At.filter(St=>St.category==="Fuel"||St.category==="Deadhead").reduce((St,Ot)=>St+Ot.amount,0),Jt=At.filter(St=>St.category!=="Fuel"&&St.category!=="Deadhead").reduce((St,Ot)=>St+Ot.amount,0),qt=Et*(yl+bl),Yt=wt-Gt-Jt-qt,Kt=Math.max(0,Yt)*Yh,fe=Yt-Kt;return T.jsxs("tr",{children:[T.jsx("td",{style:{fontWeight:700},children:new Date(Y+"-01").toLocaleString("en-US",{month:"short",year:"numeric"})}),T.jsx("td",{children:pt.length}),T.jsx("td",{children:Et.toLocaleString()}),T.jsx("td",{className:"text-success",children:Q(wt)}),T.jsx("td",{className:"text-danger",children:Q(Gt)}),T.jsx("td",{className:"text-danger",children:Q(Jt)}),T.jsx("td",{className:"text-danger",children:Q(qt)}),T.jsx("td",{className:"text-danger",children:Q(Kt)}),T.jsx("td",{style:{fontWeight:800,color:fe>=0?"var(--success)":"var(--danger)"},children:Q(fe)})]},Y)})})]})})}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",marginTop:"1.5rem",borderLeft:"3px solid var(--danger)"},children:[T.jsx("h3",{style:{fontSize:"0.9rem",fontWeight:700,marginBottom:"0.5rem",color:"var(--danger)"},children:"1099-NEC Quarterly Estimated Tax"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.75rem",fontSize:"0.8rem"},children:[{q:"Q1 (Jan-Mar)",due:"Apr 15"},{q:"Q2 (Apr-Jun)",due:"Jun 15"},{q:"Q3 (Jul-Sep)",due:"Sep 15"},{q:"Q4 (Oct-Dec)",due:"Jan 15"}].map(Y=>T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.6rem",borderRadius:"8px",textAlign:"center"},children:[T.jsx("div",{style:{fontWeight:700,fontSize:"0.75rem"},children:Y.q}),T.jsx("div",{className:"text-danger",style:{fontWeight:800,marginTop:"0.25rem"},children:Q(V.estimatedTax/4)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.65rem",marginTop:"0.15rem"},children:["Due ",Y.due]})]},Y.q))})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",marginTop:"1.5rem",borderLeft:"3px solid #3b82f6"},children:[T.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:700,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Cost Reduction Strategies"}),T.jsxs("div",{style:{marginBottom:"1.5rem"},children:[T.jsx("h4",{style:{fontSize:"0.85rem",fontWeight:700,marginBottom:"0.6rem"},children:" Trailer: Rent vs Buy"}),T.jsxs("div",{className:"grid-3",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.6rem",fontSize:"0.75rem"},children:[T.jsxs("div",{style:{background:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.2)",borderRadius:"10px",padding:"0.75rem"},children:[T.jsx("div",{style:{fontWeight:700,marginBottom:"0.35rem",color:"var(--danger)"},children:"Current: Rent Dry Van"}),T.jsxs("div",{children:["$600/mo  12 = ",T.jsx("strong",{children:"$7,200/yr"})]}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.65rem",marginTop:"0.25rem"},children:"No maintenance cost, swap easily. But never build equity."})]}),T.jsxs("div",{style:{background:"rgba(16,185,129,0.06)",border:"1px solid rgba(16,185,129,0.2)",borderRadius:"10px",padding:"0.75rem"},children:[T.jsx("div",{style:{fontWeight:700,marginBottom:"0.35rem",color:"var(--success)"},children:"Buy Used Dry Van"}),T.jsxs("div",{children:["$15k$25k  ",T.jsx("strong",{children:"$350500/mo"})]}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.65rem",marginTop:"0.25rem"},children:"5yr finance @ 7%. Own it after. Budget $1k/yr tires, $500/yr brakes."}),T.jsx("div",{style:{color:"var(--success)",fontSize:"0.65rem",fontWeight:700,marginTop:"0.35rem"},children:"Save ~$100250/mo vs renting"})]}),T.jsxs("div",{style:{background:"rgba(59,130,246,0.06)",border:"1px solid rgba(59,130,246,0.2)",borderRadius:"10px",padding:"0.75rem"},children:[T.jsx("div",{style:{fontWeight:700,marginBottom:"0.35rem",color:"#3b82f6"},children:"Flatbed Option"}),T.jsxs("div",{children:["$10k$18k used, ",T.jsx("strong",{children:"$250400/mo"})]}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.65rem",marginTop:"0.25rem"},children:"Higher $/mi ($2.50$3.50) but requires tarps, chains ($1.5k startup). More physical."}),T.jsx("div",{style:{color:"#3b82f6",fontSize:"0.65rem",fontWeight:700,marginTop:"0.35rem"},children:"+$0.300.50/mi higher rates"})]})]})]}),T.jsxs("div",{style:{marginBottom:"1.5rem"},children:[T.jsx("h4",{style:{fontSize:"0.85rem",fontWeight:700,marginBottom:"0.6rem"},children:" Lock Box: Rent vs Own"}),T.jsxs("div",{className:"grid-2",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.6rem",fontSize:"0.75rem"},children:[T.jsxs("div",{style:{background:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.2)",borderRadius:"10px",padding:"0.75rem"},children:[T.jsx("div",{style:{fontWeight:700,color:"var(--danger)"},children:"Current: Rent @ $100/mo"}),T.jsx("div",{children:"$1,200/year ongoing forever"})]}),T.jsxs("div",{style:{background:"rgba(16,185,129,0.06)",border:"1px solid rgba(16,185,129,0.2)",borderRadius:"10px",padding:"0.75rem"},children:[T.jsx("div",{style:{fontWeight:700,color:"var(--success)"},children:"Buy: $300$600 one-time"}),T.jsxs("div",{children:["Pays for itself in 36 months. ",T.jsx("strong",{children:"Save $600900/yr."})]})]})]})]}),T.jsxs("div",{style:{marginBottom:"1.5rem"},children:[T.jsx("h4",{style:{fontSize:"0.85rem",fontWeight:700,marginBottom:"0.6rem"},children:" Insurance Breakdown  $2,400/mo Bundle"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(165px, 1fr))",gap:"0.5rem",fontSize:"0.7rem"},children:[{type:"Primary Liability",range:"$5k$12k/yr",desc:"$750k$1M coverage. Required by FMCSA.",req:!0},{type:"Cargo Insurance",range:"$1.5k$3k/yr",desc:"$100k cargo coverage. Required by brokers.",req:!0},{type:"Physical Damage",range:"$4k$8k/yr",desc:"Covers YOUR truck. Can drop if paid off.",req:!1},{type:"Bobtail / NTL",range:"$400$800/yr",desc:"Driving without trailer coverage.",req:!0},{type:"Occupational Accident",range:"$1.5k$3k/yr",desc:"Workers comp for 1099 drivers.",req:!1},{type:"General Liability",range:"$500$1.5k/yr",desc:"Slip/fall at customer sites.",req:!1}].map((Y,pt)=>T.jsxs("div",{style:{background:"rgba(0,0,0,0.15)",borderRadius:"8px",padding:"0.5rem",border:`1px solid ${Y.req?"rgba(239,68,68,0.2)":"rgba(255,255,255,0.05)"}`},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.2rem"},children:[T.jsx("span",{style:{fontWeight:700,fontSize:"0.7rem"},children:Y.type}),T.jsx("span",{style:{fontWeight:700,color:"var(--danger)",fontSize:"0.65rem"},children:Y.range})]}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.6rem",lineHeight:"1.3"},children:Y.desc}),Y.req&&T.jsx("div",{style:{fontSize:"0.5rem",color:"var(--danger)",marginTop:"0.15rem",fontWeight:700},children:" REQUIRED"})]},pt))}),T.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.65rem",padding:"0.4rem 0.6rem",background:"rgba(16,185,129,0.06)",borderRadius:"8px",border:"1px solid rgba(16,185,129,0.15)"},children:[T.jsx("strong",{style:{color:"var(--success)"},children:" Save:"})," Shop 3+ agencies (Progressive Commercial, OOIDA, Canal). Bundle for 1020% off. Raise deductible to $2,500."]})]}),T.jsxs("div",{children:[T.jsx("h4",{style:{fontSize:"0.85rem",fontWeight:700,marginBottom:"0.6rem"},children:" Tires  2023 Cascadia (295/75R22.5, 18 total)"}),T.jsx("div",{className:"grid-3",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem",fontSize:"0.7rem"},children:[{pos:" Steer (2)",brand:"Michelin XZA3+",cost:"$380$420 ea",life:"120k150k mi",total:"$760$840",note:"Premium steer. Best grip. Worth the money on front axle."},{pos:" Drive (8)",brand:"Continental HDL2",cost:"$280$350 ea",life:"100k130k mi",total:"$2,240$2,800",note:"Aggressive tread. Can retread 12 ($120/tire) to save."},{pos:" Trailer (8)",brand:"Firestone FT492",cost:"$180$220 ea",life:"80k100k mi",total:"$1,440$1,760",note:"Budget OK here. Low-roll resistance saves fuel."}].map((Y,pt)=>T.jsxs("div",{style:{background:"rgba(0,0,0,0.15)",borderRadius:"8px",padding:"0.6rem",border:"1px solid rgba(255,255,255,0.05)"},children:[T.jsx("div",{style:{fontWeight:700,marginBottom:"0.2rem"},children:Y.pos}),T.jsx("div",{style:{color:"var(--accent)",fontWeight:600,fontSize:"0.65rem"},children:Y.brand}),T.jsxs("div",{style:{marginTop:"0.15rem"},children:[Y.cost,"  ",T.jsx("span",{className:"text-secondary",children:Y.life})]}),T.jsxs("div",{style:{fontWeight:700,color:"var(--danger)",marginTop:"0.1rem"},children:["Set: ",Y.total]}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.55rem",marginTop:"0.15rem"},children:Y.note})]},pt))}),T.jsxs("div",{className:"grid-2",style:{marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.7rem"},children:[T.jsxs("div",{style:{background:"rgba(239,68,68,0.06)",borderRadius:"8px",padding:"0.5rem",border:"1px solid rgba(239,68,68,0.15)"},children:[T.jsx("div",{style:{fontWeight:700},children:"Full New Set (18)"}),T.jsx("div",{className:"text-danger",style:{fontWeight:800},children:"$4,440$5,400"})]}),T.jsxs("div",{style:{background:"rgba(16,185,129,0.06)",borderRadius:"8px",padding:"0.5rem",border:"1px solid rgba(16,185,129,0.15)"},children:[T.jsx("div",{style:{fontWeight:700},children:"With Retreads"}),T.jsx("div",{style:{fontWeight:800,color:"var(--success)"},children:"$2,680$3,360  Save $1,500+"})]})]})]})]})]})})(),n==="personal"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("header",{className:"mb-6",children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Personal Expenses"}),T.jsxs("p",{className:"text-secondary mt-1",children:["Monthly personal budget  ",Q(j),"/mo  ",Q(j*12),"/yr"]})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[T.jsxs("div",{className:"glass-panel stat-card",children:[T.jsxs("div",{className:"stat-title",children:[T.jsx(Ic,{size:16})," Monthly Personal"]}),T.jsx("div",{className:"stat-value text-danger",style:{fontSize:"1.8rem"},children:Q(j)})]}),T.jsxs("div",{className:"glass-panel stat-card",children:[T.jsxs("div",{className:"stat-title",children:[T.jsx(Lh,{size:16})," Monthly Business Net"]}),T.jsx("div",{className:"stat-value",style:{fontSize:"1.8rem",color:V.afterTaxProfit>=0?"var(--success)":"var(--danger)"},children:Q(V.afterTaxProfit)}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.7rem"},children:"After tax & all biz expenses"})]}),T.jsxs("div",{className:"glass-panel stat-card",children:[T.jsxs("div",{className:"stat-title",children:[T.jsx(ST,{size:16})," Remaining After All"]}),T.jsx("div",{className:"stat-value",style:{fontSize:"1.8rem",color:V.afterTaxProfit-j>=0?"var(--success)":"var(--danger)"},children:Q(V.afterTaxProfit-j)}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.7rem"},children:"Business profit minus personal"})]})]}),T.jsx("div",{className:"glass-panel p-0 overflow-hidden",children:T.jsx("div",{className:"table-container",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Category"}),T.jsx("th",{children:"Description"}),T.jsx("th",{children:"Monthly"}),T.jsx("th",{children:"Annual"}),T.jsx("th",{})]})}),T.jsxs("tbody",{children:[l.map(U=>T.jsxs("tr",{children:[T.jsx("td",{style:{fontWeight:700},children:U.category}),T.jsx("td",{children:U.description}),T.jsx("td",{children:T.jsx("input",{type:"number",step:"0.01",defaultValue:U.monthlyAmount,style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border)",borderRadius:"4px",padding:"0.3rem 0.5rem",color:"var(--text-primary)",width:"100px",fontSize:"0.85rem"},onChange:Y=>u(pt=>pt.map(At=>At.id===U.id?{...At,monthlyAmount:Number(Y.target.value)||0}:At))})}),T.jsx("td",{className:"text-danger",children:Q(U.monthlyAmount*12)}),T.jsx("td",{children:T.jsx("button",{className:"btn-icon text-danger",onClick:()=>u(Y=>Y.filter(pt=>pt.id!==U.id)),children:T.jsx(u0,{size:16})})})]},U.id)),T.jsxs("tr",{style:{borderTop:"2px solid var(--border)"},children:[T.jsx("td",{colSpan:2,style:{fontWeight:800,textAlign:"right"},children:"TOTAL"}),T.jsx("td",{style:{fontWeight:800},className:"text-danger",children:Q(j)}),T.jsx("td",{style:{fontWeight:800},className:"text-danger",children:Q(j*12)}),T.jsx("td",{})]})]})]})})}),T.jsxs("button",{className:"btn-primary",style:{marginTop:"1rem"},onClick:()=>{const U=prompt("Category (e.g. Savings, Gym, Entertainment)"),Y=prompt("Description"),pt=prompt("Monthly amount ($)");U&&Y&&pt&&u(At=>[...At,{id:`p-${Date.now()}`,category:U,description:Y,monthlyAmount:Number(pt)||0}])},children:[T.jsx(c0,{size:18})," Add Personal Expense"]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",marginTop:"1.5rem",borderLeft:"3px solid var(--accent)"},children:[T.jsx("h3",{style:{fontSize:"0.9rem",fontWeight:700,marginBottom:"0.75rem"},children:"Break-Even Analysis"}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.75rem",fontSize:"0.85rem"},children:[T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[T.jsx("div",{className:"text-secondary",style:{fontSize:"0.65rem",textTransform:"uppercase",fontWeight:700},children:"Need Monthly"}),T.jsx("div",{style:{fontWeight:800,marginTop:"0.25rem"},children:Q(j+et+V.totalHiddenCosts)}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.6rem"},children:"Biz + Personal + Tax"})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[T.jsx("div",{className:"text-secondary",style:{fontSize:"0.65rem",textTransform:"uppercase",fontWeight:700},children:"Min Miles/Mo"}),T.jsx("div",{style:{fontWeight:800,marginTop:"0.25rem"},children:Math.ceil((j+et+V.totalHiddenCosts)/(q/Math.max(1,V.totalMiles))).toLocaleString()}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.6rem"},children:"at current $/mi rate"})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[T.jsx("div",{className:"text-secondary",style:{fontSize:"0.65rem",textTransform:"uppercase",fontWeight:700},children:"Min Trips/Mo"}),T.jsx("div",{style:{fontWeight:800,marginTop:"0.25rem"},children:Math.ceil(Math.ceil((j+et+V.totalHiddenCosts)/(q/Math.max(1,V.totalMiles)))/(V.totalMiles/Math.max(1,e.length)))}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.6rem"},children:"at avg trip length"})]})]})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",marginTop:"1.5rem",borderLeft:"3px solid var(--danger)"},children:[T.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:700,marginBottom:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx("span",{style:{color:"var(--danger)"},children:"Outstanding Debts"}),T.jsx("span",{style:{fontSize:"1.1rem"},children:Q(K)})]}),T.jsx("div",{className:"table-container",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Owed To"}),T.jsx("th",{children:"Amount"}),T.jsx("th",{children:"Since"}),T.jsx("th",{children:"Due"}),T.jsx("th",{children:"Status"}),T.jsx("th",{})]})}),T.jsxs("tbody",{children:[kt.map(U=>{const Y=U.dueDate&&Number(U.dueDate)<new Date().getFullYear();return T.jsxs("tr",{children:[T.jsx("td",{style:{fontWeight:700},children:U.to}),T.jsx("td",{className:"text-danger",style:{fontWeight:700},children:Q(U.amount)}),T.jsx("td",{className:"text-secondary",children:U.dateBorrowed}),T.jsx("td",{children:U.dueDate||""}),T.jsx("td",{children:Y?T.jsx("span",{style:{fontSize:"0.7rem",background:"rgba(239,68,68,0.15)",color:"var(--danger)",padding:"0.1rem 0.4rem",borderRadius:"4px",fontWeight:700},children:"OVERDUE"}):T.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Active"})}),T.jsx("td",{children:T.jsx("button",{className:"btn-icon text-success",style:{fontSize:"0.65rem",padding:"0.15rem 0.4rem"},onClick:()=>{const pt=prompt(`How much to pay off for ${U.to}?`,String(U.amount));if(pt){const At=Number(pt);G(wt=>wt.map(Et=>Et.id===U.id?{...Et,amount:Math.max(0,Et.amount-At)}:Et).filter(Et=>Et.amount>0))}},children:"Pay"})})]},U.id)}),T.jsxs("tr",{style:{borderTop:"2px solid var(--border)"},children:[T.jsx("td",{style:{fontWeight:800},children:"TOTAL DEBT"}),T.jsx("td",{style:{fontWeight:800},className:"text-danger",children:Q(K)}),T.jsxs("td",{colSpan:4,className:"text-secondary",style:{fontSize:"0.75rem"},children:["At $1,000/mo  paid off in ~",Math.ceil(K/1e3)," months (",new Date(Date.now()+Math.ceil(K/1e3)*30*864e5).toLocaleDateString("en-US",{month:"short",year:"numeric"}),")"]})]})]})]})})]}),T.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem",marginTop:"1.5rem",borderLeft:"3px solid #a855f7"},children:[T.jsxs("h3",{style:{fontSize:"1rem",fontWeight:700,marginBottom:"0.75rem",color:"#a855f7"},children:[" Debt Payoff Plan  $",1e3.toLocaleString(),"/mo"]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.6rem",marginBottom:"1rem",fontSize:"0.7rem"},children:[T.jsxs("div",{style:{background:"rgba(168,85,247,0.06)",border:"1px solid rgba(168,85,247,0.2)",borderRadius:"10px",padding:"0.75rem"},children:[T.jsx("div",{style:{fontWeight:700,color:"#a855f7",marginBottom:"0.25rem"},children:" Avalanche (Recommended)"}),T.jsx("div",{children:"Pay highest-interest first."}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.6rem",marginTop:"0.2rem"},children:"Saves the most money. Credit card first, then overdue debts."})]}),T.jsxs("div",{style:{background:"rgba(0,0,0,0.15)",borderRadius:"10px",padding:"0.75rem",border:"1px solid rgba(255,255,255,0.05)"},children:[T.jsx("div",{style:{fontWeight:700,marginBottom:"0.25rem"},children:" Snowball (Alternative)"}),T.jsx("div",{children:"Pay smallest balance first."}),T.jsx("div",{className:"text-secondary",style:{fontSize:"0.6rem",marginTop:"0.2rem"},children:"Quick wins for motivation. Person #4 first ($1k)."})]})]}),T.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"0.75rem"},children:[T.jsx("div",{style:{fontWeight:700,marginBottom:"0.4rem"},children:"Recommended Payoff Order (Avalanche):"}),(()=>{const U=[...kt].sort((At,wt)=>{if(At.to==="Credit Card")return-1;if(wt.to==="Credit Card")return 1;const Et=At.dueDate&&Number(At.dueDate)<new Date().getFullYear(),Gt=wt.dueDate&&Number(wt.dueDate)<new Date().getFullYear();return Et&&!Gt?-1:!Et&&Gt?1:At.amount-wt.amount});let Y=0;const pt=new Date;return U.map((At,wt)=>{const Et=Math.ceil(At.amount/1e3);Y+=Et;const Jt=new Date(pt.getTime()+Y*30*864e5).toLocaleDateString("en-US",{month:"short",year:"numeric"}),qt=At.dueDate&&Number(At.dueDate)<pt.getFullYear();return T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0",borderBottom:"1px solid var(--border)"},children:[T.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"50%",background:wt===0?"#a855f7":"rgba(255,255,255,0.08)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.55rem",fontWeight:800,color:wt===0?"#fff":"var(--text-secondary)",flexShrink:0},children:wt+1}),T.jsxs("div",{style:{flex:1},children:[T.jsxs("div",{style:{fontWeight:700},children:[At.to," ",qt?T.jsx("span",{style:{fontSize:"0.5rem",color:"var(--danger)",fontWeight:700},children:"OVERDUE"}):""," ",At.to==="Credit Card"?T.jsx("span",{style:{fontSize:"0.5rem",color:"#f97316",fontWeight:700},children:"HIGH INTEREST"}):""]}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.55rem"},children:[Et," month",Et>1?"s":""," @ $1,000/mo"]})]}),T.jsxs("div",{style:{textAlign:"right"},children:[T.jsx("div",{style:{fontWeight:800,color:"var(--danger)"},children:Q(At.amount)}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.5rem"},children:["Done by ",Jt]})]})]},At.id)})})()]}),T.jsx("div",{style:{position:"relative",height:"40px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",overflow:"hidden",marginBottom:"0.5rem"},children:(()=>{const U=[...kt].sort((wt,Et)=>{if(wt.to==="Credit Card")return-1;if(Et.to==="Credit Card")return 1;const Gt=wt.dueDate&&Number(wt.dueDate)<new Date().getFullYear(),Jt=Et.dueDate&&Number(Et.dueDate)<new Date().getFullYear();return Gt&&!Jt?-1:!Gt&&Jt?1:wt.amount-Et.amount}),Y=Math.ceil(K/1e3),pt=["#a855f7","#ef4444","#f97316","#eab308","#3b82f6","#10b981"];let At=0;return U.map((wt,Et)=>{const Gt=Math.ceil(wt.amount/1e3),Jt=Gt/Y*100,qt=At/Y*100;return At+=Gt,T.jsx("div",{title:`${wt.to}: ${Gt} months`,style:{position:"absolute",left:`${qt}%`,width:`${Jt}%`,height:"100%",background:pt[Et%pt.length],display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.45rem",fontWeight:700,color:"#fff",borderRight:"1px solid rgba(0,0,0,0.3)",transition:"all 1s ease"},children:Jt>8?wt.to.split(" ")[0]:""},wt.id)})})()}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.55rem",color:"var(--text-secondary)"},children:[T.jsx("span",{children:"Now"}),T.jsxs("span",{children:[" Debt Free: ",new Date(Date.now()+Math.ceil(K/1e3)*30*864e5).toLocaleDateString("en-US",{month:"short",year:"numeric"})]})]})]})]}),n==="map"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("header",{className:"mb-6",children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Route History"}),T.jsxs("p",{className:"text-secondary mt-1",children:[e.length," trips  ",V.totalMiles.toLocaleString()," loaded miles  ",Ct," deadhead miles"]})]}),T.jsx("div",{className:"glass-panel",style:{padding:0,overflow:"hidden",height:"600px",borderRadius:"16px"},children:T.jsxs(lX,{center:[37,-98],zoom:4,style:{height:"100%",width:"100%"},children:[T.jsx(dX,{attribution:' <a href="https://carto.com/">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),yt.lines.map((U,Y)=>T.jsx(uX,{positions:U,pathOptions:{color:"#3b82f6",weight:3,opacity:.7}},Y)),yt.pts.map((U,Y)=>T.jsx(cX,{position:[U.lat,U.lng],children:T.jsx(hX,{children:U.label})},Y))]})}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"0.75rem",marginTop:"1rem"},children:e.filter(U=>U.originCity).map(U=>{const Y=ng(U.distance,U.fuelRegion??"AVG");return T.jsxs("div",{className:"glass-panel",style:{padding:"1rem"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-accent font-medium",style:{fontSize:"0.85rem"},children:U.originCity}),T.jsxs("div",{className:"text-secondary",style:{fontSize:"0.75rem"},children:[" ",U.destCity]})]}),T.jsx("div",{className:"text-success font-bold",children:Q(U.totalPayout)})]}),T.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[T.jsxs("span",{children:[U.distance.toLocaleString()," mi"]}),T.jsxs("span",{children:[Q(U.ratePerMile),"/mi"]}),T.jsxs("span",{className:"text-danger",children:["Fuel: ",Q(Y)]}),U.deadheadMiles?T.jsxs("span",{style:{color:"#f97316"},children:["+",U.deadheadMiles," DH"]}):null]})]},U.id)})})]})]}),d&&T.jsx("div",{className:"overlay",onClick:U=>U.target===U.currentTarget&&f(!1),children:T.jsxs("div",{className:"modal animate-scale-in",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{className:"modal-title",children:"Record New Load"}),T.jsx("button",{className:"btn-icon",onClick:()=>f(!1),children:T.jsx(f0,{size:20})})]}),T.jsxs("form",{onSubmit:H,children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Date"}),T.jsx("input",{type:"date",name:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Load ID / BOL #"}),T.jsx("input",{type:"text",name:"loadId",required:!0,placeholder:"e.g. LD-1024"})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Broker / Customer"}),T.jsx("input",{type:"text",name:"broker",required:!0,placeholder:"e.g. TQL, CH Robinson"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Distance (Miles)"}),T.jsx("input",{type:"number",name:"distance",min:"1",required:!0,placeholder:"850"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Total Payout ($)"}),T.jsx("input",{type:"number",step:"0.01",min:"0",name:"totalPayout",required:!0,placeholder:"2500.00"})]})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{type:"button",className:"btn-icon",onClick:()=>f(!1),children:"Cancel"}),T.jsx("button",{type:"submit",className:"btn-primary",children:"Save Load"})]})]})]})}),C&&T.jsx("div",{className:"overlay",onClick:U=>U.target===U.currentTarget&&O(!1),children:T.jsxs("div",{className:"modal animate-scale-in",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{className:"modal-title",children:"Record Expense"}),T.jsx("button",{className:"btn-icon",onClick:()=>O(!1),children:T.jsx(f0,{size:20})})]}),T.jsxs("form",{onSubmit:it,children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Date"}),T.jsx("input",{type:"date",name:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Category"}),T.jsxs("select",{name:"category",required:!0,children:[T.jsx("option",{value:"Fuel",children:"Fuel & DEF"}),T.jsx("option",{value:"Deadhead",children:"Deadhead (Empty)"}),T.jsx("option",{value:"Maintenance",children:"Maintenance & Repairs"}),T.jsx("option",{value:"Insurance",children:"Insurance"}),T.jsx("option",{value:"Tolls",children:"Tolls & Scales"}),T.jsx("option",{value:"Truck Payment",children:"Truck Payment"}),T.jsx("option",{value:"Permits",children:"Permits & Licensing"}),T.jsx("option",{value:"Parking",children:"Parking & Rest Stops"}),T.jsx("option",{value:"ELD",children:"ELD / Subscriptions"}),T.jsx("option",{value:"Lumper",children:"Lumper Fees"}),T.jsx("option",{value:"IFTA",children:"IFTA / Fuel Tax"}),T.jsx("option",{value:"Dispatch",children:"Dispatch Fee"}),T.jsx("option",{value:"Lock Box",children:"Lock Box"}),T.jsx("option",{value:"Trailer",children:"Trailer Rental"}),T.jsx("option",{value:"Registration",children:"Truck Registration"}),T.jsx("option",{value:"Food",children:"Road Food"}),T.jsx("option",{value:"Other",children:"Other Operational"})]})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Description"}),T.jsx("input",{type:"text",name:"description",required:!0,placeholder:"e.g. Pilot Flying J - Dallas, TX"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Amount ($)"}),T.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",required:!0,placeholder:"450.00"})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{type:"button",className:"btn-icon",onClick:()=>O(!1),children:"Cancel"}),T.jsx("button",{type:"submit",className:"btn-primary",children:"Save Expense"})]})]})]})}),p&&T.jsx("div",{className:"overlay",onClick:U=>U.target===U.currentTarget&&v(!1),children:T.jsxs("div",{className:"modal animate-scale-in",style:{maxWidth:"650px"},children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{className:"modal-title",children:"Upload Document"}),T.jsx("button",{className:"btn-icon",onClick:()=>{v(!1),x("")},children:T.jsx(f0,{size:20})})]}),T.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1rem"},children:[T.jsxs("label",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.25rem",background:"rgba(59,130,246,0.06)",border:"2px dashed rgba(59,130,246,0.3)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},children:[T.jsx(d0,{size:24,style:{color:"var(--accent)",marginBottom:"0.5rem"}}),T.jsx("span",{style:{fontWeight:700,color:"var(--accent)",fontSize:"0.9rem"},children:"Upload PDF"}),T.jsx("span",{className:"text-secondary",style:{fontSize:"0.7rem",marginTop:"0.25rem"},children:"Manifest, BOL, Rate Con, Fuel Receipt"}),T.jsx("input",{type:"file",accept:".pdf",style:{display:"none"},onChange:U=>{const Y=U.target.files?.[0];Y&&xt(Y)}})]}),T.jsxs("label",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.25rem",background:"rgba(16,185,129,0.06)",border:"2px dashed rgba(16,185,129,0.3)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},children:[T.jsx(d0,{size:24,style:{color:"var(--success)",marginBottom:"0.5rem"}}),T.jsx("span",{style:{fontWeight:700,color:"var(--success)",fontSize:"0.9rem"},children:"Upload CSV"}),T.jsx("span",{className:"text-secondary",style:{fontSize:"0.7rem",marginTop:"0.25rem"},children:"date,origin,dest,miles,pay,broker"}),T.jsx("input",{type:"file",accept:".csv,.txt",style:{display:"none"},onChange:U=>{const Y=U.target.files?.[0];if(Y){const pt=new FileReader;pt.onload=At=>Zt(At.target?.result),pt.readAsText(Y)}}})]})]}),A&&T.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"var(--accent)"},children:"Extracting text from PDF..."}),T.jsx("p",{className:"text-secondary",style:{fontSize:"0.8rem",marginBottom:"0.5rem"},children:y?" Text extracted from PDF  review and edit, then click Import:":"Or paste data manually (CSV or raw text from a manifest):"}),T.jsx("textarea",{id:"manifest-text",rows:10,value:y,onChange:U=>x(U.target.value),placeholder:`Paste manifest/BOL text here, or upload a PDF above.

CSV format:
2026-03-01,Houston TX,Dallas TX,240,650,TQL
2026-03-03,Dallas TX,Denver CO,790,1800,CH Robinson

Or raw text - we'll show it for you to review.`,style:{width:"100%",padding:"0.75rem",background:"rgba(0,0,0,0.2)",border:"1px solid var(--border)",borderRadius:"8px",color:"var(--text-primary)",fontFamily:"monospace",fontSize:"0.8rem",resize:"vertical",lineHeight:1.5}}),T.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1rem",justifyContent:"flex-end"},children:[T.jsx("button",{style:{background:"rgba(255,255,255,0.05)",color:"var(--text-secondary)",border:"1px solid var(--border)",borderRadius:"8px",padding:"0.5rem 1rem",cursor:"pointer",fontSize:"0.85rem"},onClick:()=>{v(!1),x("")},children:"Cancel"}),T.jsx("button",{className:"btn-primary",onClick:()=>{y&&Zt(y)},children:"Import as Trips"})]})]})})]})}oI.createRoot(document.getElementById("root")).render(T.jsx(D.StrictMode,{children:T.jsx(wK,{})}));
